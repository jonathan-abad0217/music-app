(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function yv(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const _t={},Gs=[],Sr=()=>{},FR=()=>!1,VR=/^on[^a-z]/,uh=e=>VR.test(e),_v=e=>e.startsWith("onUpdate:"),Bt=Object.assign,wv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},UR=Object.prototype.hasOwnProperty,nt=(e,t)=>UR.call(e,t),Se=Array.isArray,zs=e=>mc(e)==="[object Map]",ch=e=>mc(e)==="[object Set]",zb=e=>mc(e)==="[object Date]",qe=e=>typeof e=="function",Dt=e=>typeof e=="string",qu=e=>typeof e=="symbol",ft=e=>e!==null&&typeof e=="object",qT=e=>ft(e)&&qe(e.then)&&qe(e.catch),$T=Object.prototype.toString,mc=e=>$T.call(e),jR=e=>mc(e).slice(8,-1),HT=e=>mc(e)==="[object Object]",bv=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cf=yv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},BR=/-(\w)/g,Wr=lh(e=>e.replace(BR,(t,n)=>n?n.toUpperCase():"")),qR=/\B([A-Z])/g,Ia=lh(e=>e.replace(qR,"-$1").toLowerCase()),fh=lh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vm=lh(e=>e?`on${fh(e)}`:""),$u=(e,t)=>!Object.is(e,t),lf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},bf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},KT=e=>{const t=parseFloat(e);return isNaN(t)?e:t},$R=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let Wb;const pg=()=>Wb||(Wb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Js(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Dt(r)?zR(r):Js(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Dt(e))return e;if(ft(e))return e}}const HR=/;(?![^(]*\))/g,KR=/:([^]+)/,GR=/\/\*[^]*?\*\//g;function zR(e){const t={};return e.replace(GR,"").split(HR).forEach(n=>{if(n){const r=n.split(KR);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function pn(e){let t="";if(Dt(e))t=e;else if(Se(e))for(let n=0;n<e.length;n++){const r=pn(e[n]);r&&(t+=r+" ")}else if(ft(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const WR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",XR=yv(WR);function GT(e){return!!e||e===""}function YR(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=hh(e[r],t[r]);return n}function hh(e,t){if(e===t)return!0;let n=zb(e),r=zb(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=qu(e),r=qu(t),n||r)return e===t;if(n=Se(e),r=Se(t),n||r)return n&&r?YR(e,t):!1;if(n=ft(e),r=ft(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(l&&!f||!l&&f||!hh(e[u],t[u]))return!1}}return String(e)===String(t)}function QR(e,t){return e.findIndex(n=>hh(n,t))}const Ut=e=>Dt(e)?e:e==null?"":Se(e)||ft(e)&&(e.toString===$T||!qe(e.toString))?JSON.stringify(e,zT,2):String(e),zT=(e,t)=>t&&t.__v_isRef?zT(e,t.value):zs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:ch(t)?{[`Set(${t.size})`]:[...t.values()]}:ft(t)&&!Se(t)&&!HT(t)?String(t):t;let Xn;class WT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xn,!t&&Xn&&(this.index=(Xn.scopes||(Xn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Xn;try{return Xn=this,t()}finally{Xn=n}}}on(){Xn=this}off(){Xn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function XT(e){return new WT(e)}function JR(e,t=Xn){t&&t.active&&t.effects.push(e)}function YT(){return Xn}function ZR(e){Xn&&Xn.cleanups.push(e)}const Ev=e=>{const t=new Set(e);return t.w=0,t.n=0,t},QT=e=>(e.w&Gi)>0,JT=e=>(e.n&Gi)>0,eP=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Gi},tP=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];QT(o)&&!JT(o)?o.delete(e):t[n++]=o,o.w&=~Gi,o.n&=~Gi}t.length=n}},Ef=new WeakMap;let Au=0,Gi=1;const mg=30;let Ir;const jo=Symbol(""),gg=Symbol("");class Iv{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,JR(this,r)}run(){if(!this.active)return this.fn();let t=Ir,n=Bi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ir,Ir=this,Bi=!0,Gi=1<<++Au,Au<=mg?eP(this):Xb(this),this.fn()}finally{Au<=mg&&tP(this),Gi=1<<--Au,Ir=this.parent,Bi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ir===this?this.deferStop=!0:this.active&&(Xb(this),this.onStop&&this.onStop(),this.active=!1)}}function Xb(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Bi=!0;const ZT=[];function Ta(){ZT.push(Bi),Bi=!1}function Sa(){const e=ZT.pop();Bi=e===void 0?!0:e}function Bn(e,t,n){if(Bi&&Ir){let r=Ef.get(e);r||Ef.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Ev()),eS(o)}}function eS(e,t){let n=!1;Au<=mg?JT(e)||(e.n|=Gi,n=!QT(e)):n=!e.has(Ir),n&&(e.add(Ir),Ir.deps.push(e))}function li(e,t,n,r,o,s){const u=Ef.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&Se(e)){const f=Number(r);u.forEach((p,g)=>{(g==="length"||g>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":Se(e)?bv(n)&&l.push(u.get("length")):(l.push(u.get(jo)),zs(e)&&l.push(u.get(gg)));break;case"delete":Se(e)||(l.push(u.get(jo)),zs(e)&&l.push(u.get(gg)));break;case"set":zs(e)&&l.push(u.get(jo));break}if(l.length===1)l[0]&&vg(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);vg(Ev(f))}}function vg(e,t){const n=Se(e)?e:[...e];for(const r of n)r.computed&&Yb(r);for(const r of n)r.computed||Yb(r)}function Yb(e,t){(e!==Ir||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function nP(e,t){var n;return(n=Ef.get(e))==null?void 0:n.get(t)}const rP=yv("__proto__,__v_isRef,__isVue"),tS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qu)),iP=Tv(),oP=Tv(!1,!0),sP=Tv(!0),Qb=aP();function aP(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=tt(this);for(let s=0,u=this.length;s<u;s++)Bn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(tt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ta();const r=tt(this)[t].apply(this,n);return Sa(),r}}),e}function uP(e){const t=tt(this);return Bn(t,"has",e),t.hasOwnProperty(e)}function Tv(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?TP:sS:t?oS:iS).get(r))return r;const u=Se(r);if(!e){if(u&&nt(Qb,o))return Reflect.get(Qb,o,s);if(o==="hasOwnProperty")return uP}const l=Reflect.get(r,o,s);return(qu(o)?tS.has(o):rP(o))||(e||Bn(r,"get",o),t)?l:dt(l)?u&&bv(o)?l:l.value:ft(l)?e?kv(l):fi(l):l}}const cP=nS(),lP=nS(!0);function nS(e=!1){return function(n,r,o,s){let u=n[r];if(Zs(u)&&dt(u)&&!dt(o))return!1;if(!e&&(!If(o)&&!Zs(o)&&(u=tt(u),o=tt(o)),!Se(n)&&dt(u)&&!dt(o)))return u.value=o,!0;const l=Se(n)&&bv(r)?Number(r)<n.length:nt(n,r),f=Reflect.set(n,r,o,s);return n===tt(s)&&(l?$u(o,u)&&li(n,"set",r,o):li(n,"add",r,o)),f}}function fP(e,t){const n=nt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&li(e,"delete",t,void 0),r}function hP(e,t){const n=Reflect.has(e,t);return(!qu(t)||!tS.has(t))&&Bn(e,"has",t),n}function dP(e){return Bn(e,"iterate",Se(e)?"length":jo),Reflect.ownKeys(e)}const rS={get:iP,set:cP,deleteProperty:fP,has:hP,ownKeys:dP},pP={get:sP,set(e,t){return!0},deleteProperty(e,t){return!0}},mP=Bt({},rS,{get:oP,set:lP}),Sv=e=>e,dh=e=>Reflect.getPrototypeOf(e);function ql(e,t,n=!1,r=!1){e=e.__v_raw;const o=tt(e),s=tt(t);n||(t!==s&&Bn(o,"get",t),Bn(o,"get",s));const{has:u}=dh(o),l=r?Sv:n?Cv:Hu;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function $l(e,t=!1){const n=this.__v_raw,r=tt(n),o=tt(e);return t||(e!==o&&Bn(r,"has",e),Bn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Hl(e,t=!1){return e=e.__v_raw,!t&&Bn(tt(e),"iterate",jo),Reflect.get(e,"size",e)}function Jb(e){e=tt(e);const t=tt(this);return dh(t).has.call(t,e)||(t.add(e),li(t,"add",e,e)),this}function Zb(e,t){t=tt(t);const n=tt(this),{has:r,get:o}=dh(n);let s=r.call(n,e);s||(e=tt(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?$u(t,u)&&li(n,"set",e,t):li(n,"add",e,t),this}function eE(e){const t=tt(this),{has:n,get:r}=dh(t);let o=n.call(t,e);o||(e=tt(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&li(t,"delete",e,void 0),s}function tE(){const e=tt(this),t=e.size!==0,n=e.clear();return t&&li(e,"clear",void 0,void 0),n}function Kl(e,t){return function(r,o){const s=this,u=s.__v_raw,l=tt(u),f=t?Sv:e?Cv:Hu;return!e&&Bn(l,"iterate",jo),u.forEach((p,g)=>r.call(o,f(p),f(g),s))}}function Gl(e,t,n){return function(...r){const o=this.__v_raw,s=tt(o),u=zs(s),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,p=o[e](...r),g=n?Sv:t?Cv:Hu;return!t&&Bn(s,"iterate",f?gg:jo),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[g(h[0]),g(h[1])]:g(h),done:m}},[Symbol.iterator](){return this}}}}function Ti(e){return function(...t){return e==="delete"?!1:this}}function gP(){const e={get(s){return ql(this,s)},get size(){return Hl(this)},has:$l,add:Jb,set:Zb,delete:eE,clear:tE,forEach:Kl(!1,!1)},t={get(s){return ql(this,s,!1,!0)},get size(){return Hl(this)},has:$l,add:Jb,set:Zb,delete:eE,clear:tE,forEach:Kl(!1,!0)},n={get(s){return ql(this,s,!0)},get size(){return Hl(this,!0)},has(s){return $l.call(this,s,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:Kl(!0,!1)},r={get(s){return ql(this,s,!0,!0)},get size(){return Hl(this,!0)},has(s){return $l.call(this,s,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:Kl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Gl(s,!1,!1),n[s]=Gl(s,!0,!1),t[s]=Gl(s,!1,!0),r[s]=Gl(s,!0,!0)}),[e,n,t,r]}const[vP,yP,_P,wP]=gP();function Av(e,t){const n=t?e?wP:_P:e?yP:vP;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(nt(n,o)&&o in r?n:r,o,s)}const bP={get:Av(!1,!1)},EP={get:Av(!1,!0)},IP={get:Av(!0,!1)},iS=new WeakMap,oS=new WeakMap,sS=new WeakMap,TP=new WeakMap;function SP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AP(e){return e.__v_skip||!Object.isExtensible(e)?0:SP(jR(e))}function fi(e){return Zs(e)?e:xv(e,!1,rS,bP,iS)}function aS(e){return xv(e,!1,mP,EP,oS)}function kv(e){return xv(e,!0,pP,IP,sS)}function xv(e,t,n,r,o){if(!ft(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=AP(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return o.set(e,l),l}function qi(e){return Zs(e)?qi(e.__v_raw):!!(e&&e.__v_isReactive)}function Zs(e){return!!(e&&e.__v_isReadonly)}function If(e){return!!(e&&e.__v_isShallow)}function uS(e){return qi(e)||Zs(e)}function tt(e){const t=e&&e.__v_raw;return t?tt(t):e}function ph(e){return bf(e,"__v_skip",!0),e}const Hu=e=>ft(e)?fi(e):e,Cv=e=>ft(e)?kv(e):e;function cS(e){Bi&&Ir&&(e=tt(e),eS(e.dep||(e.dep=Ev())))}function lS(e,t){e=tt(e);const n=e.dep;n&&vg(n)}function dt(e){return!!(e&&e.__v_isRef===!0)}function Sn(e){return hS(e,!1)}function fS(e){return hS(e,!0)}function hS(e,t){return dt(e)?e:new kP(e,t)}class kP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:tt(t),this._value=n?t:Hu(t)}get value(){return cS(this),this._value}set value(t){const n=this.__v_isShallow||If(t)||Zs(t);t=n?t:tt(t),$u(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Hu(t),lS(this))}}function Je(e){return dt(e)?e.value:e}function St(e){return qe(e)?e():Je(e)}const xP={get:(e,t,n)=>Je(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return dt(o)&&!dt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function dS(e){return qi(e)?e:new Proxy(e,xP)}function CP(e){const t=Se(e)?new Array(e.length):{};for(const n in e)t[n]=pS(e,n);return t}class NP{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return nP(tt(this._object),this._key)}}class OP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Li(e,t,n){return dt(e)?e:qe(e)?new OP(e):ft(e)&&arguments.length>1?pS(e,t,n):Sn(e)}function pS(e,t,n){const r=e[t];return dt(r)?r:new NP(e,t,n)}class RP{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Iv(t,()=>{this._dirty||(this._dirty=!0,lS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=tt(this);return cS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function PP(e,t,n=!1){let r,o;const s=qe(e);return s?(r=e,o=Sr):(r=e.get,o=e.set),new RP(r,o,s||!o,n)}function $i(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){mh(s,t,n)}return o}function dr(e,t,n,r){if(qe(e)){const s=$i(e,t,n,r);return s&&qT(s)&&s.catch(u=>{mh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(dr(e[s],t,n,r));return o}function mh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,u,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){$i(f,null,10,[e,u,l]);return}}DP(e,n,o,r)}function DP(e,t,n,r=!0){console.error(e)}let Ku=!1,yg=!1;const dn=[];let $r=0;const Ws=[];let ri=null,Oo=0;const mS=Promise.resolve();let Nv=null;function Br(e){const t=Nv||mS;return e?t.then(this?e.bind(this):e):t}function LP(e){let t=$r+1,n=dn.length;for(;t<n;){const r=t+n>>>1;Gu(dn[r])<e?t=r+1:n=r}return t}function Ov(e){(!dn.length||!dn.includes(e,Ku&&e.allowRecurse?$r+1:$r))&&(e.id==null?dn.push(e):dn.splice(LP(e.id),0,e),gS())}function gS(){!Ku&&!yg&&(yg=!0,Nv=mS.then(yS))}function MP(e){const t=dn.indexOf(e);t>$r&&dn.splice(t,1)}function FP(e){Se(e)?Ws.push(...e):(!ri||!ri.includes(e,e.allowRecurse?Oo+1:Oo))&&Ws.push(e),gS()}function nE(e,t=Ku?$r+1:0){for(;t<dn.length;t++){const n=dn[t];n&&n.pre&&(dn.splice(t,1),t--,n())}}function vS(e){if(Ws.length){const t=[...new Set(Ws)];if(Ws.length=0,ri){ri.push(...t);return}for(ri=t,ri.sort((n,r)=>Gu(n)-Gu(r)),Oo=0;Oo<ri.length;Oo++)ri[Oo]();ri=null,Oo=0}}const Gu=e=>e.id==null?1/0:e.id,VP=(e,t)=>{const n=Gu(e)-Gu(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function yS(e){yg=!1,Ku=!0,dn.sort(VP);const t=Sr;try{for($r=0;$r<dn.length;$r++){const n=dn[$r];n&&n.active!==!1&&$i(n,null,14)}}finally{$r=0,dn.length=0,vS(),Ku=!1,Nv=null,(dn.length||Ws.length)&&yS()}}function UP(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||_t;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:m}=r[g]||_t;m&&(o=n.map(y=>Dt(y)?y.trim():y)),h&&(o=n.map(KT))}let l,f=r[l=Vm(t)]||r[l=Vm(Wr(t))];!f&&s&&(f=r[l=Vm(Ia(t))]),f&&dr(f,e,6,o);const p=r[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,dr(p,e,6,o)}}function _S(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!qe(e)){const f=p=>{const g=_S(p,t,!0);g&&(l=!0,Bt(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(ft(e)&&r.set(e,null),null):(Se(s)?s.forEach(f=>u[f]=null):Bt(u,s),ft(e)&&r.set(e,u),u)}function gh(e,t){return!e||!uh(t)?!1:(t=t.slice(2).replace(/Once$/,""),nt(e,t[0].toLowerCase()+t.slice(1))||nt(e,Ia(t))||nt(e,t))}let Fn=null,wS=null;function Tf(e){const t=Fn;return Fn=e,wS=e&&e.type.__scopeId||null,t}function Un(e,t=Fn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&pE(-1);const s=Tf(t);let u;try{u=e(...o)}finally{Tf(s),r._d&&pE(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function Um(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:f,emit:p,render:g,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:E}=e;let I,T;const C=Tf(e);try{if(n.shapeFlag&4){const D=o||r;I=qr(g.call(D,D,h,s,y,m,_)),T=f}else{const D=t;I=qr(D.length>1?D(s,{attrs:f,slots:l,emit:p}):D(s,null)),T=t.props?f:jP(f)}}catch(D){Ru.length=0,mh(D,e,1),I=ke(Ar)}let P=I;if(T&&E!==!1){const D=Object.keys(T),{shapeFlag:W}=P;D.length&&W&7&&(u&&D.some(_v)&&(T=BP(T,u)),P=zi(P,T))}return n.dirs&&(P=zi(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),I=P,Tf(C),I}const jP=e=>{let t;for(const n in e)(n==="class"||n==="style"||uh(n))&&((t||(t={}))[n]=e[n]);return t},BP=(e,t)=>{const n={};for(const r in e)(!_v(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function qP(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?rE(r,u,p):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const m=g[h];if(u[m]!==r[m]&&!gh(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?rE(r,u,p):!0:!!u;return!1}function rE(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!gh(n,s))return!0}return!1}function $P({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const HP=e=>e.__isSuspense;function KP(e,t){t&&t.pendingBranch?Se(e)?t.effects.push(...e):t.effects.push(e):FP(e)}function GP(e,t){return Rv(e,null,t)}const zl={};function tr(e,t,n){return Rv(e,t,n)}function Rv(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=_t){var l;const f=YT()===((l=zt)==null?void 0:l.scope)?zt:null;let p,g=!1,h=!1;if(dt(e)?(p=()=>e.value,g=If(e)):qi(e)?(p=()=>e,r=!0):Se(e)?(h=!0,g=e.some(D=>qi(D)||If(D)),p=()=>e.map(D=>{if(dt(D))return D.value;if(qi(D))return Lo(D);if(qe(D))return $i(D,f,2)})):qe(e)?t?p=()=>$i(e,f,2):p=()=>{if(!(f&&f.isUnmounted))return m&&m(),dr(e,f,3,[y])}:p=Sr,t&&r){const D=p;p=()=>Lo(D())}let m,y=D=>{m=C.onStop=()=>{$i(D,f,4)}},_;if(Xu)if(y=Sr,t?n&&dr(t,f,3,[p(),h?[]:void 0,y]):p(),o==="sync"){const D=UD();_=D.__watcherHandles||(D.__watcherHandles=[])}else return Sr;let E=h?new Array(e.length).fill(zl):zl;const I=()=>{if(!!C.active)if(t){const D=C.run();(r||g||(h?D.some((W,V)=>$u(W,E[V])):$u(D,E)))&&(m&&m(),dr(t,f,3,[D,E===zl?void 0:h&&E[0]===zl?[]:E,y]),E=D)}else C.run()};I.allowRecurse=!!t;let T;o==="sync"?T=I:o==="post"?T=()=>Ln(I,f&&f.suspense):(I.pre=!0,f&&(I.id=f.uid),T=()=>Ov(I));const C=new Iv(p,T);t?n?I():E=C.run():o==="post"?Ln(C.run.bind(C),f&&f.suspense):C.run();const P=()=>{C.stop(),f&&f.scope&&wv(f.scope.effects,C)};return _&&_.push(P),P}function zP(e,t,n){const r=this.proxy,o=Dt(e)?e.includes(".")?bS(r,e):()=>r[e]:e.bind(r,r);let s;qe(t)?s=t:(s=t.handler,n=t);const u=zt;ta(this);const l=Rv(o,s.bind(r),n);return u?ta(u):qo(),l}function bS(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Lo(e,t){if(!ft(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),dt(e))Lo(e.value,t);else if(Se(e))for(let n=0;n<e.length;n++)Lo(e[n],t);else if(ch(e)||zs(e))e.forEach(n=>{Lo(n,t)});else if(HT(e))for(const n in e)Lo(e[n],t);return e}function _g(e,t){const n=Fn;if(n===null)return e;const r=Ih(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,f,p=_t]=t[s];u&&(qe(u)&&(u={mounted:u,updated:u}),u.deep&&Lo(l),o.push({dir:u,instance:r,value:l,oldValue:void 0,arg:f,modifiers:p}))}return e}function To(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let f=l.dir[r];f&&(Ta(),dr(f,n,8,[e.el,l,e,t]),Sa())}}function WP(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _h(()=>{e.isMounted=!0}),Pv(()=>{e.isUnmounting=!0}),e}const cr=[Function,Array],ES={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cr,onEnter:cr,onAfterEnter:cr,onEnterCancelled:cr,onBeforeLeave:cr,onLeave:cr,onAfterLeave:cr,onLeaveCancelled:cr,onBeforeAppear:cr,onAppear:cr,onAfterAppear:cr,onAppearCancelled:cr},XP={name:"BaseTransition",props:ES,setup(e,{slots:t}){const n=yc(),r=WP();let o;return()=>{const s=t.default&&TS(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const E of s)if(E.type!==Ar){u=E;break}}const l=tt(e),{mode:f}=l;if(r.isLeaving)return jm(u);const p=iE(u);if(!p)return jm(u);const g=wg(p,l,r,n);bg(p,g);const h=n.subTree,m=h&&iE(h);let y=!1;const{getTransitionKey:_}=p.type;if(_){const E=_();o===void 0?o=E:E!==o&&(o=E,y=!0)}if(m&&m.type!==Ar&&(!Ro(p,m)||y)){const E=wg(m,l,r,n);if(bg(m,E),f==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},jm(u);f==="in-out"&&p.type!==Ar&&(E.delayLeave=(I,T,C)=>{const P=IS(r,m);P[String(m.key)]=m,I._leaveCb=()=>{T(),I._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=C})}return u}}},YP=XP;function IS(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function wg(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:p,onEnterCancelled:g,onBeforeLeave:h,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:E,onAppear:I,onAfterAppear:T,onAppearCancelled:C}=t,P=String(e.key),D=IS(n,e),W=(F,$)=>{F&&dr(F,r,9,$)},V=(F,$)=>{const k=$[1];W(F,$),Se(F)?F.every(Ne=>Ne.length<=1)&&k():F.length<=1&&k()},ce={mode:s,persisted:u,beforeEnter(F){let $=l;if(!n.isMounted)if(o)$=E||l;else return;F._leaveCb&&F._leaveCb(!0);const k=D[P];k&&Ro(e,k)&&k.el._leaveCb&&k.el._leaveCb(),W($,[F])},enter(F){let $=f,k=p,Ne=g;if(!n.isMounted)if(o)$=I||f,k=T||p,Ne=C||g;else return;let oe=!1;const xe=F._enterCb=Ue=>{oe||(oe=!0,Ue?W(Ne,[F]):W(k,[F]),ce.delayedLeave&&ce.delayedLeave(),F._enterCb=void 0)};$?V($,[F,xe]):xe()},leave(F,$){const k=String(e.key);if(F._enterCb&&F._enterCb(!0),n.isUnmounting)return $();W(h,[F]);let Ne=!1;const oe=F._leaveCb=xe=>{Ne||(Ne=!0,$(),xe?W(_,[F]):W(y,[F]),F._leaveCb=void 0,D[k]===e&&delete D[k])};D[k]=e,m?V(m,[F,oe]):oe()},clone(F){return wg(F,t,n,r)}};return ce}function jm(e){if(vh(e))return e=zi(e),e.children=null,e}function iE(e){return vh(e)?e.children?e.children[0]:void 0:e}function bg(e,t){e.shapeFlag&6&&e.component?bg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function TS(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const l=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Gt?(u.patchFlag&128&&o++,r=r.concat(TS(u.children,t,l))):(t||u.type!==Ar)&&r.push(l!=null?zi(u,{key:l}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function gc(e,t){return qe(e)?(()=>Bt({name:e.name},t,{setup:e}))():e}const ff=e=>!!e.type.__asyncLoader,vh=e=>e.type.__isKeepAlive;function QP(e,t){SS(e,"a",t)}function JP(e,t){SS(e,"da",t)}function SS(e,t,n=zt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(yh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)vh(o.parent.vnode)&&ZP(r,t,n,o),o=o.parent}}function ZP(e,t,n,r){const o=yh(t,e,r,!0);AS(()=>{wv(r[t],o)},n)}function yh(e,t,n=zt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Ta(),ta(n);const l=dr(t,n,e,u);return qo(),Sa(),l});return r?o.unshift(s):o.push(s),s}}const di=e=>(t,n=zt)=>(!Xu||e==="sp")&&yh(e,(...r)=>t(...r),n),eD=di("bm"),_h=di("m"),tD=di("bu"),nD=di("u"),Pv=di("bum"),AS=di("um"),rD=di("sp"),iD=di("rtg"),oD=di("rtc");function sD(e,t=zt){yh("ec",e,t)}const Dv="components";function kt(e,t){return xS(Dv,e,!0,t)||e}const kS=Symbol.for("v-ndc");function wh(e){return Dt(e)?xS(Dv,e,!1)||e:e||kS}function xS(e,t,n=!0,r=!1){const o=Fn||zt;if(o){const s=o.type;if(e===Dv){const l=MD(s,!1);if(l&&(l===t||l===Wr(t)||l===fh(Wr(t))))return s}const u=oE(o[e]||s[e],t)||oE(o.appContext[e],t);return!u&&r?s:u}}function oE(e,t){return e&&(e[t]||e[Wr(t)]||e[fh(Wr(t))])}function vc(e,t,n,r){let o;const s=n&&n[r];if(Se(e)||Dt(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(ft(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const p=u[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const Eg=e=>e?jS(e)?Ih(e)||e.proxy:Eg(e.parent):null,Ou=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Eg(e.parent),$root:e=>Eg(e.root),$emit:e=>e.emit,$options:e=>Lv(e),$forceUpdate:e=>e.f||(e.f=()=>Ov(e.update)),$nextTick:e=>e.n||(e.n=Br.bind(e.proxy)),$watch:e=>zP.bind(e)}),Bm=(e,t)=>e!==_t&&!e.__isScriptSetup&&nt(e,t),aD={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Bm(r,t))return u[t]=1,r[t];if(o!==_t&&nt(o,t))return u[t]=2,o[t];if((p=e.propsOptions[0])&&nt(p,t))return u[t]=3,s[t];if(n!==_t&&nt(n,t))return u[t]=4,n[t];Ig&&(u[t]=0)}}const g=Ou[t];let h,m;if(g)return t==="$attrs"&&Bn(e,"get",t),g(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==_t&&nt(n,t))return u[t]=4,n[t];if(m=f.config.globalProperties,nt(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Bm(o,t)?(o[t]=n,!0):r!==_t&&nt(r,t)?(r[t]=n,!0):nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==_t&&nt(e,u)||Bm(t,u)||(l=s[0])&&nt(l,u)||nt(r,u)||nt(Ou,u)||nt(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function sE(e){return Se(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ig=!0;function uD(e){const t=Lv(e),n=e.proxy,r=e.ctx;Ig=!1,t.beforeCreate&&aE(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:f,inject:p,created:g,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:E,deactivated:I,beforeDestroy:T,beforeUnmount:C,destroyed:P,unmounted:D,render:W,renderTracked:V,renderTriggered:ce,errorCaptured:F,serverPrefetch:$,expose:k,inheritAttrs:Ne,components:oe,directives:xe,filters:Ue}=t;if(p&&cD(p,r,null),u)for(const je in u){const ve=u[je];qe(ve)&&(r[je]=ve.bind(n))}if(o){const je=o.call(n,n);ft(je)&&(e.data=fi(je))}if(Ig=!0,s)for(const je in s){const ve=s[je],gt=qe(ve)?ve.bind(n,n):qe(ve.get)?ve.get.bind(n,n):Sr,xt=!qe(ve)&&qe(ve.set)?ve.set.bind(n):Sr,Ht=Ge({get:gt,set:xt});Object.defineProperty(r,je,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:Lt=>Ht.value=Lt})}if(l)for(const je in l)CS(l[je],r,n,je);if(f){const je=qe(f)?f.call(n):f;Reflect.ownKeys(je).forEach(ve=>{Xs(ve,je[ve])})}g&&aE(g,e,"c");function ue(je,ve){Se(ve)?ve.forEach(gt=>je(gt.bind(n))):ve&&je(ve.bind(n))}if(ue(eD,h),ue(_h,m),ue(tD,y),ue(nD,_),ue(QP,E),ue(JP,I),ue(sD,F),ue(oD,V),ue(iD,ce),ue(Pv,C),ue(AS,D),ue(rD,$),Se(k))if(k.length){const je=e.exposed||(e.exposed={});k.forEach(ve=>{Object.defineProperty(je,ve,{get:()=>n[ve],set:gt=>n[ve]=gt})})}else e.exposed||(e.exposed={});W&&e.render===Sr&&(e.render=W),Ne!=null&&(e.inheritAttrs=Ne),oe&&(e.components=oe),xe&&(e.directives=xe)}function cD(e,t,n=Sr){Se(e)&&(e=Tg(e));for(const r in e){const o=e[r];let s;ft(o)?"default"in o?s=pr(o.from||r,o.default,!0):s=pr(o.from||r):s=pr(o),dt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function aE(e,t,n){dr(Se(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function CS(e,t,n,r){const o=r.includes(".")?bS(n,r):()=>n[r];if(Dt(e)){const s=t[e];qe(s)&&tr(o,s)}else if(qe(e))tr(o,e.bind(n));else if(ft(e))if(Se(e))e.forEach(s=>CS(s,t,n,r));else{const s=qe(e.handler)?e.handler.bind(n):t[e.handler];qe(s)&&tr(o,s,e)}}function Lv(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(p=>Sf(f,p,u,!0)),Sf(f,t,u)),ft(t)&&s.set(t,f),f}function Sf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Sf(e,s,n,!0),o&&o.forEach(u=>Sf(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=lD[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const lD={data:uE,props:cE,emits:cE,methods:ku,computed:ku,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:ku,directives:ku,watch:hD,provide:uE,inject:fD};function uE(e,t){return t?e?function(){return Bt(qe(e)?e.call(this,this):e,qe(t)?t.call(this,this):t)}:t:e}function fD(e,t){return ku(Tg(e),Tg(t))}function Tg(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function En(e,t){return e?[...new Set([].concat(e,t))]:t}function ku(e,t){return e?Bt(Object.create(null),e,t):t}function cE(e,t){return e?Se(e)&&Se(t)?[...new Set([...e,...t])]:Bt(Object.create(null),sE(e),sE(t!=null?t:{})):t}function hD(e,t){if(!e)return t;if(!t)return e;const n=Bt(Object.create(null),e);for(const r in t)n[r]=En(e[r],t[r]);return n}function NS(){return{app:null,config:{isNativeTag:FR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dD=0;function pD(e,t){return function(r,o=null){qe(r)||(r=Bt({},r)),o!=null&&!ft(o)&&(o=null);const s=NS(),u=new Set;let l=!1;const f=s.app={_uid:dD++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:jD,get config(){return s.config},set config(p){},use(p,...g){return u.has(p)||(p&&qe(p.install)?(u.add(p),p.install(f,...g)):qe(p)&&(u.add(p),p(f,...g))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,g){return g?(s.components[p]=g,f):s.components[p]},directive(p,g){return g?(s.directives[p]=g,f):s.directives[p]},mount(p,g,h){if(!l){const m=ke(r,o);return m.appContext=s,g&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,Ih(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,g){return s.provides[p]=g,f},runWithContext(p){zu=f;try{return p()}finally{zu=null}}};return f}}let zu=null;function Xs(e,t){if(zt){let n=zt.provides;const r=zt.parent&&zt.parent.provides;r===n&&(n=zt.provides=Object.create(r)),n[e]=t}}function pr(e,t,n=!1){const r=zt||Fn;if(r||zu){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:zu._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&qe(t)?t.call(r&&r.proxy):t}}function mD(){return!!(zt||Fn||zu)}function gD(e,t,n,r=!1){const o={},s={};bf(s,Eh,1),e.propsDefaults=Object.create(null),OS(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:aS(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function vD(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=tt(o),[f]=e.propsOptions;let p=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let m=g[h];if(gh(e.emitsOptions,m))continue;const y=t[m];if(f)if(nt(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=Wr(m);o[_]=Sg(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{OS(e,t,o,s)&&(p=!0);let g;for(const h in l)(!t||!nt(t,h)&&((g=Ia(h))===h||!nt(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=Sg(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!nt(t,h)&&!0)&&(delete s[h],p=!0)}p&&li(e,"set","$attrs")}function OS(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(cf(f))continue;const p=t[f];let g;o&&nt(o,g=Wr(f))?!s||!s.includes(g)?n[g]=p:(l||(l={}))[g]=p:gh(e.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,u=!0)}if(s){const f=tt(n),p=l||_t;for(let g=0;g<s.length;g++){const h=s[g];n[h]=Sg(o,f,h,p[h],e,!nt(p,h))}}return u}function Sg(e,t,n,r,o,s){const u=e[n];if(u!=null){const l=nt(u,"default");if(l&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&qe(f)){const{propsDefaults:p}=o;n in p?r=p[n]:(ta(o),r=p[n]=f.call(null,t),qo())}else r=f}u[0]&&(s&&!l?r=!1:u[1]&&(r===""||r===Ia(n))&&(r=!0))}return r}function RS(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},l=[];let f=!1;if(!qe(e)){const g=h=>{f=!0;const[m,y]=RS(h,t,!0);Bt(u,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return ft(e)&&r.set(e,Gs),Gs;if(Se(s))for(let g=0;g<s.length;g++){const h=Wr(s[g]);lE(h)&&(u[h]=_t)}else if(s)for(const g in s){const h=Wr(g);if(lE(h)){const m=s[g],y=u[h]=Se(m)||qe(m)?{type:m}:Bt({},m);if(y){const _=dE(Boolean,y.type),E=dE(String,y.type);y[0]=_>-1,y[1]=E<0||_<E,(_>-1||nt(y,"default"))&&l.push(h)}}}const p=[u,l];return ft(e)&&r.set(e,p),p}function lE(e){return e[0]!=="$"}function fE(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function hE(e,t){return fE(e)===fE(t)}function dE(e,t){return Se(t)?t.findIndex(n=>hE(n,e)):qe(t)&&hE(t,e)?0:-1}const PS=e=>e[0]==="_"||e==="$stable",Mv=e=>Se(e)?e.map(qr):[qr(e)],yD=(e,t,n)=>{if(t._n)return t;const r=Un((...o)=>Mv(t(...o)),n);return r._c=!1,r},DS=(e,t,n)=>{const r=e._ctx;for(const o in e){if(PS(o))continue;const s=e[o];if(qe(s))t[o]=yD(o,s,r);else if(s!=null){const u=Mv(s);t[o]=()=>u}}},LS=(e,t)=>{const n=Mv(t);e.slots.default=()=>n},_D=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=tt(t),bf(t,"_",n)):DS(t,e.slots={})}else e.slots={},t&&LS(e,t);bf(e.slots,Eh,1)},wD=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=_t;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Bt(o,t),!n&&l===1&&delete o._):(s=!t.$stable,DS(t,o)),u=t}else t&&(LS(e,t),u={default:1});if(s)for(const l in o)!PS(l)&&!(l in u)&&delete o[l]};function Ag(e,t,n,r,o=!1){if(Se(e)){e.forEach((m,y)=>Ag(m,t&&(Se(t)?t[y]:t),n,r,o));return}if(ff(r)&&!o)return;const s=r.shapeFlag&4?Ih(r.component)||r.component.proxy:r.el,u=o?null:s,{i:l,r:f}=e,p=t&&t.r,g=l.refs===_t?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&(Dt(p)?(g[p]=null,nt(h,p)&&(h[p]=null)):dt(p)&&(p.value=null)),qe(f))$i(f,l,12,[u,g]);else{const m=Dt(f),y=dt(f);if(m||y){const _=()=>{if(e.f){const E=m?nt(h,f)?h[f]:g[f]:f.value;o?Se(E)&&wv(E,s):Se(E)?E.includes(s)||E.push(s):m?(g[f]=[s],nt(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else m?(g[f]=u,nt(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,Ln(_,n)):_()}}}const Ln=KP;function bD(e){return ED(e)}function ED(e,t){const n=pg();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:l,createComment:f,setText:p,setElementText:g,parentNode:h,nextSibling:m,setScopeId:y=Sr,insertStaticContent:_}=e,E=(A,x,R,B=null,q=null,Y=null,ie=!1,Z=null,ne=!!x.dynamicChildren)=>{if(A===x)return;A&&!Ro(A,x)&&(B=L(A),Lt(A,q,Y,!0),A=null),x.patchFlag===-2&&(ne=!1,x.dynamicChildren=null);const{type:J,ref:be,shapeFlag:fe}=x;switch(J){case bh:I(A,x,R,B);break;case Ar:T(A,x,R,B);break;case hf:A==null&&C(x,R,B,ie);break;case Gt:oe(A,x,R,B,q,Y,ie,Z,ne);break;default:fe&1?W(A,x,R,B,q,Y,ie,Z,ne):fe&6?xe(A,x,R,B,q,Y,ie,Z,ne):(fe&64||fe&128)&&J.process(A,x,R,B,q,Y,ie,Z,ne,te)}be!=null&&q&&Ag(be,A&&A.ref,Y,x||A,!x)},I=(A,x,R,B)=>{if(A==null)r(x.el=l(x.children),R,B);else{const q=x.el=A.el;x.children!==A.children&&p(q,x.children)}},T=(A,x,R,B)=>{A==null?r(x.el=f(x.children||""),R,B):x.el=A.el},C=(A,x,R,B)=>{[A.el,A.anchor]=_(A.children,x,R,B,A.el,A.anchor)},P=({el:A,anchor:x},R,B)=>{let q;for(;A&&A!==x;)q=m(A),r(A,R,B),A=q;r(x,R,B)},D=({el:A,anchor:x})=>{let R;for(;A&&A!==x;)R=m(A),o(A),A=R;o(x)},W=(A,x,R,B,q,Y,ie,Z,ne)=>{ie=ie||x.type==="svg",A==null?V(x,R,B,q,Y,ie,Z,ne):$(A,x,q,Y,ie,Z,ne)},V=(A,x,R,B,q,Y,ie,Z)=>{let ne,J;const{type:be,props:fe,shapeFlag:_e,transition:Oe,dirs:Ke}=A;if(ne=A.el=u(A.type,Y,fe&&fe.is,fe),_e&8?g(ne,A.children):_e&16&&F(A.children,ne,null,B,q,Y&&be!=="foreignObject",ie,Z),Ke&&To(A,null,B,"created"),ce(ne,A,A.scopeId,ie,B),fe){for(const O in fe)O!=="value"&&!cf(O)&&s(ne,O,null,fe[O],Y,A.children,B,q,ye);"value"in fe&&s(ne,"value",null,fe.value),(J=fe.onVnodeBeforeMount)&&Ur(J,B,A)}Ke&&To(A,null,B,"beforeMount");const Ie=(!q||q&&!q.pendingBranch)&&Oe&&!Oe.persisted;Ie&&Oe.beforeEnter(ne),r(ne,x,R),((J=fe&&fe.onVnodeMounted)||Ie||Ke)&&Ln(()=>{J&&Ur(J,B,A),Ie&&Oe.enter(ne),Ke&&To(A,null,B,"mounted")},q)},ce=(A,x,R,B,q)=>{if(R&&y(A,R),B)for(let Y=0;Y<B.length;Y++)y(A,B[Y]);if(q){let Y=q.subTree;if(x===Y){const ie=q.vnode;ce(A,ie,ie.scopeId,ie.slotScopeIds,q.parent)}}},F=(A,x,R,B,q,Y,ie,Z,ne=0)=>{for(let J=ne;J<A.length;J++){const be=A[J]=Z?Ri(A[J]):qr(A[J]);E(null,be,x,R,B,q,Y,ie,Z)}},$=(A,x,R,B,q,Y,ie)=>{const Z=x.el=A.el;let{patchFlag:ne,dynamicChildren:J,dirs:be}=x;ne|=A.patchFlag&16;const fe=A.props||_t,_e=x.props||_t;let Oe;R&&So(R,!1),(Oe=_e.onVnodeBeforeUpdate)&&Ur(Oe,R,x,A),be&&To(x,A,R,"beforeUpdate"),R&&So(R,!0);const Ke=q&&x.type!=="foreignObject";if(J?k(A.dynamicChildren,J,Z,R,B,Ke,Y):ie||ve(A,x,Z,null,R,B,Ke,Y,!1),ne>0){if(ne&16)Ne(Z,x,fe,_e,R,B,q);else if(ne&2&&fe.class!==_e.class&&s(Z,"class",null,_e.class,q),ne&4&&s(Z,"style",fe.style,_e.style,q),ne&8){const Ie=x.dynamicProps;for(let O=0;O<Ie.length;O++){const N=Ie[O],z=fe[N],se=_e[N];(se!==z||N==="value")&&s(Z,N,z,se,q,A.children,R,B,ye)}}ne&1&&A.children!==x.children&&g(Z,x.children)}else!ie&&J==null&&Ne(Z,x,fe,_e,R,B,q);((Oe=_e.onVnodeUpdated)||be)&&Ln(()=>{Oe&&Ur(Oe,R,x,A),be&&To(x,A,R,"updated")},B)},k=(A,x,R,B,q,Y,ie)=>{for(let Z=0;Z<x.length;Z++){const ne=A[Z],J=x[Z],be=ne.el&&(ne.type===Gt||!Ro(ne,J)||ne.shapeFlag&70)?h(ne.el):R;E(ne,J,be,null,B,q,Y,ie,!0)}},Ne=(A,x,R,B,q,Y,ie)=>{if(R!==B){if(R!==_t)for(const Z in R)!cf(Z)&&!(Z in B)&&s(A,Z,R[Z],null,ie,x.children,q,Y,ye);for(const Z in B){if(cf(Z))continue;const ne=B[Z],J=R[Z];ne!==J&&Z!=="value"&&s(A,Z,J,ne,ie,x.children,q,Y,ye)}"value"in B&&s(A,"value",R.value,B.value)}},oe=(A,x,R,B,q,Y,ie,Z,ne)=>{const J=x.el=A?A.el:l(""),be=x.anchor=A?A.anchor:l("");let{patchFlag:fe,dynamicChildren:_e,slotScopeIds:Oe}=x;Oe&&(Z=Z?Z.concat(Oe):Oe),A==null?(r(J,R,B),r(be,R,B),F(x.children,R,be,q,Y,ie,Z,ne)):fe>0&&fe&64&&_e&&A.dynamicChildren?(k(A.dynamicChildren,_e,R,q,Y,ie,Z),(x.key!=null||q&&x===q.subTree)&&MS(A,x,!0)):ve(A,x,R,be,q,Y,ie,Z,ne)},xe=(A,x,R,B,q,Y,ie,Z,ne)=>{x.slotScopeIds=Z,A==null?x.shapeFlag&512?q.ctx.activate(x,R,B,ie,ne):Ue(x,R,B,q,Y,ie,ne):ze(A,x,ne)},Ue=(A,x,R,B,q,Y,ie)=>{const Z=A.component=OD(A,B,q);if(vh(A)&&(Z.ctx.renderer=te),RD(Z),Z.asyncDep){if(q&&q.registerDep(Z,ue),!A.el){const ne=Z.subTree=ke(Ar);T(null,ne,x,R)}return}ue(Z,A,x,R,q,Y,ie)},ze=(A,x,R)=>{const B=x.component=A.component;if(qP(A,x,R))if(B.asyncDep&&!B.asyncResolved){je(B,x,R);return}else B.next=x,MP(B.update),B.update();else x.el=A.el,B.vnode=x},ue=(A,x,R,B,q,Y,ie)=>{const Z=()=>{if(A.isMounted){let{next:be,bu:fe,u:_e,parent:Oe,vnode:Ke}=A,Ie=be,O;So(A,!1),be?(be.el=Ke.el,je(A,be,ie)):be=Ke,fe&&lf(fe),(O=be.props&&be.props.onVnodeBeforeUpdate)&&Ur(O,Oe,be,Ke),So(A,!0);const N=Um(A),z=A.subTree;A.subTree=N,E(z,N,h(z.el),L(z),A,q,Y),be.el=N.el,Ie===null&&$P(A,N.el),_e&&Ln(_e,q),(O=be.props&&be.props.onVnodeUpdated)&&Ln(()=>Ur(O,Oe,be,Ke),q)}else{let be;const{el:fe,props:_e}=x,{bm:Oe,m:Ke,parent:Ie}=A,O=ff(x);if(So(A,!1),Oe&&lf(Oe),!O&&(be=_e&&_e.onVnodeBeforeMount)&&Ur(be,Ie,x),So(A,!0),fe&&Me){const N=()=>{A.subTree=Um(A),Me(fe,A.subTree,A,q,null)};O?x.type.__asyncLoader().then(()=>!A.isUnmounted&&N()):N()}else{const N=A.subTree=Um(A);E(null,N,R,B,A,q,Y),x.el=N.el}if(Ke&&Ln(Ke,q),!O&&(be=_e&&_e.onVnodeMounted)){const N=x;Ln(()=>Ur(be,Ie,N),q)}(x.shapeFlag&256||Ie&&ff(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&A.a&&Ln(A.a,q),A.isMounted=!0,x=R=B=null}},ne=A.effect=new Iv(Z,()=>Ov(J),A.scope),J=A.update=()=>ne.run();J.id=A.uid,So(A,!0),J()},je=(A,x,R)=>{x.component=A;const B=A.vnode.props;A.vnode=x,A.next=null,vD(A,x.props,B,R),wD(A,x.children,R),Ta(),nE(),Sa()},ve=(A,x,R,B,q,Y,ie,Z,ne=!1)=>{const J=A&&A.children,be=A?A.shapeFlag:0,fe=x.children,{patchFlag:_e,shapeFlag:Oe}=x;if(_e>0){if(_e&128){xt(J,fe,R,B,q,Y,ie,Z,ne);return}else if(_e&256){gt(J,fe,R,B,q,Y,ie,Z,ne);return}}Oe&8?(be&16&&ye(J,q,Y),fe!==J&&g(R,fe)):be&16?Oe&16?xt(J,fe,R,B,q,Y,ie,Z,ne):ye(J,q,Y,!0):(be&8&&g(R,""),Oe&16&&F(fe,R,B,q,Y,ie,Z,ne))},gt=(A,x,R,B,q,Y,ie,Z,ne)=>{A=A||Gs,x=x||Gs;const J=A.length,be=x.length,fe=Math.min(J,be);let _e;for(_e=0;_e<fe;_e++){const Oe=x[_e]=ne?Ri(x[_e]):qr(x[_e]);E(A[_e],Oe,R,null,q,Y,ie,Z,ne)}J>be?ye(A,q,Y,!0,!1,fe):F(x,R,B,q,Y,ie,Z,ne,fe)},xt=(A,x,R,B,q,Y,ie,Z,ne)=>{let J=0;const be=x.length;let fe=A.length-1,_e=be-1;for(;J<=fe&&J<=_e;){const Oe=A[J],Ke=x[J]=ne?Ri(x[J]):qr(x[J]);if(Ro(Oe,Ke))E(Oe,Ke,R,null,q,Y,ie,Z,ne);else break;J++}for(;J<=fe&&J<=_e;){const Oe=A[fe],Ke=x[_e]=ne?Ri(x[_e]):qr(x[_e]);if(Ro(Oe,Ke))E(Oe,Ke,R,null,q,Y,ie,Z,ne);else break;fe--,_e--}if(J>fe){if(J<=_e){const Oe=_e+1,Ke=Oe<be?x[Oe].el:B;for(;J<=_e;)E(null,x[J]=ne?Ri(x[J]):qr(x[J]),R,Ke,q,Y,ie,Z,ne),J++}}else if(J>_e)for(;J<=fe;)Lt(A[J],q,Y,!0),J++;else{const Oe=J,Ke=J,Ie=new Map;for(J=Ke;J<=_e;J++){const De=x[J]=ne?Ri(x[J]):qr(x[J]);De.key!=null&&Ie.set(De.key,J)}let O,N=0;const z=_e-Ke+1;let se=!1,de=0;const Re=new Array(z);for(J=0;J<z;J++)Re[J]=0;for(J=Oe;J<=fe;J++){const De=A[J];if(N>=z){Lt(De,q,Y,!0);continue}let Be;if(De.key!=null)Be=Ie.get(De.key);else for(O=Ke;O<=_e;O++)if(Re[O-Ke]===0&&Ro(De,x[O])){Be=O;break}Be===void 0?Lt(De,q,Y,!0):(Re[Be-Ke]=J+1,Be>=de?de=Be:se=!0,E(De,x[Be],R,null,q,Y,ie,Z,ne),N++)}const $e=se?ID(Re):Gs;for(O=$e.length-1,J=z-1;J>=0;J--){const De=Ke+J,Be=x[De],Fe=De+1<be?x[De+1].el:B;Re[J]===0?E(null,Be,R,Fe,q,Y,ie,Z,ne):se&&(O<0||J!==$e[O]?Ht(Be,R,Fe,2):O--)}}},Ht=(A,x,R,B,q=null)=>{const{el:Y,type:ie,transition:Z,children:ne,shapeFlag:J}=A;if(J&6){Ht(A.component.subTree,x,R,B);return}if(J&128){A.suspense.move(x,R,B);return}if(J&64){ie.move(A,x,R,te);return}if(ie===Gt){r(Y,x,R);for(let fe=0;fe<ne.length;fe++)Ht(ne[fe],x,R,B);r(A.anchor,x,R);return}if(ie===hf){P(A,x,R);return}if(B!==2&&J&1&&Z)if(B===0)Z.beforeEnter(Y),r(Y,x,R),Ln(()=>Z.enter(Y),q);else{const{leave:fe,delayLeave:_e,afterLeave:Oe}=Z,Ke=()=>r(Y,x,R),Ie=()=>{fe(Y,()=>{Ke(),Oe&&Oe()})};_e?_e(Y,Ke,Ie):Ie()}else r(Y,x,R)},Lt=(A,x,R,B=!1,q=!1)=>{const{type:Y,props:ie,ref:Z,children:ne,dynamicChildren:J,shapeFlag:be,patchFlag:fe,dirs:_e}=A;if(Z!=null&&Ag(Z,null,R,A,!0),be&256){x.ctx.deactivate(A);return}const Oe=be&1&&_e,Ke=!ff(A);let Ie;if(Ke&&(Ie=ie&&ie.onVnodeBeforeUnmount)&&Ur(Ie,x,A),be&6)me(A.component,R,B);else{if(be&128){A.suspense.unmount(R,B);return}Oe&&To(A,null,x,"beforeUnmount"),be&64?A.type.remove(A,x,R,q,te,B):J&&(Y!==Gt||fe>0&&fe&64)?ye(J,x,R,!1,!0):(Y===Gt&&fe&384||!q&&be&16)&&ye(ne,x,R),B&&vt(A)}(Ke&&(Ie=ie&&ie.onVnodeUnmounted)||Oe)&&Ln(()=>{Ie&&Ur(Ie,x,A),Oe&&To(A,null,x,"unmounted")},R)},vt=A=>{const{type:x,el:R,anchor:B,transition:q}=A;if(x===Gt){Kn(R,B);return}if(x===hf){D(A);return}const Y=()=>{o(R),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(A.shapeFlag&1&&q&&!q.persisted){const{leave:ie,delayLeave:Z}=q,ne=()=>ie(R,Y);Z?Z(A.el,Y,ne):ne()}else Y()},Kn=(A,x)=>{let R;for(;A!==x;)R=m(A),o(A),A=R;o(x)},me=(A,x,R)=>{const{bum:B,scope:q,update:Y,subTree:ie,um:Z}=A;B&&lf(B),q.stop(),Y&&(Y.active=!1,Lt(ie,A,x,R)),Z&&Ln(Z,x),Ln(()=>{A.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},ye=(A,x,R,B=!1,q=!1,Y=0)=>{for(let ie=Y;ie<A.length;ie++)Lt(A[ie],x,R,B,q)},L=A=>A.shapeFlag&6?L(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),K=(A,x,R)=>{A==null?x._vnode&&Lt(x._vnode,null,null,!0):E(x._vnode||null,A,x,null,null,null,R),nE(),vS(),x._vnode=A},te={p:E,um:Lt,m:Ht,r:vt,mt:Ue,mc:F,pc:ve,pbc:k,n:L,o:e};let le,Me;return t&&([le,Me]=t(te)),{render:K,hydrate:le,createApp:pD(K,le)}}function So({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function MS(e,t,n=!1){const r=e.children,o=t.children;if(Se(r)&&Se(o))for(let s=0;s<r.length;s++){const u=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ri(o[s]),l.el=u.el),n||MS(u,l)),l.type===bh&&(l.el=u.el)}}function ID(e){const t=e.slice(),n=[0];let r,o,s,u,l;const f=e.length;for(r=0;r<f;r++){const p=e[r];if(p!==0){if(o=n[n.length-1],e[o]<p){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<p?s=l+1:u=l;p<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const TD=e=>e.__isTeleport,Gt=Symbol.for("v-fgt"),bh=Symbol.for("v-txt"),Ar=Symbol.for("v-cmt"),hf=Symbol.for("v-stc"),Ru=[];let Tr=null;function Ze(e=!1){Ru.push(Tr=e?null:[])}function SD(){Ru.pop(),Tr=Ru[Ru.length-1]||null}let Wu=1;function pE(e){Wu+=e}function FS(e){return e.dynamicChildren=Wu>0?Tr||Gs:null,SD(),Wu>0&&Tr&&Tr.push(e),e}function lt(e,t,n,r,o,s){return FS(j(e,t,n,r,o,s,!0))}function zo(e,t,n,r,o){return FS(ke(e,t,n,r,o,!0))}function kg(e){return e?e.__v_isVNode===!0:!1}function Ro(e,t){return e.type===t.type&&e.key===t.key}const Eh="__vInternal",VS=({key:e})=>e!=null?e:null,df=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||dt(e)||qe(e)?{i:Fn,r:e,k:t,f:!!n}:e:null);function j(e,t=null,n=null,r=0,o=null,s=e===Gt?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&VS(t),ref:t&&df(t),scopeId:wS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Fn};return l?(Fv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Dt(n)?8:16),Wu>0&&!u&&Tr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Tr.push(f),f}const ke=AD;function AD(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===kS)&&(e=Ar),kg(e)){const l=zi(e,t,!0);return n&&Fv(l,n),Wu>0&&!s&&Tr&&(l.shapeFlag&6?Tr[Tr.indexOf(e)]=l:Tr.push(l)),l.patchFlag|=-2,l}if(FD(e)&&(e=e.__vccOpts),t){t=kD(t);let{class:l,style:f}=t;l&&!Dt(l)&&(t.class=pn(l)),ft(f)&&(uS(f)&&!Se(f)&&(f=Bt({},f)),t.style=Js(f))}const u=Dt(e)?1:HP(e)?128:TD(e)?64:ft(e)?4:qe(e)?2:0;return j(e,t,n,r,o,u,s,!0)}function kD(e){return e?uS(e)||Eh in e?Bt({},e):e:null}function zi(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,l=t?US(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&VS(l),ref:t&&t.ref?n&&o?Se(o)?o.concat(df(t)):[o,df(t)]:df(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Gt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zi(e.ssContent),ssFallback:e.ssFallback&&zi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Bo(e=" ",t=0){return ke(bh,null,e,t)}function xD(e,t){const n=ke(hf,null,e);return n.staticCount=t,n}function ea(e="",t=!1){return t?(Ze(),zo(Ar,null,e)):ke(Ar,null,e)}function qr(e){return e==null||typeof e=="boolean"?ke(Ar):Se(e)?ke(Gt,null,e.slice()):typeof e=="object"?Ri(e):ke(bh,null,String(e))}function Ri(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zi(e)}function Fv(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Se(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Fv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Eh in t)?t._ctx=Fn:o===3&&Fn&&(Fn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else qe(t)?(t={default:t,_ctx:Fn},n=32):(t=String(t),r&64?(n=16,t=[Bo(t)]):n=8);e.children=t,e.shapeFlag|=n}function US(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=pn([t.class,r.class]));else if(o==="style")t.style=Js([t.style,r.style]);else if(uh(o)){const s=t[o],u=r[o];u&&s!==u&&!(Se(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Ur(e,t,n,r=null){dr(e,t,7,[n,r])}const CD=NS();let ND=0;function OD(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||CD,s={uid:ND++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new WT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:RS(r,o),emitsOptions:_S(r,o),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:r.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=UP.bind(null,s),e.ce&&e.ce(s),s}let zt=null;const yc=()=>zt||Fn;let Vv,Ds,mE="__VUE_INSTANCE_SETTERS__";(Ds=pg()[mE])||(Ds=pg()[mE]=[]),Ds.push(e=>zt=e),Vv=e=>{Ds.length>1?Ds.forEach(t=>t(e)):Ds[0](e)};const ta=e=>{Vv(e),e.scope.on()},qo=()=>{zt&&zt.scope.off(),Vv(null)};function jS(e){return e.vnode.shapeFlag&4}let Xu=!1;function RD(e,t=!1){Xu=t;const{props:n,children:r}=e.vnode,o=jS(e);gD(e,n,o,t),_D(e,r);const s=o?PD(e,t):void 0;return Xu=!1,s}function PD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ph(new Proxy(e.ctx,aD));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?LD(e):null;ta(e),Ta();const s=$i(r,e,0,[e.props,o]);if(Sa(),qo(),qT(s)){if(s.then(qo,qo),t)return s.then(u=>{gE(e,u,t)}).catch(u=>{mh(u,e,0)});e.asyncDep=s}else gE(e,s,t)}else BS(e,t)}function gE(e,t,n){qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ft(t)&&(e.setupState=dS(t)),BS(e,n)}let vE;function BS(e,t,n){const r=e.type;if(!e.render){if(!t&&vE&&!r.render){const o=r.template||Lv(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,p=Bt(Bt({isCustomElement:s,delimiters:l},u),f);r.render=vE(o,p)}}e.render=r.render||Sr}ta(e),Ta(),uD(e),Sa(),qo()}function DD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}}))}function LD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return DD(e)},slots:e.slots,emit:e.emit,expose:t}}function Ih(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(dS(ph(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ou)return Ou[n](e)},has(t,n){return n in t||n in Ou}}))}function MD(e,t=!0){return qe(e)?e.displayName||e.name:e.name||t&&e.__name}function FD(e){return qe(e)&&"__vccOpts"in e}const Ge=(e,t)=>PP(e,t,Xu);function Wo(e,t,n){const r=arguments.length;return r===2?ft(t)&&!Se(t)?kg(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&kg(n)&&(n=[n]),ke(e,t,n))}const VD=Symbol.for("v-scx"),UD=()=>pr(VD),jD="3.3.4",BD="http://www.w3.org/2000/svg",Po=typeof document<"u"?document:null,yE=Po&&Po.createElement("template"),qD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Po.createElementNS(BD,e):Po.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Po.createTextNode(e),createComment:e=>Po.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Po.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{yE.innerHTML=r?`<svg>${e}</svg>`:e;const l=yE.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function $D(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function HD(e,t,n){const r=e.style,o=Dt(n);if(n&&!o){if(t&&!Dt(t))for(const s in t)n[s]==null&&xg(r,s,"");for(const s in n)xg(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const _E=/\s*!important$/;function xg(e,t,n){if(Se(n))n.forEach(r=>xg(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=KD(e,t);_E.test(n)?e.setProperty(Ia(r),n.replace(_E,""),"important"):e[r]=n}}const wE=["Webkit","Moz","ms"],qm={};function KD(e,t){const n=qm[t];if(n)return n;let r=Wr(t);if(r!=="filter"&&r in e)return qm[t]=r;r=fh(r);for(let o=0;o<wE.length;o++){const s=wE[o]+r;if(s in e)return qm[t]=s}return t}const bE="http://www.w3.org/1999/xlink";function GD(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(bE,t.slice(6,t.length)):e.setAttributeNS(bE,t,n);else{const s=XR(t);n==null||s&&!GT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function zD(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n==null?"":n;return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const p=l==="OPTION"?e.getAttribute("value"):e.value,g=n==null?"":n;p!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=GT(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function qS(e,t,n,r){e.addEventListener(t,n,r)}function WD(e,t,n,r){e.removeEventListener(t,n,r)}function XD(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[l,f]=YD(t);if(r){const p=s[t]=ZD(r,o);qS(e,l,p,f)}else u&&(WD(e,l,u,f),s[t]=void 0)}}const EE=/(?:Once|Passive|Capture)$/;function YD(e){let t;if(EE.test(e)){t={};let r;for(;r=e.match(EE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ia(e.slice(2)),t]}let $m=0;const QD=Promise.resolve(),JD=()=>$m||(QD.then(()=>$m=0),$m=Date.now());function ZD(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;dr(eL(r,n.value),t,5,[r])};return n.value=e,n.attached=JD(),n}function eL(e,t){if(Se(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const IE=/^on[a-z]/,tL=(e,t,n,r,o=!1,s,u,l,f)=>{t==="class"?$D(e,r,o):t==="style"?HD(e,n,r):uh(t)?_v(t)||XD(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):nL(e,t,r,o))?zD(e,t,r,s,u,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),GD(e,t,r,o))};function nL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&IE.test(t)&&qe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||IE.test(t)&&Dt(n)?!1:t in e}const Si="transition",yu="animation",Uv=(e,{slots:t})=>Wo(YP,rL(e),t);Uv.displayName="Transition";const $S={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Uv.props=Bt({},ES,$S);const Ao=(e,t=[])=>{Se(e)?e.forEach(n=>n(...t)):e&&e(...t)},TE=e=>e?Se(e)?e.some(t=>t.length>1):e.length>1:!1;function rL(e){const t={};for(const oe in e)oe in $S||(t[oe]=e[oe]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:p=u,appearToClass:g=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=iL(o),E=_&&_[0],I=_&&_[1],{onBeforeEnter:T,onEnter:C,onEnterCancelled:P,onLeave:D,onLeaveCancelled:W,onBeforeAppear:V=T,onAppear:ce=C,onAppearCancelled:F=P}=t,$=(oe,xe,Ue)=>{ko(oe,xe?g:l),ko(oe,xe?p:u),Ue&&Ue()},k=(oe,xe)=>{oe._isLeaving=!1,ko(oe,h),ko(oe,y),ko(oe,m),xe&&xe()},Ne=oe=>(xe,Ue)=>{const ze=oe?ce:C,ue=()=>$(xe,oe,Ue);Ao(ze,[xe,ue]),SE(()=>{ko(xe,oe?f:s),Ai(xe,oe?g:l),TE(ze)||AE(xe,r,E,ue)})};return Bt(t,{onBeforeEnter(oe){Ao(T,[oe]),Ai(oe,s),Ai(oe,u)},onBeforeAppear(oe){Ao(V,[oe]),Ai(oe,f),Ai(oe,p)},onEnter:Ne(!1),onAppear:Ne(!0),onLeave(oe,xe){oe._isLeaving=!0;const Ue=()=>k(oe,xe);Ai(oe,h),aL(),Ai(oe,m),SE(()=>{!oe._isLeaving||(ko(oe,h),Ai(oe,y),TE(D)||AE(oe,r,I,Ue))}),Ao(D,[oe,Ue])},onEnterCancelled(oe){$(oe,!1),Ao(P,[oe])},onAppearCancelled(oe){$(oe,!0),Ao(F,[oe])},onLeaveCancelled(oe){k(oe),Ao(W,[oe])}})}function iL(e){if(e==null)return null;if(ft(e))return[Hm(e.enter),Hm(e.leave)];{const t=Hm(e);return[t,t]}}function Hm(e){return $R(e)}function Ai(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function ko(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function SE(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let oL=0;function AE(e,t,n,r){const o=e._endId=++oL,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:l,propCount:f}=sL(e,t);if(!u)return r();const p=u+"end";let g=0;const h=()=>{e.removeEventListener(p,m),s()},m=y=>{y.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},l+1),e.addEventListener(p,m)}function sL(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Si}Delay`),s=r(`${Si}Duration`),u=kE(o,s),l=r(`${yu}Delay`),f=r(`${yu}Duration`),p=kE(l,f);let g=null,h=0,m=0;t===Si?u>0&&(g=Si,h=u,m=s.length):t===yu?p>0&&(g=yu,h=p,m=f.length):(h=Math.max(u,p),g=h>0?u>p?Si:yu:null,m=g?g===Si?s.length:f.length:0);const y=g===Si&&/\b(transform|all)(,|$)/.test(r(`${Si}Property`).toString());return{type:g,timeout:h,propCount:m,hasTransform:y}}function kE(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>xE(n)+xE(e[r])))}function xE(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function aL(){return document.body.offsetHeight}const CE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Se(t)?n=>lf(t,n):t},uL={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=ch(t);qS(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?KT(Af(u)):Af(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=CE(r)},mounted(e,{value:t}){NE(e,t)},beforeUpdate(e,t,n){e._assign=CE(n)},updated(e,{value:t}){NE(e,t)}};function NE(e,t){const n=e.multiple;if(!(n&&!Se(t)&&!ch(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=Af(s);if(n)Se(t)?s.selected=QR(t,u)>-1:s.selected=t.has(u);else if(hh(Af(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Af(e){return"_value"in e?e._value:e.value}const cL=["ctrl","shift","alt","meta"],lL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cL.some(n=>e[`${n}Key`]&&!t.includes(n))},tn=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=lL[t[o]];if(s&&s(n,t))return}return e(n,...r)},OE={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):_u(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),_u(e,!0),r.enter(e)):r.leave(e,()=>{_u(e,!1)}):_u(e,t))},beforeUnmount(e,{value:t}){_u(e,t)}};function _u(e,t){e.style.display=t?e._vod:"none"}const fL=Bt({patchProp:tL},qD);let RE;function hL(){return RE||(RE=bD(fL))}const dL=(...e)=>{const t=hL().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=pL(r);if(!o)return;const s=t._component;!qe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function pL(e){return Dt(e)?document.querySelector(e):e}var mL=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let HS;const Th=e=>HS=e,KS=Symbol();function Cg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Pu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Pu||(Pu={}));function gL(){const e=XT(!0),t=e.run(()=>Sn({}));let n=[],r=[];const o=ph({install(s){Th(o),o._a=s,s.provide(KS,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!mL?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const GS=()=>{};function PE(e,t,n,r=GS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&YT()&&ZR(o),o}function Ls(e,...t){e.slice().forEach(n=>{n(...t)})}const vL=e=>e();function Ng(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Cg(o)&&Cg(r)&&e.hasOwnProperty(n)&&!dt(r)&&!qi(r)?e[n]=Ng(o,r):e[n]=r}return e}const yL=Symbol();function _L(e){return!Cg(e)||!e.hasOwnProperty(yL)}const{assign:Oi}=Object;function wL(e){return!!(dt(e)&&e.effect)}function bL(e,t,n,r){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const g=CP(n.state.value[e]);return Oi(g,s,Object.keys(u||{}).reduce((h,m)=>(h[m]=ph(Ge(()=>{Th(n);const y=n._s.get(e);return u[m].call(y,y)})),h),{}))}return f=zS(e,p,t,n,r,!0),f}function zS(e,t,n={},r,o,s){let u;const l=Oi({actions:{}},n),f={deep:!0};let p,g,h=[],m=[],y;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),Sn({});let E;function I(F){let $;p=g=!1,typeof F=="function"?(F(r.state.value[e]),$={type:Pu.patchFunction,storeId:e,events:y}):(Ng(r.state.value[e],F),$={type:Pu.patchObject,payload:F,storeId:e,events:y});const k=E=Symbol();Br().then(()=>{E===k&&(p=!0)}),g=!0,Ls(h,$,r.state.value[e])}const T=s?function(){const{state:$}=n,k=$?$():{};this.$patch(Ne=>{Oi(Ne,k)})}:GS;function C(){u.stop(),h=[],m=[],r._s.delete(e)}function P(F,$){return function(){Th(r);const k=Array.from(arguments),Ne=[],oe=[];function xe(ue){Ne.push(ue)}function Ue(ue){oe.push(ue)}Ls(m,{args:k,name:F,store:W,after:xe,onError:Ue});let ze;try{ze=$.apply(this&&this.$id===e?this:W,k)}catch(ue){throw Ls(oe,ue),ue}return ze instanceof Promise?ze.then(ue=>(Ls(Ne,ue),ue)).catch(ue=>(Ls(oe,ue),Promise.reject(ue))):(Ls(Ne,ze),ze)}}const D={_p:r,$id:e,$onAction:PE.bind(null,m),$patch:I,$reset:T,$subscribe(F,$={}){const k=PE(h,F,$.detached,()=>Ne()),Ne=u.run(()=>tr(()=>r.state.value[e],oe=>{($.flush==="sync"?g:p)&&F({storeId:e,type:Pu.direct,events:y},oe)},Oi({},f,$)));return k},$dispose:C},W=fi(D);r._s.set(e,W);const ce=(r._a&&r._a.runWithContext||vL)(()=>r._e.run(()=>(u=XT()).run(t)));for(const F in ce){const $=ce[F];if(dt($)&&!wL($)||qi($))s||(_&&_L($)&&(dt($)?$.value=_[F]:Ng($,_[F])),r.state.value[e][F]=$);else if(typeof $=="function"){const k=P(F,$);ce[F]=k,l.actions[F]=$}}return Oi(W,ce),Oi(tt(W),ce),Object.defineProperty(W,"$state",{get:()=>r.state.value[e],set:F=>{I($=>{Oi($,F)})}}),r._p.forEach(F=>{Oi(W,u.run(()=>F({store:W,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(W.$state,_),p=!0,g=!0,W}function jv(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(l,f){const p=mD();return l=l||(p?pr(KS,null):null),l&&Th(l),l=HS,l._s.has(r)||(s?zS(r,t,o,l):bL(r,o,l)),l._s.get(r)}return u.$id=r,u}let EL="Store";function IL(...e){return e.reduce((t,n)=>(t[n.$id+EL]=function(){return n(this.$pinia)},t),{})}function kf(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Sh(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function WS(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const Og=jv("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var Rg=function(e,t){return Rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Rg(e,t)};function Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Rg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var na=function(){return na=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},na.apply(this,arguments)};function G(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(g){try{p(r.next(g))}catch(h){u(h)}}function f(g){try{p(r.throw(g))}catch(h){u(h)}}function p(g){g.done?s(g.value):o(g.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function H(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(p){return function(g){return f([p,g])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(g){p=[6,g],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Km(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function Et(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XS=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},TL=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},SL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,u||(m=64)),r.push(n[g],n[h],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(XS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(r.push(m),p!==64){var y=l<<4&240|p>>2;if(r.push(y),h!==64){var _=p<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},AL=function(e){var t=XS(e);return SL.encodeByteArray(t,!0)},DE=function(e){return AL(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(e){return Yu(void 0,e)}function Yu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!xL(r)||(e[r]=Yu(e[r],t[r]));return e}function xL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=na({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[DE(JSON.stringify(n)),DE(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xo())}function QS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OL(){return typeof self=="object"&&self.self===self}function RL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function PL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DL(){return Xo().indexOf("Electron/")>=0}function LL(){var e=Xo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ML(){return Xo().indexOf("MSAppHost/")>=0}function FL(){return!QS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL="FirebaseError",JS=function(e){Ae(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=VL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Bv.prototype.create),s}return t}(Error),Bv=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?UL(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new JS(s,f,o);return p},e}();function UL(e,t){return e.replace(jL,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var jL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function BL(e,t){var n=new qL(e,t);return n.subscribe.bind(n)}var qL=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$L(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Gm),s.error===void 0&&(s.error=Gm),s.complete===void 0&&(s.complete=Gm);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function $L(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return e&&e._delegate?e._delegate:e}var _c=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new CL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(GL(t))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}try{for(var o=Km(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Wl(s.value,2),l=u[0],f=u[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Co),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return G(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Et(Et([],Wl(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Wl(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Co),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Co),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=Km(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var g=Wl(p.value,2),h=g[0],m=g[1],y=this.normalizeInstanceIdentifier(h);u===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(!!s)try{for(var u=Km(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Co),this.component?this.component.multipleInstances?t:Co:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function KL(e){return e===Co?void 0:e}function GL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new HL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Er(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo,qv=[],it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));var ZS={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},WL=it.INFO,XL=(xo={},xo[it.DEBUG]="log",xo[it.VERBOSE]="log",xo[it.INFO]="info",xo[it.WARN]="warn",xo[it.ERROR]="error",xo),YL=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=XL[t];if(s)console[s].apply(console,Er(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},e1=function(){function e(t){this.name=t,this._logLevel=WL,this._logHandler=YL,this._userLogHandler=null,qv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in it))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?ZS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,it.DEBUG],t)),this._logHandler.apply(this,Er([this,it.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,it.VERBOSE],t)),this._logHandler.apply(this,Er([this,it.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,it.INFO],t)),this._logHandler.apply(this,Er([this,it.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,it.WARN],t)),this._logHandler.apply(this,Er([this,it.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,it.ERROR],t)),this._logHandler.apply(this,Er([this,it.ERROR],t))},e}();function QL(e){qv.forEach(function(t){t.setLogLevel(e)})}function JL(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=ZS[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,p){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var m=g.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l!=null?l:f.logLevel)&&e({level:it[p].toLowerCase(),message:m,args:g,type:f.name})}},r=0,o=qv;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki,ZL=(ki={},ki["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ki["bad-app-name"]="Illegal App name: '{$appName}",ki["duplicate-app"]="Firebase App named '{$appName}' already exists",ki["app-deleted"]="Firebase App named '{$appName}' already deleted",ki["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ki["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ki),js=new Bv("app","Firebase",ZL),t1="@firebase/app",eM="0.6.30",tM="@firebase/analytics",nM="@firebase/app-check",rM="@firebase/auth",iM="@firebase/database",oM="@firebase/functions",sM="@firebase/installations",aM="@firebase/messaging",uM="@firebase/performance",cM="@firebase/remote-config",lM="@firebase/storage",fM="@firebase/firestore",hM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,xf="[DEFAULT]",dM=(ln={},ln[t1]="fire-core",ln[tM]="fire-analytics",ln[nM]="fire-app-check",ln[rM]="fire-auth",ln[iM]="fire-rtdb",ln[oM]="fire-fn",ln[sM]="fire-iid",ln[aM]="fire-fcm",ln[uM]="fire-perf",ln[cM]="fire-rc",ln[lM]="fire-gcs",ln[fM]="fire-fst",ln["fire-js"]="fire-js",ln[hM]="fire-js-all",ln);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra=new e1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=kL(t),this.container=new zL(n.name),this._addComponent(new _c("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=xf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=xf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ra.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw js.create("app-deleted",{appName:this.name_})},e}();pf.prototype.name&&pf.prototype.options||pf.prototype.delete||console.log("dc");var pM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:p,setLogLevel:QL,onLog:g,apps:null,SDK_VERSION:pM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||xf,!LE(t,m))throw js.create("no-app",{appName:m});return t[m]}s.App=e;function u(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var E=y;E.name===void 0&&(E.name=xf);var I=E.name;if(typeof I!="string"||!I)throw js.create("bad-app-name",{appName:String(I)});if(LE(t,I))throw js.create("duplicate-app",{appName:I});var T=new e(m,E,r);return t[I]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return ra.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(C){if(C===void 0&&(C=s()),typeof C[y]!="function")throw js.create("invalid-app-argument",{appName:y});return C[y]()};m.serviceProps!==void 0&&Yu(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var C=[],P=0;P<arguments.length;P++)C[P]=arguments[P];var D=this._getService.bind(this,y);return D.apply(this,m.multipleInstances?C:[])}}for(var E=0,I=Object.keys(t);E<I.length;E++){var T=I[E];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function p(m,y,_){var E,I=(E=dM[m])!==null&&E!==void 0?E:m;_&&(I+="-"+_);var T=I.match(/\s|\//),C=y.match(/\s|\//);if(T||C){var P=['Unable to register library "'+I+'" with version "'+y+'":'];T&&P.push('library name "'+I+'" contains illegal characters (whitespace or "/")'),T&&C&&P.push("and"),C&&P.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),ra.warn(P.join(" "));return}f(new _c(I+"-version",function(){return{library:I,version:y}},"VERSION"))}function g(m,y){if(m!==null&&typeof m!="function")throw js.create("invalid-log-argument");JL(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){var e=mM(pf);e.INTERNAL=na(na({},e.INTERNAL),{createFirebaseNamespace:n1,extendNamespace:t,createSubscribe:BL,ErrorFactory:Bv,deepExtend:Yu});function t(n){Yu(e,n)}return e}var $v=n1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(vM(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function vM(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(e,t){e.INTERNAL.registerComponent(new _c("platform-logger",function(n){return new gM(n)},"PRIVATE")),e.registerVersion(t1,eM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(OL()&&self.firebase!==void 0){ra.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var ME=self.firebase.SDK_VERSION;ME&&ME.indexOf("LITE")>=0&&ra.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var _M=$v.initializeApp;$v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return QS()&&ra.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),_M.apply(void 0,e)};var Ce=$v;yM(Ce);var wM="firebase",r1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.registerVersion(wM,r1,"app");Ce.SDK_VERSION=r1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,c){i!=Array.prototype&&i!=Object.prototype&&(i[a]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var c=i[a];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,a){if(a){var c=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var v=i[d];v in c||(c[v]={}),c=c[v]}i=i[i.length-1],d=c[i],a=a(d),a!=d&&a!=null&&t(c,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(U){S.reject(U)}}function c(){this.a=null}function d(b){return b instanceof a?b:new a(function(S){S(b)})}if(i)return i;c.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var v=r.setTimeout;c.prototype.c=function(b){v(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var U=b[S];b[S]=null;try{U()}catch(X){this.f(X)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(X){return function(Le){U||(U=!0,X.call(S,Le))}}var S=this,U=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},a.prototype.v=function(b){var S=void 0;try{S=b.then}catch(U){this.g(U);return}typeof S=="function"?this.u(S,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new c;return a.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},a.prototype.u=function(b,S){var U=this.f();try{b.call(S,U.resolve,U.reject)}catch(X){U.reject(X)}},a.prototype.then=function(b,S){function U(rt,Yt){return typeof rt=="function"?function(ti){try{X(rt(ti))}catch(Fm){Le(Fm)}}:Yt}var X,Le,at=new a(function(rt,Yt){X=rt,Le=Yt});return this.Ra(U(b,X),U(S,Le)),at},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,S){function U(){switch(X.b){case 1:b(X.c);break;case 2:S(X.c);break;default:throw Error("Unexpected state: "+X.b)}}var X=this;this.a==null?w.b(U):this.a.push(U)},a.resolve=d,a.reject=function(b){return new a(function(S,U){U(b)})},a.race=function(b){return new a(function(S,U){for(var X=u(b),Le=X.next();!Le.done;Le=X.next())d(Le.value).Ra(S,U)})},a.all=function(b){var S=u(b),U=S.next();return U.done?d([]):new a(function(X,Le){function at(ti){return function(Fm){rt[ti]=Fm,Yt--,Yt==0&&X(rt)}}var rt=[],Yt=0;do rt.push(void 0),Yt++,d(U.value).Ra(at(rt.length-1),Le),U=S.next();while(!U.done)})},a});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&p.test(i)?i:""}function m(){}function y(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function _(i){var a=y(i);return a=="array"||a=="object"&&typeof i.length=="number"}function E(i){return y(i)=="function"}function I(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function T(i){return Object.prototype.hasOwnProperty.call(i,C)&&i[C]||(i[C]=++P)}var C="closure_uid_"+(1e9*Math.random()>>>0),P=0;function D(i,a,c){return i.call.apply(i.bind,arguments)}function W(i,a,c){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),i.apply(a,v)}}return function(){return i.apply(a,arguments)}}function V(i,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=D:V=W,V.apply(null,arguments)}function ce(i,a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function F(i,a){function c(){}c.prototype=a.prototype,i.bb=a.prototype,i.prototype=new c,i.prototype.constructor=i}function $(i){return i}function k(i,a,c){this.code=oe+i,this.message=a||xe[i]||"",this.a=c||null}F(k,Error),k.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},k.prototype.toJSON=function(){return this.w()};function Ne(i){var a=i&&i.code;return a?new k(a.substring(oe.length),i.message,i.serverResponse):null}var oe="auth/",xe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ue={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ze(i){for(var a in Ue)if(Ue[a].id===i)return i=Ue[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var ue;ue=ze("__EID__")?"__EID__":void 0;function je(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function ve(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ve);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}F(ve,Error),ve.prototype.name="CustomError";function gt(i,a){i=i.split("%s");for(var c="",d=i.length-1,v=0;v<d;v++)c+=i[v]+(v<a.length?a[v]:"%s");ve.call(this,c+i[d])}F(gt,ve),gt.prototype.name="AssertionError";function xt(i,a){throw new gt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function Ht(i,a){this.c=i,this.f=a,this.b=0,this.a=null}Ht.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Lt(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function vt(){this.b=this.a=null}var Kn=new Ht(function(){return new ye},function(i){i.reset()});vt.prototype.add=function(i,a){var c=Kn.get();c.set(i,a),this.b?this.b.next=c:this.a=c,this.b=c};function me(){var i=R_,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function ye(){this.next=this.b=this.a=null}ye.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},ye.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===a)return c;return-1},K=Array.prototype.forEach?function(i,a,c){Array.prototype.forEach.call(i,a,c)}:function(i,a,c){for(var d=i.length,v=typeof i=="string"?i.split(""):i,w=0;w<d;w++)w in v&&a.call(c,v[w],w,i)};function te(i,a){for(var c=typeof i=="string"?i.split(""):i,d=i.length-1;0<=d;--d)d in c&&a.call(void 0,c[d],d,i)}var le=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=[],v=0,w=typeof i=="string"?i.split(""):i,b=0;b<c;b++)if(b in w){var S=w[b];a.call(void 0,S,b,i)&&(d[v++]=S)}return d},Me=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=Array(c),v=typeof i=="string"?i.split(""):i,w=0;w<c;w++)w in v&&(d[w]=a.call(void 0,v[w],w,i));return d},A=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,i))return!0;return!1};function x(i){e:{for(var a=gN,c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,i)){a=v;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function R(i,a){return 0<=L(i,a)}function B(i,a){a=L(i,a);var c;return(c=0<=a)&&Array.prototype.splice.call(i,a,1),c}function q(i,a){var c=0;te(i,function(d,v){a.call(void 0,d,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&c++})}function Y(i){return Array.prototype.concat.apply([],arguments)}function ie(i){var a=i.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=i[d];return c}return[]}var Z=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ne=/&/g,J=/</g,be=/>/g,fe=/"/g,_e=/'/g,Oe=/\x00/g,Ke=/[\x00&<>"']/;function Ie(i,a){return i.indexOf(a)!=-1}function O(i,a){return i<a?-1:i>a?1:0}var N;e:{var z=f.navigator;if(z){var se=z.userAgent;if(se){N=se;break e}}N=""}function de(i){return Ie(N,i)}function Re(i,a){for(var c in i)a.call(void 0,i[c],c,i)}function $e(i){for(var a in i)return!1;return!0}function De(i){var a={},c;for(c in i)a[c]=i[c];return a}var Be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fe(i,a){for(var c,d,v=1;v<arguments.length;v++){d=arguments[v];for(c in d)i[c]=d[c];for(var w=0;w<Be.length;w++)c=Be[w],Object.prototype.hasOwnProperty.call(d,c)&&(i[c]=d[c])}}function un(i,a){e:{try{var c=i&&i.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[a]<"u"&&(!i||!(i instanceof v[a])&&(i instanceof v.Location||i instanceof v.Element))){if(I(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;xt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function cn(i,a){this.a=i===Bc&&a||"",this.b=d_}cn.prototype.ta=!0,cn.prototype.sa=function(){return this.a},cn.prototype.toString=function(){return"Const{"+this.a+"}"};function ld(i){return i instanceof cn&&i.constructor===cn&&i.b===d_?i.a:(xt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var d_={},Bc={},qc;function p_(){if(qc===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:$,createScript:$,createScriptURL:$})}catch(c){f.console&&f.console.error(c.message)}qc=i}else qc=i}return qc}function fs(i,a){this.a=a===g_?i:""}fs.prototype.ta=!0,fs.prototype.sa=function(){return this.a.toString()},fs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function m_(i){return i instanceof fs&&i.constructor===fs?i.a:(xt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function fd(i,a){var c=ld(i);if(!Gx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(Kx,function(d,v){if(!Object.prototype.hasOwnProperty.call(a,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return d=a[v],d instanceof cn?ld(d):encodeURIComponent(String(d))}),zx(i)}var Kx=/%{(\w+)}/g,Gx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,g_={};function zx(i){var a=p_();return i=a?a.createScriptURL(i):i,new fs(i,g_)}function On(i,a){this.a=a===Ma?i:""}On.prototype.ta=!0,On.prototype.sa=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function $c(i){return i instanceof On&&i.constructor===On?i.a:(xt("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var Wx=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Xx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,v_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function y_(i){if(i instanceof On)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),v_.test(i))i=new On(i,Ma);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(Xx);i=a&&Wx.test(a[1])?new On(i,Ma):null}return i}function __(i){return i instanceof On?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),v_.test(i)||(i="about:invalid#zClosurez"),new On(i,Ma))}var Ma={},w_=new On("about:invalid#zClosurez",Ma);function hs(i,a,c){this.a=c===b_?i:""}hs.prototype.ta=!0,hs.prototype.sa=function(){return this.a.toString()},hs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Yx(i){return i instanceof hs&&i.constructor===hs?i.a:(xt("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var b_={};function Qx(i,a){un(i,"HTMLScriptElement"),i.src=m_(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&i.setAttribute("nonce",a)}function E_(i,a,c,d){return i=i instanceof On?i:__(i),a=a||f,c=c instanceof cn?ld(c):c||"",a.open($c(i),c,d,void 0)}function I_(i,a){for(var c=i.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)d+=c.shift()+v.shift();return d+c.join("%s")}function hd(i){return Ke.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ne,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(J,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(be,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(fe,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(_e,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(Oe,"&#0;"))),i}function dd(i){return dd[" "](i),i}dd[" "]=m;function Jx(i,a){var c=nC;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=a(i)}var Zx=de("Opera"),mr=de("Trident")||de("MSIE"),T_=de("Edge"),eC=T_||mr,S_=de("Gecko")&&!(Ie(N.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),tC=Ie(N.toLowerCase(),"webkit")&&!de("Edge");function A_(){var i=f.document;return i?i.documentMode:void 0}var Hc;e:{var pd="",md=function(){var i=N;if(S_)return/rv:([^\);]+)(\)|;)/.exec(i);if(T_)return/Edge\/([\d\.]+)/.exec(i);if(mr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(tC)return/WebKit\/(\S+)/.exec(i);if(Zx)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(md&&(pd=md?md[1]:""),mr){var gd=A_();if(gd!=null&&gd>parseFloat(pd)){Hc=String(gd);break e}}Hc=pd}var nC={};function k_(i){return Jx(i,function(){for(var a=0,c=Z(String(Hc)).split("."),d=Z(String(i)).split("."),v=Math.max(c.length,d.length),w=0;a==0&&w<v;w++){var b=c[w]||"",S=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;a=O(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||O(b[2].length==0,S[2].length==0)||O(b[2],S[2]),b=b[3],S=S[3]}while(a==0)}return 0<=a})}var vd;if(f.document&&mr){var x_=A_();vd=x_||parseInt(Hc,10)||void 0}else vd=void 0;var gi=vd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var rC=!mr||9<=Number(gi);function Fa(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function C_(i,a){Re(a,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?i.style.cssText=c:d=="class"?i.className=c:d=="for"?i.htmlFor=c:N_.hasOwnProperty(d)?i.setAttribute(N_[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,c):i[d]=c})}var N_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function iC(i,a,c){var d=arguments,v=document,w=String(d[0]),b=d[1];if(!rC&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',hd(b.name),'"'),b.type){w.push(' type="',hd(b.type),'"');var S={};Fe(S,b),delete S.type,b=S}w.push(">"),w=w.join("")}return w=Kc(v,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):C_(w,b)),2<d.length&&oC(v,w,d),w}function oC(i,a,c){function d(S){S&&a.appendChild(typeof S=="string"?i.createTextNode(S):S)}for(var v=2;v<c.length;v++){var w=c[v];if(!_(w)||I(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(I(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(E(w)){b=typeof w.item=="function";break e}}b=!1}K(b?ie(w):w,d)}}}function Kc(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function O_(i){f.setTimeout(function(){throw i},0)}var yd;function sC(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!de("Presto")&&(i=function(){var v=Kc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var w=v.contentWindow;v=w.document,v.open(),v.close();var b="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;v=V(function(U){(S=="*"||U.origin==S)&&U.data==b&&this.port1.onmessage()},this),w.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,S)}}}),typeof i<"u"&&!de("Trident")&&!de("MSIE")){var a=new i,c={},d=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,a.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function Gc(i,a){zc||aC(),_d||(zc(),_d=!0),R_.add(i,a)}var zc;function aC(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);zc=function(){i.then(P_)}}else zc=function(){var a=P_;!E(f.setImmediate)||f.Window&&f.Window.prototype&&!de("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(yd||(yd=sC()),yd(a)):f.setImmediate(a)}}var _d=!1,R_=new vt;function P_(){for(var i;i=me();){try{i.a.call(i.b)}catch(a){O_(a)}Lt(Kn,i)}_d=!1}function Xe(i,a){if(this.a=io,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=m)try{var c=this;i.call(a,function(d){oo(c,Va,d)},function(d){if(!(d instanceof ds))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}oo(c,Qr,d)})}catch(d){oo(this,Qr,d)}}var io=0,Va=2,Qr=3;function D_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}D_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var L_=new Ht(function(){return new D_},function(i){i.reset()});function wd(i,a,c){var d=L_.get();return d.g=i,d.b=a,d.f=c,d}function Te(i){if(i instanceof Xe)return i;var a=new Xe(m);return oo(a,Va,i),a}function wt(i){return new Xe(function(a,c){c(i)})}function M_(i,a,c){j_(i,a,c,null)||Gc(ce(a,i))}function uC(i){return new Xe(function(a,c){var d=i.length,v=[];if(d)for(var w=function(X,Le){d--,v[X]=Le,d==0&&a(v)},b=function(X){c(X)},S=0,U;S<i.length;S++)U=i[S],M_(U,ce(w,S),b);else a(v)})}function F_(i){return new Xe(function(a){var c=i.length,d=[];if(c)for(var v=function(S,U,X){c--,d[S]=U?{Qb:!0,value:X}:{Qb:!1,reason:X},c==0&&a(d)},w=0,b;w<i.length;w++)b=i[w],M_(b,ce(v,w,!0),ce(v,w,!1));else a(d)})}Xe.prototype.then=function(i,a,c){return U_(this,E(i)?i:null,E(a)?a:null,c)},Xe.prototype.$goog_Thenable=!0,e=Xe.prototype,e.oa=function(i,a){return i=wd(i,i,a),i.c=!0,bd(this,i),this},e.o=function(i,a){return U_(this,null,i,a)},e.cancel=function(i){if(this.a==io){var a=new ds(i);Gc(function(){V_(this,a)},this)}};function V_(i,a){if(i.a==io)if(i.c){var c=i.c;if(c.b){for(var d=0,v=null,w=null,b=c.b;b&&(b.c||(d++,b.a==i&&(v=b),!(v&&1<d)));b=b.next)v||(w=b);v&&(c.a==io&&d==1?V_(c,a):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):q_(c),$_(c,v,Qr,a)))}i.c=null}else oo(i,Qr,a)}function bd(i,a){i.b||i.a!=Va&&i.a!=Qr||B_(i),i.f?i.f.next=a:i.b=a,i.f=a}function U_(i,a,c,d){var v=wd(null,null,null);return v.a=new Xe(function(w,b){v.g=a?function(S){try{var U=a.call(d,S);w(U)}catch(X){b(X)}}:w,v.b=c?function(S){try{var U=c.call(d,S);U===void 0&&S instanceof ds?b(S):w(U)}catch(X){b(X)}}:b}),v.a.c=i,bd(i,v),v.a}e.$c=function(i){this.a=io,oo(this,Va,i)},e.ad=function(i){this.a=io,oo(this,Qr,i)};function oo(i,a,c){i.a==io&&(i===c&&(a=Qr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,j_(c,i.$c,i.ad,i)||(i.i=c,i.a=a,i.c=null,B_(i),a!=Qr||c instanceof ds||lC(i,c)))}function j_(i,a,c,d){if(i instanceof Xe)return bd(i,wd(a||m,c||null,d)),!0;if(je(i))return i.then(a,c,d),!0;if(I(i))try{var v=i.then;if(E(v))return cC(i,v,a,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function cC(i,a,c,d,v){function w(U){S||(S=!0,d.call(v,U))}function b(U){S||(S=!0,c.call(v,U))}var S=!1;try{a.call(i,b,w)}catch(U){w(U)}}function B_(i){i.h||(i.h=!0,Gc(i.gc,i))}function q_(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=q_(this);)$_(this,i,this.a,this.i);this.h=!1};function $_(i,a,c,d){if(c==Qr&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,H_(a,c,d);else try{a.c?a.g.call(a.f):H_(a,c,d)}catch(v){K_.call(null,v)}Lt(L_,a)}function H_(i,a,c){a==Va?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function lC(i,a){i.g=!0,Gc(function(){i.g&&K_.call(null,a)})}var K_=O_;function ds(i){ve.call(this,i)}F(ds,ve),ds.prototype.name="cancel";function Wc(){this.ya=this.ya,this.pa=this.pa}var fC=0;Wc.prototype.ya=!1;function G_(i){!i.ya&&(i.ya=!0,i.Da(),fC!=0)&&T(i)}Wc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var hC=Object.freeze||function(i){return i},z_=!mr||9<=Number(gi),dC=mr&&!k_("9"),pC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",m,a),f.removeEventListener("test",m,a)}catch{}return i}();function Rn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}Rn.prototype.preventDefault=function(){this.defaultPrevented=!0};function so(i,a){if(Rn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(S_){e:{try{dd(a.nodeName);var v=!0;break e}catch{}v=!1}v||(a=null)}}else c=="mouseover"?a=i.fromElement:c=="mouseout"&&(a=i.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:mC[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}F(so,Rn);var mC=hC({2:"touch",3:"pen",4:"mouse"});so.prototype.preventDefault=function(){so.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,dC)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},so.prototype.g=function(){return this.a};var Ua="closure_listenable_"+(1e6*Math.random()|0),gC=0;function vC(i,a,c,d,v){this.listener=i,this.proxy=null,this.src=a,this.type=c,this.capture=!!d,this.Wa=v,this.key=++gC,this.wa=this.Qa=!1}function Xc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Yc(i){this.src=i,this.a={},this.b=0}Yc.prototype.add=function(i,a,c,d,v){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var b=Id(i,a,d,v);return-1<b?(a=i[b],c||(a.Qa=!1)):(a=new vC(a,this.src,w,!!d,v),a.Qa=c,i.push(a)),a};function Ed(i,a){var c=a.type;c in i.a&&B(i.a[c],a)&&(Xc(a),i.a[c].length==0&&(delete i.a[c],i.b--))}function Id(i,a,c,d){for(var v=0;v<i.length;++v){var w=i[v];if(!w.wa&&w.listener==a&&w.capture==!!c&&w.Wa==d)return v}return-1}var Td="closure_lm_"+(1e6*Math.random()|0),Sd={};function or(i,a,c,d,v){if(d&&d.once)Ad(i,a,c,d,v);else if(Array.isArray(a))for(var w=0;w<a.length;w++)or(i,a[w],c,d,v);else c=xd(c),i&&i[Ua]?Z_(i,a,c,I(d)?!!d.capture:!!d,v):W_(i,a,c,!1,d,v)}function W_(i,a,c,d,v,w){if(!a)throw Error("Invalid event type");var b=I(v)?!!v.capture:!!v,S=Qc(i);if(S||(i[Td]=S=new Yc(i)),c=S.add(a,c,d,b,w),!c.proxy)if(d=yC(),c.proxy=d,d.src=i,d.listener=c,i.addEventListener)pC||(v=b),v===void 0&&(v=!1),i.addEventListener(a.toString(),d,v);else if(i.attachEvent)i.attachEvent(Y_(a.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function yC(){var i=_C,a=z_?function(c){return i.call(a.src,a.listener,c)}:function(c){if(c=i.call(a.src,a.listener,c),!c)return c};return a}function Ad(i,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)Ad(i,a[w],c,d,v);else c=xd(c),i&&i[Ua]?Cd(i,a,c,I(d)?!!d.capture:!!d,v):W_(i,a,c,!0,d,v)}function Gn(i,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)Gn(i,a[w],c,d,v);else d=I(d)?!!d.capture:!!d,c=xd(c),i&&i[Ua]?(i=i.v,a=String(a).toString(),a in i.a&&(w=i.a[a],c=Id(w,c,d,v),-1<c&&(Xc(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete i.a[a],i.b--)))):i&&(i=Qc(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Id(a,c,d,v)),(c=-1<i?a[i]:null)&&X_(c))}function X_(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[Ua])Ed(a.v,i);else{var c=i.type,d=i.proxy;a.removeEventListener?a.removeEventListener(c,d,i.capture):a.detachEvent?a.detachEvent(Y_(c),d):a.addListener&&a.removeListener&&a.removeListener(d),(c=Qc(a))?(Ed(c,i),c.b==0&&(c.src=null,a[Td]=null)):Xc(i)}}}function Y_(i){return i in Sd?Sd[i]:Sd[i]="on"+i}function Q_(i,a,c,d){var v=!0;if((i=Qc(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var w=a[i];w&&w.capture==c&&!w.wa&&(w=J_(w,d),v=v&&w!==!1)}return v}function J_(i,a){var c=i.listener,d=i.Wa||i.src;return i.Qa&&X_(i),c.call(d,a)}function _C(i,a){if(i.wa)return!0;if(!z_){if(!a)e:{a=["window","event"];for(var c=f,d=0;d<a.length;d++)if(c=c[a[d]],c==null){a=null;break e}a=c}if(d=a,a=new so(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=a.b;v;v=v.parentNode)d.push(v);for(i=i.type,v=d.length-1;0<=v;v--){a.b=d[v];var w=Q_(d[v],i,!0,a);c=c&&w}for(v=0;v<d.length;v++)a.b=d[v],w=Q_(d[v],i,!1,a),c=c&&w}return c}return J_(i,new so(a,this))}function Qc(i){return i=i[Td],i instanceof Yc?i:null}var kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function xd(i){return E(i)?i:(i[kd]||(i[kd]=function(a){return i.handleEvent(a)}),i[kd])}function _n(){Wc.call(this),this.v=new Yc(this),this.bc=this,this.hb=null}F(_n,Wc),_n.prototype[Ua]=!0,_n.prototype.addEventListener=function(i,a,c,d){or(this,i,a,c,d)},_n.prototype.removeEventListener=function(i,a,c,d){Gn(this,i,a,c,d)},_n.prototype.dispatchEvent=function(i){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var d=i.type||i;if(typeof i=="string")i=new Rn(i,c);else if(i instanceof Rn)i.target=i.target||c;else{var v=i;i=new Rn(d,c),Fe(i,v)}if(v=!0,a)for(var w=a.length-1;0<=w;w--){var b=i.b=a[w];v=Jc(b,d,!0,i)&&v}if(b=i.b=c,v=Jc(b,d,!0,i)&&v,v=Jc(b,d,!1,i)&&v,a)for(w=0;w<a.length;w++)b=i.b=a[w],v=Jc(b,d,!1,i)&&v;return v},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var c=i.a[a],d=0;d<c.length;d++)Xc(c[d]);delete i.a[a],i.b--}}this.hb=null};function Z_(i,a,c,d,v){i.v.add(String(a),c,!1,d,v)}function Cd(i,a,c,d,v){i.v.add(String(a),c,!0,d,v)}function Jc(i,a,c,d){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var v=!0,w=0;w<a.length;++w){var b=a[w];if(b&&!b.wa&&b.capture==c){var S=b.listener,U=b.Wa||b.src;b.Qa&&Ed(i.v,b),v=S.call(U,d)!==!1&&v}}return v&&!d.defaultPrevented}function Nd(i,a,c){if(E(i))c&&(i=V(i,c));else if(i&&typeof i.handleEvent=="function")i=V(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function ps(i){var a=null;return new Xe(function(c,d){a=Nd(function(){c(void 0)},i),a==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function e0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var a=[],c=i.length,d=0;d<c;d++)a.push(i[d]);return a}a=[],c=0;for(d in i)a[c++]=i[d];return a}function t0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var a=[];i=i.length;for(var c=0;c<i;c++)a.push(c);return a}a=[],c=0;for(var d in i)a[c++]=d;return a}}function wC(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(_(i)||typeof i=="string")K(i,a,void 0);else for(var c=t0(i),d=e0(i),v=d.length,w=0;w<v;w++)a.call(void 0,d[w],c&&c[w],i)}function ms(i,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof ms)for(c=i.Y(),d=0;d<c.length;d++)this.set(c[d],i.get(c[d]));else for(d in i)this.set(d,i[d])}e=ms.prototype,e.X=function(){Od(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Od(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Od(i){if(i.c!=i.a.length){for(var a=0,c=0;a<i.a.length;){var d=i.a[a];ao(i.b,d)&&(i.a[c++]=d),a++}i.a.length=c}if(i.c!=i.a.length){var v={};for(c=a=0;a<i.a.length;)d=i.a[a],ao(v,d)||(i.a[c++]=d,v[d]=1),a++;i.a.length=c}}e.get=function(i,a){return ao(this.b,i)?this.b[i]:a},e.set=function(i,a){ao(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var c=this.Y(),d=0;d<c.length;d++){var v=c[d],w=this.get(v);i.call(a,w,v,this)}};function ao(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var n0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bC(i,a){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var d=i[c].indexOf("="),v=null;if(0<=d){var w=i[c].substring(0,d);v=i[c].substring(d+1)}else w=i[c];a(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function vi(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof vi?(this.i=a!==void 0?a:i.i,ja(this,i.c),this.l=i.l,this.a=i.a,Ba(this,i.g),this.f=i.f,Rd(this,s0(i.b)),this.h=i.h):i&&(c=String(i).match(n0))?(this.i=!!a,ja(this,c[1]||"",!0),this.l=qa(c[2]||""),this.a=qa(c[3]||"",!0),Ba(this,c[4]),this.f=qa(c[5]||"",!0),Rd(this,c[6]||"",!0),this.h=qa(c[7]||"")):(this.i=!!a,this.b=new uo(null,this.i))}vi.prototype.toString=function(){var i=[],a=this.c;a&&i.push($a(a,r0,!0),":");var c=this.a;return(c||a=="file")&&(i.push("//"),(a=this.l)&&i.push($a(a,r0,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push($a(c,c.charAt(0)=="/"?TC:IC,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",$a(c,AC)),i.join("")},vi.prototype.resolve=function(i){var a=new vi(this),c=!!i.c;c?ja(a,i.c):c=!!i.l,c?a.l=i.l:c=!!i.a,c?a.a=i.a:c=i.g!=null;var d=i.f;if(c)Ba(a,i.g);else if(c=!!i.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=a.f.lastIndexOf("/");v!=-1&&(d=a.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(Ie(v,"./")||Ie(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var w=[],b=0;b<v.length;){var S=v[b++];S=="."?d&&b==v.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==v.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=v}return c?a.f=d:c=i.b.toString()!=="",c?Rd(a,s0(i.b)):c=!!i.h,c&&(a.h=i.h),a};function ja(i,a,c){i.c=c?qa(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function Ba(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function Rd(i,a,c){a instanceof uo?(i.b=a,kC(i.b,i.i)):(c||(a=$a(a,SC)),i.b=new uo(a,i.i))}function Ot(i,a,c){i.b.set(a,c)}function sr(i,a){return i.b.get(a)}function Pn(i){return i instanceof vi?new vi(i):new vi(i,void 0)}function Zc(i,a,c,d){var v=new vi(null,void 0);return i&&ja(v,i),a&&(v.a=a),c&&Ba(v,c),d&&(v.f=d),v}function qa(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function $a(i,a,c){return typeof i=="string"?(i=encodeURI(i).replace(a,EC),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function EC(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var r0=/[#\/\?@]/g,IC=/[#\?:]/g,TC=/[#\?]/g,SC=/[#\?@]/g,AC=/#/g;function uo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function yi(i){i.a||(i.a=new ms,i.b=0,i.c&&bC(i.c,function(a,c){i.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function i0(i){var a=t0(i);if(typeof a>"u")throw Error("Keys are undefined");var c=new uo(null,void 0);i=e0(i);for(var d=0;d<a.length;d++){var v=a[d],w=i[d];Array.isArray(w)?o0(c,v,w):c.add(v,w)}return c}e=uo.prototype,e.add=function(i,a){yi(this),this.c=null,i=gs(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(a),this.b+=1,this};function Rr(i,a){yi(i),a=gs(i,a),ao(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,ao(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Od(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Pd(i,a){return yi(i),a=gs(i,a),ao(i.a.b,a)}e.forEach=function(i,a){yi(this),this.a.forEach(function(c,d){K(c,function(v){i.call(a,v,d,this)},this)},this)},e.Y=function(){yi(this);for(var i=this.a.X(),a=this.a.Y(),c=[],d=0;d<a.length;d++)for(var v=i[d],w=0;w<v.length;w++)c.push(a[d]);return c},e.X=function(i){yi(this);var a=[];if(typeof i=="string")Pd(this,i)&&(a=Y(a,this.a.get(gs(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)a=Y(a,i[c])}return a},e.set=function(i,a){return yi(this),this.c=null,i=gs(this,i),Pd(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function o0(i,a,c){Rr(i,a),0<c.length&&(i.c=null,i.a.set(gs(i,a),ie(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),c=0;c<a.length;c++){var d=a[c],v=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var b=v;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),i.push(b)}}return this.c=i.join("&")};function s0(i){var a=new uo;return a.c=i.c,i.a&&(a.a=new ms(i.a),a.b=i.b),a}function gs(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function kC(i,a){a&&!i.f&&(yi(i),i.c=null,i.a.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(Rr(this,d),o0(this,v,c))},i)),i.f=a}function a0(i){var a=[];return Dd(new xC,i,a),a.join("")}function xC(){}function Dd(i,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var d=a;a=d.length,c.push("[");for(var v="",w=0;w<a;w++)c.push(v),Dd(i,d[w],c),v=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),v="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(w=a[d],typeof w!="function"&&(c.push(v),c0(d,c),c.push(":"),Dd(i,w,c),v=","));c.push("}");return}}switch(typeof a){case"string":c0(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var u0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},CC=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function c0(i,a){a.push('"',i.replace(CC,function(c){var d=u0[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),u0[c]=d),d}),'"')}function Ld(){var i=Zt();return mr&&!!gi&&gi==11||/Edge\/\d+/.test(i)}function Ha(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function l0(i,a){a=a||f.window;var c="about:blank";i&&(c=$c(y_(i)||w_)),a.location.href=c}function f0(i,a){var c=[],d;for(d in i)d in a?typeof i[d]!=typeof a[d]?c.push(d):typeof i[d]=="object"&&i[d]!=null&&a[d]!=null?0<f0(i[d],a[d]).length&&c.push(d):i[d]!==a[d]&&c.push(d):c.push(d);for(d in a)d in i||c.push(d);return c}function NC(){var i=Zt();return i=vs(i)!=m0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!mr||!gi||9<gi}function h0(i){return i=(i||Zt()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function co(i){i=i||f.window;try{i.close()}catch{}}function d0(i,a,c){var d=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var v=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<v?v:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Zt().toLowerCase(),d&&(a.target=d,Ie(c,"crios/")&&(a.target="_blank")),vs(Zt())==Vd&&(i=i||"http://localhost",a.scrollbars=!0),c=i||"",(i=a)||(i={}),d=window,a=c instanceof On?c:y_(typeof c.href<"u"?c.href:String(c))||w_,c=i.target||c.target,v=[];for(b in i)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+i[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(i[b]?1:0))}var b=v.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(b=Kc(document,"A"),un(b,"HTMLAnchorElement"),a=a instanceof On?a:__(a),b.href=$c(a),b.setAttribute("target",c),i.noreferrer&&b.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(i),b={}):i.noreferrer?(b=E_("",d,c,b),i=$c(a),b&&(eC&&Ie(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),b.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+hd(i)+'">',i=(d=p_())?d.createHTML(i):i,i=new hs(i,null,b_),d=b.document)&&(d.write(Yx(i)),d.close())):(b=E_(a,d,c,b))&&i.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function OC(i){return new Xe(function(a){function c(){ps(2e3).then(function(){if(!i||i.closed)a();else return c()})}return c()})}var RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PC=/^[^@]+@[^@]+$/;function el(){var i=null;return new Xe(function(a){f.document.readyState=="complete"?a():(i=function(){a()},Ad(window,"load",i))}).o(function(a){throw Gn(window,"load",i),a})}function DC(){return Md(void 0)?el().then(function(){return new Xe(function(i,a){var c=f.document,d=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),i()},!1)})}):wt(Error("Cordova must run in an Android or iOS file scheme."))}function Md(i){return i=i||Zt(),!(_s()!=="file:"&&_s()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fd(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function gr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Pr(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function p0(){var i=Pr();return i==="ReactNative"||i==="Node"}function LC(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var Vd="Firefox",m0="Chrome";function vs(i){var a=i.toLowerCase();if(Ie(a,"opera/")||Ie(a,"opr/")||Ie(a,"opios/"))return"Opera";if(Ie(a,"iemobile"))return"IEMobile";if(Ie(a,"msie")||Ie(a,"trident/"))return"IE";if(Ie(a,"edge/"))return"Edge";if(Ie(a,"firefox/"))return Vd;if(Ie(a,"silk/"))return"Silk";if(Ie(a,"blackberry"))return"Blackberry";if(Ie(a,"webos"))return"Webos";if(!Ie(a,"safari/")||Ie(a,"chrome/")||Ie(a,"crios/")||Ie(a,"android"))if(!Ie(a,"chrome/")&&!Ie(a,"crios/")||Ie(a,"edge/")){if(Ie(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return m0;else return"Safari";return"Other"}var g0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ys(i,a){a=a||[];var c=[],d={},v;for(v in g0)d[g0[v]]=!0;for(v=0;v<a.length;v++)typeof d[a[v]]<"u"&&(delete d[a[v]],c.push(a[v]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=Pr(),c==="Browser"?(d=Zt(),c=vs(d)):c==="Worker"&&(d=Zt(),c=vs(d)+"-"+c),c+"/JsCore/"+i+"/"+a.join(",")}function Zt(){return f.navigator&&f.navigator.userAgent||""}function bt(i,a){i=i.split("."),a=a||f;for(var c=0;c<i.length&&typeof a=="object"&&a!=null;c++)a=a[i[c]];return c!=i.length&&(a=void 0),a}function Ud(){try{var i=f.localStorage,a=fo();if(i)return i.setItem(a,"1"),i.removeItem(a),Ld()?!!f.indexedDB:!0}catch{return gr()&&!!f.indexedDB}return!1}function lo(){return(tl()||_s()==="chrome-extension:"||Md())&&!p0()&&Ud()&&!gr()}function tl(){return _s()==="http:"||_s()==="https:"}function _s(){return f.location&&f.location.protocol||null}function Ka(i){return i=i||Zt(),!(h0(i)||vs(i)==Vd)}function Ga(i){return typeof i>"u"?null:a0(i)}function v0(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(a[c]=i[c]);return a}function ws(i){if(i!==null)return JSON.parse(i)}function fo(i){return i||Math.floor(1e9*Math.random()).toString()}function y0(i){return i=i||Zt(),!(vs(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function _0(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function _i(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=Zt(),a=Pr(),this.b=h0(i)||a==="ReactNative"}_i.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(tl()||_s()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function jd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function MC(){var i=f.document,a=null;return jd()||!i?Te():new Xe(function(c){a=function(){jd()&&(i.removeEventListener("visibilitychange",a,!1),c())},i.addEventListener("visibilitychange",a,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",a,!1),c})}function za(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function w0(){return!(!bt("fireauth.oauthhelper",f)&&!bt("fireauth.iframe",f))}function FC(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function VC(){var i=f.navigator;return i&&i.serviceWorker?Te().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Te(null)}var b0={};function Bd(i){b0[i]||(b0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var qd;try{var $d={};Object.defineProperty($d,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($d,"abcd",{configurable:!0,enumerable:!0,value:2}),qd=$d.abcd==2}catch{qd=!1}function ge(i,a,c){qd?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:c}):i[a]=c}function wn(i,a){if(a)for(var c in a)a.hasOwnProperty(c)&&ge(i,c,a[c])}function Dr(i){var a={};return wn(a,i),a}function UC(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&(a[c]=i[c]);return a}function jC(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var c=0;c<a.length;c++){var d=i[a[c]];if(d==null||d==="")return!1}return!0}function Hd(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var c in i)ge(a,c,Hd(i[c]))}return a}function Kd(i){var a=i&&(i[Xd]?"phone":null);if(a&&i&&i[Wd]){ge(this,"uid",i[Wd]),ge(this,"displayName",i[E0]||null);var c=null;i[zd]&&(c=new Date(i[zd]).toUTCString()),ge(this,"enrollmentTime",c),ge(this,"factorId",a)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Kd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Gd(i){try{var a=new Wa(i)}catch{a=null}return a}var E0="displayName",zd="enrolledAt",Wd="mfaEnrollmentId",Xd="phoneInfo";function Wa(i){Kd.call(this,i),ge(this,"phoneNumber",i[Xd])}F(Wa,Kd),Wa.prototype.w=function(){var i=Wa.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function BC(i){var a={},c=i[qC],d=i[HC],v=i[KC];if(i=Gd(i[$C]),!v||v!=nl&&v!=Xa&&!c||v==Xa&&!d||v==Yd&&!i)throw Error("Invalid checkActionCode response!");v==Xa?(a[T0]=c||null,a[S0]=c||null,a[I0]=d):(a[T0]=d||null,a[S0]=d||null,a[I0]=c||null),a[GC]=i||null,ge(this,WC,v),ge(this,zC,Hd(a))}var Yd="REVERT_SECOND_FACTOR_ADDITION",nl="EMAIL_SIGNIN",Xa="VERIFY_AND_CHANGE_EMAIL",qC="email",$C="mfaInfo",HC="newEmail",KC="requestType",I0="email",T0="fromEmail",GC="multiFactorInfo",S0="previousEmail",zC="data",WC="operation";function Qd(i){i=Pn(i);var a=sr(i,A0)||null,c=sr(i,k0)||null,d=sr(i,x0)||null;if(d=d&&JC[d]||null,!a||!c||!d)throw new k("argument-error",A0+", "+k0+"and "+x0+" are required in a valid action code URL.");wn(this,{apiKey:a,operation:d,code:c,continueUrl:sr(i,XC)||null,languageCode:sr(i,YC)||null,tenantId:sr(i,QC)||null})}var A0="apiKey",k0="oobCode",XC="continueUrl",YC="languageCode",x0="mode",QC="tenantId",JC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Yd,signIn:nl,verifyAndChangeEmail:Xa,verifyEmail:"VERIFY_EMAIL"};function C0(i){try{return new Qd(i)}catch{return null}}function rl(i){var a=i[ZC];if(typeof a>"u")throw new k("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new k("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=i[N0];if(c&&typeof c=="object"){a=c[L0];var d=c[P0];if(c=c[D0],typeof a=="string"&&a.length){if(this.a=a,typeof d<"u"&&typeof d!="boolean")throw new k("argument-error",P0+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",D0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new k("argument-error",L0+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",N0+" property must be a non null object when specified.");if(this.f=null,(a=i[R0])&&typeof a=="object"){if(a=a[M0],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new k("argument-error",M0+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new k("argument-error",R0+" property must be a non null object when specified.");if(a=i[Jd],typeof a<"u"&&typeof a!="boolean")throw new k("argument-error",Jd+" property must be a boolean when specified.");if(this.c=!!a,i=i[O0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new k("argument-error",O0+" property must be a non empty string when specified.");this.i=i||null}var N0="android",O0="dynamicLinkDomain",Jd="handleCodeInApp",R0="iOS",ZC="url",P0="installApp",D0="minimumVersion",L0="packageName",M0="bundleId";function il(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var c in a)a[c]===null&&delete a[c];return a}function eN(i){return Me(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Ya=null;function tN(i){var a=[];return nN(i,function(c){a.push(c)}),a}function nN(i,a){function c(U){for(;d<i.length;){var X=i.charAt(d++),Le=Ya[X];if(Le!=null)return Le;if(!/^[\s\xa0]*$/.test(X))throw Error("Unknown base64 encoding at char: "+X)}return U}rN();for(var d=0;;){var v=c(-1),w=c(0),b=c(64),S=c(64);if(S===64&&v===-1)break;a(v<<2|w>>4),b!=64&&(a(w<<4&240|b>>2),S!=64&&a(b<<6&192|S))}}function rN(){if(!Ya){Ya={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=i.concat(a[c].split("")),v=0;v<d.length;v++){var w=d[v];Ya[w]===void 0&&(Ya[w]=v)}}}function ol(i){var a=F0(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}ol.prototype.T=function(){return this.f},ol.prototype.l=function(){return this.c},ol.prototype.toString=function(){return this.h};function sl(i){try{return new ol(i)}catch{return null}}function F0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,c=0;c<a;c++)i+=".";try{var d=tN(i);for(i=[],c=a=0;a<d.length;){var v=d[a++];if(128>v)i[c++]=String.fromCharCode(v);else if(191<v&&224>v){var w=d[a++];i[c++]=String.fromCharCode((v&31)<<6|w&63)}else if(239<v&&365>v){w=d[a++];var b=d[a++],S=d[a++],U=((v&7)<<18|(w&63)<<12|(b&63)<<6|S&63)-65536;i[c++]=String.fromCharCode(55296+(U>>10)),i[c++]=String.fromCharCode(56320+(U&1023))}else w=d[a++],b=d[a++],i[c++]=String.fromCharCode((v&15)<<12|(w&63)<<6|b&63)}return JSON.parse(i.join(""))}catch{}return null}var V0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),al=["client_id","response_type","scope","redirect_uri","state"],Zd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:al},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:al},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:al},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:V0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ep(i){for(var a in Zd)if(Zd[a].fa==i)return Zd[a];return null}function U0(i){var a={};a["facebook.com"]=B0,a["google.com"]=$0,a["github.com"]=q0,a["twitter.com"]=H0;var c=i&&i[j0];try{if(c)return a[c]?new a[c](i):new Lr(i);if(typeof i[tp]<"u")return new np(i)}catch{}return null}var tp="idToken",j0="providerId";function np(i){var a=i[j0];if(!a&&i[tp]){var c=sl(i[tp]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),ge(this,"providerId",a),ge(this,"isNewUser",c)}function Lr(i){np.call(this,i),i=ws(i.rawUserInfo||"{}"),ge(this,"profile",Hd(i||{}))}F(Lr,np);function B0(i){if(Lr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}F(B0,Lr);function q0(i){if(Lr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");ge(this,"username",this.profile&&this.profile.login||null)}F(q0,Lr);function $0(i){if(Lr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}F($0,Lr);function H0(i){if(Lr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ge(this,"username",i.screenName||null)}F(H0,Lr);function K0(i){var a=Pn(i),c=sr(a,"link"),d=sr(Pn(c),"link");return a=sr(a,"deep_link_id"),sr(Pn(a),"link")||a||d||c||i}function ul(i,a){if(!i&&!a)throw new k("internal-error","Internal assert: no raw session string available");if(i&&a)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?Qa:cl}var Qa="enroll",cl="signin";ul.prototype.Ha=function(){return this.a?Te(this.a):Te(this.b)},ul.prototype.w=function(){return this.type==Qa?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function bs(){}bs.prototype.ka=function(){},bs.prototype.b=function(){},bs.prototype.c=function(){},bs.prototype.w=function(){};function Es(i,a){return i.then(function(c){if(c[_r]){var d=sl(c[_r]);if(!d||a!=d.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new k("user-mismatch"):c})}function ho(i,a){if(a)this.a=a;else throw new k("internal-error","failed to construct a credential");ge(this,"providerId",i),ge(this,"signInMethod",i)}ho.prototype.ka=function(i){return Ap(i,rp(this))},ho.prototype.b=function(i,a){var c=rp(this);return c.idToken=a,kp(i,c)},ho.prototype.c=function(i,a){return Es(xp(i,rp(this)),a)};function rp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function iN(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new ho(i.providerId,i.pendingToken)}catch{}return null}function Jr(i,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&ge(this,"idToken",a.idToken),a.accessToken&&ge(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&ge(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)ge(this,"accessToken",a.oauthToken),ge(this,"secret",a.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");ge(this,"providerId",i),ge(this,"signInMethod",c)}Jr.prototype.ka=function(i){return Ap(i,ip(this))},Jr.prototype.b=function(i,a){var c=ip(this);return c.idToken=a,kp(i,c)},Jr.prototype.c=function(i,a){var c=ip(this);return Es(xp(i,c),a)};function ip(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:i0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}Jr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function oN(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new Jr(i.providerId,a,i.signInMethod)}catch{}}return null}function po(i,a){this.Qc=a||[],wn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(ep(i)||{}).Ja||null,this.pb=null}po.prototype.Ka=function(i){return this.Jb=De(i),this};function G0(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,i,[])}F(G0,po);function zn(i){po.call(this,i,al),this.a=[]}F(zn,po),zn.prototype.Ca=function(i){return R(this.a,i)||this.a.push(i),this},zn.prototype.Rb=function(){return ie(this.a)},zn.prototype.credential=function(i,a){var c;if(I(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jr(this.providerId,c,this.providerId)};function mo(){zn.call(this,"facebook.com")}F(mo,zn),ge(mo,"PROVIDER_ID","facebook.com"),ge(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function z0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return I(i)&&(a=i.accessToken),new mo().credential({accessToken:a})}function go(){zn.call(this,"github.com")}F(go,zn),ge(go,"PROVIDER_ID","github.com"),ge(go,"GITHUB_SIGN_IN_METHOD","github.com");function W0(i){if(!i)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return I(i)&&(a=i.accessToken),new go().credential({accessToken:a})}function vo(){zn.call(this,"google.com"),this.Ca("profile")}F(vo,zn),ge(vo,"PROVIDER_ID","google.com"),ge(vo,"GOOGLE_SIGN_IN_METHOD","google.com");function X0(i,a){var c=i;return I(i)&&(c=i.idToken,a=i.accessToken),new vo().credential({idToken:c,accessToken:a})}function Is(){po.call(this,"twitter.com",V0)}F(Is,po),ge(Is,"PROVIDER_ID","twitter.com"),ge(Is,"TWITTER_SIGN_IN_METHOD","twitter.com");function Y0(i,a){var c=i;if(I(c)||(c={oauthToken:i,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jr("twitter.com",c,"twitter.com")}function wi(i,a,c){this.a=i,this.f=a,ge(this,"providerId","password"),ge(this,"signInMethod",c===ar.EMAIL_LINK_SIGN_IN_METHOD?ar.EMAIL_LINK_SIGN_IN_METHOD:ar.EMAIL_PASSWORD_SIGN_IN_METHOD)}wi.prototype.ka=function(i){return this.signInMethod==ar.EMAIL_LINK_SIGN_IN_METHOD?Ye(i,$N,{email:this.a,oobCode:this.f}):Ye(i,Tw,{email:this.a,password:this.f})},wi.prototype.b=function(i,a){return this.signInMethod==ar.EMAIL_LINK_SIGN_IN_METHOD?Ye(i,HN,{idToken:a,email:this.a,oobCode:this.f}):Ye(i,Iw,{idToken:a,email:this.a,password:this.f})},wi.prototype.c=function(i,a){return Es(this.ka(i),a)},wi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function sN(i){return i&&i.email&&i.password?new wi(i.email,i.password,i.signInMethod):null}function ar(){wn(this,{providerId:"password",isOAuthProvider:!1})}function Q0(i,a){if(a=op(a),!a)throw new k("argument-error","Invalid email link!");return new wi(i,a.code,ar.EMAIL_LINK_SIGN_IN_METHOD)}function op(i){return i=K0(i),(i=C0(i))&&i.operation===nl?i:null}wn(ar,{PROVIDER_ID:"password"}),wn(ar,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),wn(ar,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function bi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new k("internal-error");this.a=i,ge(this,"providerId","phone"),this.fa="phone",ge(this,"signInMethod","phone")}bi.prototype.ka=function(i){return i.gb(Ja(this))},bi.prototype.b=function(i,a){var c=Ja(this);return c.idToken=a,Ye(i,lO,c)},bi.prototype.c=function(i,a){var c=Ja(this);return c.operation="REAUTH",i=Ye(i,fO,c),Es(i,a)},bi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function aN(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(a[c]=i[c])}),new bi(a)}return null}function Ja(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function Zr(i){try{this.a=i||Ce.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}wn(this,{providerId:"phone",isOAuthProvider:!1})}Zr.prototype.gb=function(i,a){var c=this.a.a;return Te(a.verify()).then(function(d){if(typeof d!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var v=I(i)?i.session:null,w=I(i)?i.phoneNumber:i,b;return v&&v.type==Qa?b=v.Ha().then(function(S){return DN(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):v&&v.type==cl?b=v.Ha().then(function(S){return LN(c,{mfaPendingCredential:S,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=PN(c,{phoneNumber:w,recaptchaToken:d}),b.then(function(S){return typeof a.reset=="function"&&a.reset(),S},function(S){throw typeof a.reset=="function"&&a.reset(),S});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function J0(i,a){if(!i)throw new k("missing-verification-id");if(!a)throw new k("missing-verification-code");return new bi({fb:i,eb:a})}wn(Zr,{PROVIDER_ID:"phone"}),wn(Zr,{PHONE_SIGN_IN_METHOD:"phone"});function sp(i){if(i.temporaryProof&&i.phoneNumber)return new bi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var c=i&&i.oauthAccessToken,d=i&&i.oauthTokenSecret,v=i&&i.nonce,w=i&&i.oauthIdToken,b=i&&i.pendingToken;try{switch(a){case"google.com":return X0(w,c);case"facebook.com":return z0(c);case"github.com":return W0(c);case"twitter.com":return Y0(c,d);default:return c||d||w||b?b?a.indexOf("saml.")==0?new ho(a,b):new Jr(a,{pendingToken:b,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new zn(a).credential({idToken:w,accessToken:c,rawNonce:v}):null}}catch{return null}}function ap(i){if(!i.isOAuthProvider)throw new k("invalid-oauth-provider")}function vr(i,a,c,d,v,w,b){if(this.c=i,this.b=a||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}vr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},vr.prototype.T=function(){return this.h},vr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Z0(i){return i=i||{},i.type?new vr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Ne(i.error),i.postBody,i.tenantId):null}function uN(){this.b=null,this.a=[]}var up=null;function cN(i){var a=up;a.a.push(i),a.b||(a.b=function(c){for(var d=0;d<a.a.length;d++)a.a[d](c)},i=bt("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function cp(i){var a="unauthorized-domain",c=void 0,d=Pn(i);i=d.a,d=d.c,d=="chrome-extension"?c=I_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):d=="http"||d=="https"?c=I_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",k.call(this,a,c)}F(cp,k);function Za(i,a,c){k.call(this,i,c),i=a||{},i.Kb&&ge(this,"email",i.Kb),i.ea&&ge(this,"phoneNumber",i.ea),i.credential&&ge(this,"credential",i.credential),i.$b&&ge(this,"tenantId",i.$b)}F(Za,k),Za.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&Fe(i,a),i},Za.prototype.toJSON=function(){return this.w()};function ll(i){if(i.code){var a=i.code||"";a.indexOf(oe)==0&&(a=a.substring(oe.length));var c={credential:sp(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new k(a,i.message||void 0);return new Za(a,c,i.message)}return null}function eu(){}eu.prototype.c=null;function ew(i){return i.c||(i.c=i.b())}var lp;function fl(){}F(fl,eu),fl.prototype.a=function(){var i=tw(this);return i?new ActiveXObject(i):new XMLHttpRequest},fl.prototype.b=function(){var i={};return tw(this)&&(i[0]=!0,i[1]=!0),i};function tw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),i.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}lp=new fl;function hl(){}F(hl,eu),hl.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new nw;throw Error("Unsupported browser")},hl.prototype.b=function(){return{}};function nw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}e=nw.prototype,e.open=function(i,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,fp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",fp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,fp(this,1)};function fp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function hp(i,a,c){this.reset(i,a,c,void 0,void 0)}hp.prototype.a=null,hp.prototype.reset=function(i,a,c,d,v){delete this.a};function dp(i){this.f=i,this.b=this.c=this.a=null}function tu(i,a){this.name=i,this.value=a}tu.prototype.toString=function(){return this.name};var rw=new tu("SEVERE",1e3),pp=new tu("WARNING",900),lN=new tu("CONFIG",700),fN=new tu("FINE",500);function iw(i){return i.c?i.c:i.a?iw(i.a):(xt("Root logger has no level set."),null)}dp.prototype.log=function(i,a,c){if(i.value>=iw(this).value)for(E(a)&&(a=a()),i=new hp(i,String(a),this.f),c&&(i.a=c),c=this;c;)c=c.a};var mp={},dl=null;function gp(i){dl||(dl=new dp(""),mp[""]=dl,dl.c=lN);var a;if(!(a=mp[i])){a=new dp(i);var c=i.lastIndexOf("."),d=i.substr(c+1);c=gp(i.substr(0,c)),c.b||(c.b={}),c.b[d]=a,a.a=c,mp[i]=a}return a}function ur(i,a){i&&i.log(fN,a,void 0)}function pl(i){this.f=i}F(pl,eu),pl.prototype.a=function(){return new ml(this.f)},pl.prototype.b=function(i){return function(){return i}}({});function ml(i){_n.call(this),this.u=i,this.h=void 0,this.readyState=vp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=gp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}F(ml,_n);var vp=0;e=ml.prototype,e.open=function(i,a){if(this.readyState!=vp)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,ru(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,nu(this)),this.readyState=vp},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,ru(this)),this.a&&(this.readyState=3,ru(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,ow(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function ow(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?nu(this):ru(this),this.readyState==3&&ow(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,nu(this))},e.sc=function(i){this.a&&(this.response=i,nu(this))},e.Va=function(i){var a=this.i;a&&a.log(pp,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&nu(this)};function nu(i){i.readyState=4,i.g=null,i.c=null,i.m=null,ru(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(pp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(pp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=a.next();return i.join(`\r
`)};function ru(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function iu(i){_n.call(this),this.headers=new ms,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=sw,this.u=this.S=!1}F(iu,_n);var sw="";iu.prototype.b=gp("goog.net.XhrIo");var hN=/^https?$/i,dN=["POST","PUT"];function pN(i,a,c,d,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);c=c?c.toUpperCase():"GET",i.l=a,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():lp.a(),i.C=i.D?ew(i.D):ew(lp),i.a.onreadystatechange=V(i.Wb,i);try{ur(i.b,ei(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(a),!0),i.N=!1}catch(b){ur(i.b,ei(i,"Error opening Xhr: "+b.message)),aw(i,b);return}a=d||"";var w=new ms(i.headers);v&&wC(v,function(b,S){w.set(S,b)}),v=x(w.Y()),d=f.FormData&&a instanceof f.FormData,!R(dN,c)||v||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,S){this.a.setRequestHeader(S,b)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{lw(i),0<i.g&&(i.u=mN(i.a),ur(i.b,ei(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=V(i.Ma,i)):i.s=Nd(i.Ma,i.g,i)),ur(i.b,ei(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(b){ur(i.b,ei(i,"Send error: "+b.message)),aw(i,b)}}function mN(i){return mr&&k_(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function gN(i){return i.toLowerCase()=="content-type"}e=iu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ur(this.b,ei(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function aw(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,uw(i),gl(i)}function uw(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ur(this.b,ei(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),gl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),gl(this,!0)),iu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?cw(this):this.Jc())},e.Jc=function(){cw(this)};function cw(i){if(i.c&&typeof l<"u"){if(i.C[1]&&ou(i)==4&&vl(i)==2)ur(i.b,ei(i,"Local request error detected and ignored"));else if(i.i&&ou(i)==4)Nd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),ou(i)==4){ur(i.b,ei(i,"Request complete")),i.c=!1;try{var a=vl(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var v;if(v=a===0){var w=String(i.l).match(n0)[1]||null;if(!w&&f.self&&f.self.location){var b=f.self.location.protocol;w=b.substr(0,b.length-1)}v=!hN.test(w?w.toLowerCase():"")}d=v}if(d)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var S=2<ou(i)?i.a.statusText:""}catch(U){ur(i.b,"Can not get status: "+U.message),S=""}i.h=S+" ["+vl(i)+"]",uw(i)}}finally{gl(i)}}}}function gl(i,a){if(i.a){lw(i);var c=i.a,d=i.C[0]?m:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{c.onreadystatechange=d}catch(v){(i=i.b)&&i.log(rw,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function lw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ou(i){return i.a?i.a.readyState:0}function vl(i){try{return 2<ou(i)?i.a.status:-1}catch{return-1}}function vN(i){try{return i.a?i.a.responseText:""}catch(a){return ur(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case sw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(rw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return ur(this.b,"Can not get response: "+a.message),null}};function ei(i,a){return a+" ["+i.P+" "+i.l+" "+vl(i)+"]"}function yo(i){var a=wN;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}yo.prototype.cancel=function(i){if(this.a)this.c instanceof yo&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new au,yl(this),su(this,!1,i))}},yo.prototype.m=function(i,a){this.i=!1,su(this,i,a)};function su(i,a,c){i.a=!0,i.c=c,i.f=!a,hw(i)}function yl(i){if(i.a){if(!i.v)throw new _l;i.v=!1}}function yN(i,a){yp(i,null,a,void 0)}function yp(i,a,c,d){i.g.push([a,c,d]),i.a&&hw(i)}yo.prototype.then=function(i,a,c){var d,v,w=new Xe(function(b,S){d=b,v=S});return yp(this,d,function(b){b instanceof au?w.cancel():v(b)}),w.then(i,a,c)},yo.prototype.$goog_Thenable=!0;function fw(i){return A(i.g,function(a){return E(a[1])})}function hw(i){if(i.h&&i.a&&fw(i)){var a=i.h,c=wl[a];c&&(f.clearTimeout(c.a),delete wl[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var d=c=!1;i.g.length&&!i.i;){var v=i.g.shift(),w=v[0],b=v[1];if(v=v[2],w=i.f?b:w)try{var S=w.call(v||i.s,a);S!==void 0&&(i.f=i.f&&(S==a||S instanceof Error),i.c=a=S),(je(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(d=!0,i.i=!0)}catch(U){a=U,i.f=!0,fw(i)||(c=!0)}}i.c=a,d&&(S=V(i.m,i,!0),d=V(i.m,i,!1),a instanceof yo?(yp(a,S,d),a.C=!0):a.then(S,d)),c&&(a=new dw(a),wl[a.a]=a,i.h=a.a)}function _l(){ve.call(this)}F(_l,ve),_l.prototype.message="Deferred has already fired",_l.prototype.name="AlreadyCalledError";function au(){ve.call(this)}F(au,ve),au.prototype.message="Deferred was canceled",au.prototype.name="CanceledError";function dw(i){this.a=f.setTimeout(V(this.c,this),0),this.b=i}dw.prototype.c=function(){throw delete wl[this.a],this.b};var wl={};function _p(i){var a={},c=a.document||document,d=m_(i).toString(),v=Kc(document,"SCRIPT"),w={Xb:v,Ma:void 0},b=new yo(w),S=null,U=a.timeout!=null?a.timeout:5e3;return 0<U&&(S=window.setTimeout(function(){bl(v,!0);var X=new wp(EN,"Timeout reached for loading script "+d);yl(b),su(b,!1,X)},U),w.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(bl(v,a.xd||!1,S),yl(b),su(b,!0,null))},v.onerror=function(){bl(v,!0,S);var X=new wp(bN,"Error while loading script "+d);yl(b),su(b,!1,X)},w=a.attributes||{},Fe(w,{type:"text/javascript",charset:"UTF-8"}),C_(v,w),Qx(v,i),_N(c).appendChild(v),b}function _N(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function wN(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&bl(i,!0,this.Ma)}}function bl(i,a,c){c!=null&&f.clearTimeout(c),i.onload=m,i.onerror=m,i.onreadystatechange=m,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var bN=0,EN=1;function wp(i,a){var c="Jsloader error (code #"+i+")";a&&(c+=": "+a),ve.call(this,c),this.code=i}F(wp,ve);function El(i){this.f=i}F(El,eu),El.prototype.a=function(){return new this.f},El.prototype.b=function(){return{}};function yr(i,a,c){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||IN,this.g=De(i.secureTokenHeaders||TN),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||SN,this.a=De(i.firebaseHeaders||AN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Pr()=="Node",c=f.XMLHttpRequest||c&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest,!c&&!gr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gr()?this.f=new pl(self):p0()?this.f=new El(c):this.f=new hl,this.b=null}var bp,_r="idToken",IN=new _i(3e4,6e4),TN={"Content-Type":"application/x-www-form-urlencoded"},SN=new _i(3e4,6e4),AN={"Content-Type":"application/json"};function pw(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Il(i,a){a&&(i.l=Ep("https://securetoken.googleapis.com/v1/token",a),i.h=Ep("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Ep("https://identitytoolkit.googleapis.com/v2/",a))}function Ep(i,a){return i=Pn(i),a=Pn(a.url),i.f=i.a+i.f,ja(i,a.c),i.a=a.a,Ba(i,a.g),i.toString()}function mw(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}yr.prototype.T=function(){return this.b};function gw(i,a,c,d,v,w,b){NC()||gr()?i=V(i.u,i):(bp||(bp=new Xe(function(S,U){xN(S,U)})),i=V(i.s,i)),i(a,c,d,v,w,b)}yr.prototype.u=function(i,a,c,d,v,w){if(gr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new iu(this.f);if(w){b.g=Math.max(0,w);var S=setTimeout(function(){b.dispatchEvent("timeout")},w)}Z_(b,"complete",function(){S&&clearTimeout(S);var U=null;try{U=JSON.parse(vN(this))||null}catch{U=null}a&&a(U)}),Cd(b,"ready",function(){S&&clearTimeout(S),G_(this)}),Cd(b,"timeout",function(){S&&clearTimeout(S),G_(this),a&&a(null)}),pN(b,i,c,d,v)};var kN=new cn(Bc,"https://apis.google.com/js/client.js?onload=%{onload}"),vw="__fcb"+Math.floor(1e6*Math.random()).toString();function xN(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[vw]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var c=fd(kN,{onload:vw});yN(_p(c),function(){a(Error("CORS_UNSUPPORTED"))})}}yr.prototype.s=function(i,a,c,d,v){var w=this;bp.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:d,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(b),a&&a(S)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function CN(i,a){return new Xe(function(c,d){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?gw(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?d(Np(v)):v.access_token&&v.refresh_token?c(v):d(new k("internal-error")):d(new k("network-request-failed"))},"POST",i0(a).toString(),i.g,i.m.get()):d(new k("internal-error"))})}function yw(i,a,c,d,v,w,b){var S=Pn(a+c);Ot(S,"key",i.c),b&&Ot(S,"cb",Date.now().toString());var U=d=="GET";if(U)for(var X in v)v.hasOwnProperty(X)&&Ot(S,X,v[X]);return new Xe(function(Le,at){gw(i,S.toString(),function(rt){rt?rt.error?at(Np(rt,w||{})):Le(rt):at(new k("network-request-failed"))},d,U?void 0:a0(v0(v)),i.a,i.v.get())})}function _o(i){if(i=i.email,typeof i!="string"||!PC.test(i))throw new k("invalid-email")}function _w(i){"email"in i&&_o(i)}function NN(i,a){return Ye(i,jN,{identifier:a,continueUri:tl()?Ha():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function ON(i){return Ye(i,JN,{}).then(function(a){return a.authorizedDomains||[]})}function Dn(i){if(!i[_r])throw i.mfaPendingCredential?new k("multi-factor-auth-required",null,De(i)):new k("internal-error")}function Ip(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new k("internal-error")}else{if(!i.sessionInfo)throw new k("missing-verification-id");if(!i.code)throw new k("missing-verification-code")}}yr.prototype.Ab=function(){return Ye(this,nO,{})},yr.prototype.Cb=function(i,a){return Ye(this,Ew,{idToken:i,email:a})},yr.prototype.Db=function(i,a){return Ye(this,Iw,{idToken:i,password:a})};var RN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=yr.prototype,e.Eb=function(i,a){var c={idToken:i},d=[];return Re(RN,function(v,w){var b=a[w];b===null?d.push(v):w in a&&(c[w]=b)}),d.length&&(c.deleteAttribute=d),Ye(this,Ew,c)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},Fe(i,a),Ye(this,QN,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},Fe(i,a),Ye(this,WN,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},Fe(i,a),Ye(this,XN,i)},e.Fb=function(i,a,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},Fe(i,c),Ye(this,YN,i)};function PN(i,a){return Ye(i,tO,a)}e.gb=function(i){return Ye(this,cO,i)};function DN(i,a){return Ye(i,rO,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function ww(i){if(!i.phoneVerificationInfo)throw new k("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new k("missing-verification-code")}function LN(i,a){return Ye(i,iO,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function MN(i,a,c){return Ye(i,qN,{idToken:a,deleteProvider:c})}function Tp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new k("internal-error")}function Sp(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new uo(i.postBody),Pd(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function bw(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=ll(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=ll(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=ll(i)):i.errorMessage&&(a=Sw(i.errorMessage)),a)throw a;Dn(i)}function Ap(i,a){return a.returnIdpCredential=!0,Ye(i,oO,a)}function kp(i,a){return a.returnIdpCredential=!0,Ye(i,aO,a)}function xp(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Ye(i,sO,a)}function Cp(i){if(!i.oobCode)throw new k("invalid-action-code")}e.ob=function(i,a){return Ye(this,eO,{oobCode:i,newPassword:a})},e.Sa=function(i){return Ye(this,VN,{oobCode:i})},e.kb=function(i){return Ye(this,FN,{oobCode:i})};var FN={endpoint:"setAccountInfo",A:Cp,Z:"email",B:!0},VN={endpoint:"resetPassword",A:Cp,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},UN={endpoint:"signupNewUser",A:function(i){if(_o(i),!i.password)throw new k("weak-password")},G:Dn,V:!0,B:!0},jN={endpoint:"createAuthUri",B:!0},BN={endpoint:"deleteAccount",O:["idToken"]},qN={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new k("internal-error")}},$N={endpoint:"emailLinkSignin",O:["email","oobCode"],A:_o,G:Dn,V:!0,B:!0},HN={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:_o,G:Dn,V:!0},KN={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ww,G:Dn,B:!0,Na:!0},GN={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ww,G:Dn,B:!0,Na:!0},zN={endpoint:"getAccountInfo"},WN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new k("internal-error");_o(i)},Z:"email",B:!0},XN={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},YN={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},QN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new k("internal-error");_o(i)},Z:"email",B:!0},JN={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ZN={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new k("internal-error")}},eO={endpoint:"resetPassword",A:Cp,Z:"email",B:!0},tO={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ew={endpoint:"setAccountInfo",O:["idToken"],A:_w,V:!0},Iw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(_w(i),!i.password)throw new k("weak-password")},G:Dn,V:!0},nO={endpoint:"signupNewUser",G:Dn,V:!0,B:!0},rO={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new k("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},iO={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},oO={endpoint:"verifyAssertion",A:Tp,Za:Sp,G:bw,V:!0,B:!0},sO={endpoint:"verifyAssertion",A:Tp,Za:Sp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(i.errorMessage)throw Sw(i.errorMessage);Dn(i)},V:!0,B:!0},aO={endpoint:"verifyAssertion",A:function(i){if(Tp(i),!i.idToken)throw new k("internal-error")},Za:Sp,G:bw,V:!0},uO={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new k("invalid-custom-token")},G:Dn,V:!0,B:!0},Tw={endpoint:"verifyPassword",A:function(i){if(_o(i),!i.password)throw new k("wrong-password")},G:Dn,V:!0,B:!0},cO={endpoint:"verifyPhoneNumber",A:Ip,G:Dn,B:!0},lO={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new k("internal-error");Ip(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",ll(i);Dn(i)}},fO={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ip,G:Dn,B:!0},hO={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[_r]^!!i.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function Ye(i,a,c){if(!jC(c,a.O))return wt(new k("internal-error"));var d=!!a.Na,v=a.Vb||"POST",w;return Te(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),d?yw(i,i.i,a.endpoint,v,c,a.Ib,a.mb||!1):yw(i,i.h,a.endpoint,v,c,a.Ib,a.mb||!1)}).then(function(b){return w=b,a.Za?a.Za(c,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new k("internal-error");return w[a.Z]})}function Sw(i){return Np({error:{errors:[{message:i}],code:400,message:i}})}function Np(i,a){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new k(d[c]):null)return c;c=i.error&&i.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Fe(d,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var v in d)if(c.indexOf(v)===0)return new k(d[v],a);return!a&&i&&(a=Ga(i)),new k("internal-error",a)}function dO(i){this.b=i,this.a=null,this.sb=pO(this)}function pO(i){return wO().then(function(){return new Xe(function(a,c){bt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(w),a()}i.a=d,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},_O.get());d.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function mO(i,a){return i.sb.then(function(){return new Xe(function(c){i.a.send(a.type,a,c,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function gO(i,a){i.sb.then(function(){i.a.register("authEvent",a,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var vO=new cn(Bc,"https://apis.google.com/js/api.js?onload=%{onload}"),yO=new _i(3e4,6e4),_O=new _i(5e3,15e3),Tl=null;function wO(){return Tl||(Tl=new Xe(function(i,a){function c(){_0(),bt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){_0(),a(Error("Network Error"))},timeout:yO.get()})}if(bt("gapi.iframes.Iframe"))i();else if(bt("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){bt("gapi.load")?c():a(Error("Network Error"))},d=fd(vO,{onload:d}),Te(_p(d)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Tl=null,i}))}function Aw(i,a,c,d){this.l=i,this.h=a,this.i=c,this.g=d,this.f=null,this.g?(i=Pn(this.g.url),i=Zc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Zc("https",this.l,null,"/__/auth/iframe"),this.a=i,Ot(this.a,"apiKey",this.h),Ot(this.a,"appName",this.i),this.b=null,this.c=[]}Aw.prototype.toString=function(){return this.f?Ot(this.a,"v",this.f):Rr(this.a.b,"v"),this.b?Ot(this.a,"eid",this.b):Rr(this.a.b,"eid"),this.c.length?Ot(this.a,"fw",this.c.join(",")):Rr(this.a.b,"fw"),this.a.toString()};function Op(i,a,c,d,v,w){this.u=i,this.s=a,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Op.prototype.zb=function(i){return this.h=i,this},Op.prototype.toString=function(){if(this.v){var i=Pn(this.v.url);i=Zc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Zc("https",this.u,null,"/__/auth/handler");if(Ot(i,"apiKey",this.s),Ot(i,"appName",this.c),Ot(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=Ce.app(this.c).auth().la()}catch{c=null}a.pb=c,Ot(i,"providerId",this.a.providerId),c=this.a,a=v0(c.Jb);for(var d in a)a[d]=a[d].toString();d=c.Qc,a=De(a);for(var v=0;v<d.length;v++){var w=d[v];w in a&&delete a[w]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),$e(a)||Ot(i,"customParameters",Ga(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ot(i,"scopes",c.join(","))),this.l?Ot(i,"redirectUrl",this.l):Rr(i.b,"redirectUrl"),this.g?Ot(i,"eventId",this.g):Rr(i.b,"eventId"),this.i?Ot(i,"v",this.i):Rr(i.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!sr(i,b)&&Ot(i,b,this.b[b]);return this.h?Ot(i,"tid",this.h):Rr(i.b,"tid"),this.f?Ot(i,"eid",this.f):Rr(i.b,"eid"),b=Rp(this.c),b.length&&Ot(i,"fw",b.join(",")),i.toString()};function Rp(i){try{return Ce.app(i).auth().Ga()}catch{return[]}}function kw(i,a,c,d,v,w){this.s=i,this.g=a,this.b=c,this.f=w,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function xw(i){var a=Ha();return ON(i).then(function(c){e:{var d=Pn(a),v=d.c;d=d.a;for(var w=0;w<c.length;w++){var b=c[w],S=d,U=v;if(b.indexOf("chrome-extension://")==0?S=Pn(b).a==S&&U=="chrome-extension":U!="http"&&U!="https"?S=!1:RC.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new cp(Ha())})}function Cw(i){return i.m||(i.m=el().then(function(){if(!i.u){var a=i.c,c=i.i,d=Rp(i.b),v=new Aw(i.s,i.g,i.b,i.f);v.f=a,v.b=c,v.c=ie(d||[]),i.u=v.toString()}i.v=new dO(i.u),bO(i)})),i.m}e=kw.prototype,e.Pb=function(i,a,c){var d=new k("popup-closed-by-user"),v=new k("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){EO(w).then(function(S){S||(i&&co(i),a(v),b=!0)})}).o(function(){}).then(function(){if(!b)return OC(i)}).then(function(){if(!b)return ps(c).then(function(){a(d)})})},e.Yb=function(){var i=Zt();return!Ka(i)&&!y0(i)},e.Ub=function(){return!1},e.Nb=function(i,a,c,d,v,w,b,S){if(!i)return wt(new k("popup-blocked"));if(b&&!Ka())return this.ma().o(function(X){co(i),v(X)}),d(),Te();this.a||(this.a=xw(Nw(this)));var U=this;return this.a.then(function(){var X=U.ma().o(function(Le){throw co(i),v(Le),Le});return d(),X}).then(function(){if(ap(c),!b){var X=uu(U.s,U.g,U.b,a,c,null,w,U.c,void 0,U.i,S,U.f);l0(X,i)}}).o(function(X){throw X.code=="auth/network-request-failed"&&(U.a=null),X})};function Nw(i){return i.l||(i.C=i.c?ys(i.c,Rp(i.b)):null,i.l=new yr(i.g,ze(i.i),i.C),i.f&&Il(i.l,i.f)),i.l}e.Ob=function(i,a,c,d){this.a||(this.a=xw(Nw(this)));var v=this;return this.a.then(function(){ap(a);var w=uu(v.s,v.g,v.b,i,a,Ha(),c,v.c,void 0,v.i,d,v.f);l0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(v.a=null),w})},e.ma=function(){var i=this;return Cw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function uu(i,a,c,d,v,w,b,S,U,X,Le,at){return i=new Op(i,a,c,d,v,at),i.l=w,i.g=b,i.i=S,i.b=De(U||null),i.f=X,i.zb(Le).toString()}function bO(i){if(!i.v)throw Error("IfcHandler must be initialized!");gO(i.v,function(a){var c={};if(a&&a.authEvent){var d=!1;for(a=Z0(a.authEvent),c=0;c<i.h.length;c++)d=i.h[c](a)||d;return c={},c.status=d?"ACK":"ERROR",Te(c)}return c.status="ERROR",Te(c)})}function EO(i){var a={type:"webStorageSupport"};return Cw(i).then(function(){return mO(i.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){q(this.h,function(a){return a==i})};function Ow(i){if(this.a=i||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Ow.prototype,e.get=function(i){return Te(this.a.getItem(i)).then(function(a){return a&&ws(a)})},e.set=function(i,a){return Te(this.a.setItem(i,Ga(a)))},e.U=function(i){return Te(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Rw(i){this.b=i,this.a={},this.f=V(this.c,this)}var Pw=[];function IO(){var i=gr()?self:null;if(K(Pw,function(c){c.b==i&&(a=c)}),!a){var a=new Rw(i);Pw.push(a)}return a}Rw.prototype.c=function(i){var a=i.data.eventType,c=i.data.eventId,d=this.a[a];if(d&&0<d.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var v=[];K(d,function(w){v.push(Te().then(function(){return w(i.origin,i.data.data)}))}),F_(v).then(function(w){var b=[];K(w,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),K(b,function(S){for(var U in S)typeof S[U]>"u"&&delete S[U]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:b})})}};function Dw(i,a,c){$e(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(c)}function Lw(i){this.a=i}Lw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Mw(i){this.c=i,this.b=!1,this.a=[]}function Fw(i,a,c,d){var v,w=c||{},b,S,U,X=null;if(i.b)return wt(Error("connection_unavailable"));var Le=d?800:50,at=typeof MessageChannel<"u"?new MessageChannel:null;return new Xe(function(rt,Yt){at?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),at.port1.start(),S=setTimeout(function(){Yt(Error("unsupported_event"))},Le),b=function(ti){ti.data.eventId===v&&(ti.data.status==="ack"?(clearTimeout(S),U=setTimeout(function(){Yt(Error("timeout"))},3e3)):ti.data.status==="done"?(clearTimeout(U),typeof ti.data.response<"u"?rt(ti.data.response):Yt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(U),Yt(Error("invalid_response"))))},X={messageChannel:at,onMessage:b},i.a.push(X),at.port1.addEventListener("message",b),i.c.postMessage({eventType:a,eventId:v,data:w},[at.port2])):Yt(Error("connection_unavailable"))}).then(function(rt){return Pp(i,X),rt}).o(function(rt){throw Pp(i,X),rt})}function Pp(i,a){if(a){var c=a.messageChannel,d=a.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),q(i.a,function(v){return v==a})}}Mw.prototype.close=function(){for(;0<this.a.length;)Pp(this,this.a[0]);this.b=!0};function Vw(){if(!Mp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;gr()&&self?(this.v=IO(),Dw(this.v,"keyChanged",function(a,c){return Bw(i).then(function(d){return 0<d.length&&K(i.a,function(v){v(d)}),{keyProcessed:R(d,c.key)}})}),Dw(this.v,"ping",function(){return Te(["keyChanged"])})):VC().then(function(a){(i.h=a)&&(i.g=new Mw(new Lw(a)),Fw(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Dp;function TO(i){return new Xe(function(a,c){var d=i.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){a()},d.onerror=function(v){c(Error(v.target.error))}})}function Uw(i){return new Xe(function(a,c){var d=i.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?a(v):TO(i).then(function(){return Uw(i)}).then(function(w){a(w)}).o(function(w){c(w)})}})}function Lp(i){return i.i||(i.i=Uw(i)),i.i}function Sl(i,a){function c(v,w){Lp(i).then(a).then(v).o(function(b){if(3<++d)w(b);else return Lp(i).then(function(S){return S.close(),i.i=void 0,c(v,w)}).o(function(S){w(S)})})}var d=0;return new Xe(c)}function Mp(){try{return!!f.indexedDB}catch{return!1}}function cu(i){return i.objectStore("firebaseLocalStorage")}function lu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Ts(i){return new Xe(function(a,c){i.onsuccess=function(d){d&&d.target?a(d.target.result):a()},i.onerror=function(d){c(d.target.error)}})}e=Vw.prototype,e.set=function(i,a){var c=this,d=!1;return Sl(this,function(v){return v=cu(lu(v,!0)),Ts(v.get(i))}).then(function(v){return Sl(c,function(w){if(w=cu(lu(w,!0)),v)return v.value=a,Ts(w.put(v));c.b++,d=!0;var b={};return b.fbase_key=i,b.value=a,Ts(w.add(b))})}).then(function(){return c.c[i]=a,jw(c,i)}).oa(function(){d&&c.b--})};function jw(i,a){return i.g&&i.h&&FC()===i.h?Fw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Te()}e.get=function(i){return Sl(this,function(a){return Ts(cu(lu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,c=!1;return Sl(this,function(d){return c=!0,a.b++,Ts(cu(lu(d,!0)).delete(i))}).then(function(){return delete a.c[i],jw(a,i)}).oa(function(){c&&a.b--})};function Bw(i){return Lp(i).then(function(a){var c=cu(lu(a,!1));return c.getAll?Ts(c.getAll()):new Xe(function(d,v){var w=[],b=c.openCursor();b.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},b.onerror=function(S){v(S.target.error)}})}).then(function(a){var c={},d=[];if(i.b==0){for(d=0;d<a.length;d++)c[a[d].fbase_key]=a[d].value;d=f0(i.c,c),i.c=c}return d})}e.ca=function(i){this.a.length==0&&SO(this),this.a.push(i)},e.ia=function(i){q(this.a,function(a){return a==i}),this.a.length==0&&qw(this)};function SO(i){function a(){i.f=setTimeout(function(){i.l=Bw(i).then(function(c){0<c.length&&K(i.a,function(d){d(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}qw(i),a()}function qw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function $w(i){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Te().then(function(){if(Mp()){var d=fo(),v="__sak"+d;return Dp||(Dp=new Vw),c=Dp,c.set(v,d).then(function(){return c.get(v)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(d){return a.type=d.type,d.ca(function(v){K(a.a,function(w){w(v)})}),d})}e=$w.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(c){return c.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){q(this.a,function(a){return a==i})};function fu(){this.a={},this.type="inMemory"}e=fu.prototype,e.get=function(i){return Te(this.a[i])},e.set=function(i,a){return this.a[i]=a,Te()},e.U=function(i){return delete this.a[i],Te()},e.ca=function(){},e.ia=function(){};function Al(){if(!AO())throw Pr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Hw()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function Hw(){try{var i=f.localStorage,a=fo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function AO(){var i=Pr()=="Node";if(i=Hw()||i&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Al.prototype,e.get=function(i){var a=this;return Te().then(function(){var c=a.a.getItem(i);return ws(c)})},e.set=function(i,a){var c=this;return Te().then(function(){var d=Ga(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return Te().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&or(f.window,"storage",i)},e.ia=function(i){f.window&&Gn(f.window,"storage",i)};function Fp(){this.type="nullStorage"}e=Fp.prototype,e.get=function(){return Te(null)},e.set=function(){return Te()},e.U=function(){return Te()},e.ca=function(){},e.ia=function(){};function Vp(){if(!kO())throw Pr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Kw()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Kw(){try{var i=f.sessionStorage,a=fo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function kO(){var i=Pr()=="Node";if(i=Kw()||i&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Vp.prototype,e.get=function(i){var a=this;return Te().then(function(){var c=a.a.getItem(i);return ws(c)})},e.set=function(i,a){var c=this;return Te().then(function(){var d=Ga(a);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var a=this;return Te().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function xO(){var i={};i.Browser=CO,i.Node=NO,i.ReactNative=OO,i.Worker=RO,this.a=i[Pr()]}var Up,CO={F:Al,cb:Vp},NO={F:Al,cb:Vp},OO={F:Ow,cb:Fp},RO={F:Al,cb:Fp},Ss={rd:"local",NONE:"none",td:"session"};function PO(i){var a=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(d in Ss)if(Ss[d]==i){var d=!0;break e}d=!1}if(!d||typeof i!="string")throw a;switch(Pr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Mp()&&i!=="none")throw c;break;default:if(!Ud()&&i!=="none")throw c}}function Gw(){var i=!!(!y0(Zt())&&Fd()),a=Ka(),c=Ud();this.m=i,this.h=a,this.l=c,this.a={},Up||(Up=new xO),i=Up;try{this.g=!Ld()&&w0()||!f.indexedDB?new i.a.F:new $w(gr()?new fu:new i.a.F)}catch{this.g=new fu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new fu}this.v=new fu,this.f=V(this.Zb,this),this.b={}}var jp;function hu(){return jp||(jp=new Gw),jp}function wo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function As(i,a){return"firebase:"+i.name+(a?":"+a:"")}function DO(i,a,c){var d=As(a,c),v=wo(i,a.F);return i.get(a,c).then(function(w){var b=null;try{b=ws(f.localStorage.getItem(d))}catch{}if(b&&!w)return f.localStorage.removeItem(d),i.set(a,b,c);b&&w&&v.type!="localStorage"&&f.localStorage.removeItem(d)})}e=Gw.prototype,e.get=function(i,a){return wo(this,i.F).get(As(i,a))};function ks(i,a,c){return c=As(a,c),a.F=="local"&&(i.b[c]=null),wo(i,a.F).U(c)}e.set=function(i,a,c){var d=As(i,c),v=this,w=wo(this,i.F);return w.set(d,a).then(function(){return w.get(d)}).then(function(b){i.F=="local"&&(v.b[d]=b)})},e.addListener=function(i,a,c){i=As(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),$e(this.a)&&(wo(this,"local").ca(this.f),this.h||(Ld()||!w0())&&f.indexedDB||!this.l||LO(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,a,c){i=As(i,a),this.a[i]&&(q(this.a[i],function(d){return d==c}),this.a[i].length==0&&delete this.a[i]),$e(this.a)&&(wo(this,"local").ia(this.f),Bp(this))};function LO(i){Bp(i),i.c=setInterval(function(){for(var a in i.a){var c=f.localStorage.getItem(a),d=i.b[a];c!=d&&(i.b[a]=c,c=new so({type:"storage",key:a,target:window,oldValue:d,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Bp(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var v=f.localStorage.getItem(c);v!==d&&(this.b[c]=v,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?wo(this,"local").ia(this.f):Bp(this),this.m){if(c=f.localStorage.getItem(a),d=i.a.newValue,d!==c)d!==null?f.localStorage.setItem(a,d):f.localStorage.removeItem(a);else if(this.b[a]===d&&typeof i.a.a>"u")return}var w=this;c=function(){(typeof i.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},mr&&gi&&gi==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else K(i,V(this.nb,this))},e.nb=function(i){this.a[i]&&K(this.a[i],function(a){a()})};function MO(i){this.a=i,this.b=hu()}var qp={name:"authEvent",F:"local"};function FO(i){return i.b.get(qp,i.a).then(function(a){return Z0(a)})}function VO(){this.a=hu()}function UO(){this.b=-1}function kl(i,a){this.b=zw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),xl===void 0&&(f.Int32Array?xl=new Int32Array(Yw):xl=Yw),this.reset()}var xl;F(kl,UO);for(var zw=64,jO=zw-1,Ww=[],$p=0;$p<jO;$p++)Ww[$p]=0;var Xw=Y(128,Ww);kl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ie(this.h)};function Hp(i){for(var a=i.f,c=i.l,d=0,v=0;v<a.length;)c[d++]=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3],v=4*d;for(a=16;64>a;a++){v=c[a-15]|0,d=c[a-2]|0;var w=(c[a-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(c[a-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[a]=w+b|0}d=i.a[0]|0,v=i.a[1]|0;var S=i.a[2]|0,U=i.a[3]|0,X=i.a[4]|0,Le=i.a[5]|0,at=i.a[6]|0;for(w=i.a[7]|0,a=0;64>a;a++){var rt=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&S^v&S)|0;b=X&Le^~X&at,w=w+((X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7))|0,b=b+(xl[a]|0)|0,b=w+(b+(c[a]|0)|0)|0,w=at,at=Le,Le=X,X=U+b|0,U=S,S=v,v=d,d=b+rt|0}i.a[0]=i.a[0]+d|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+S|0,i.a[3]=i.a[3]+U|0,i.a[4]=i.a[4]+X|0,i.a[5]=i.a[5]+Le|0,i.a[6]=i.a[6]+at|0,i.a[7]=i.a[7]+w|0}function Kp(i,a,c){c===void 0&&(c=a.length);var d=0,v=i.c;if(typeof a=="string")for(;d<c;)i.f[v++]=a.charCodeAt(d++),v==i.b&&(Hp(i),v=0);else if(_(a))for(;d<c;){var w=a[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[v++]=w,v==i.b&&(Hp(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=c}var Yw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qw(){kl.call(this,8,BO)}F(Qw,kl);var BO=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Jw(i,a,c,d,v,w){this.v=i,this.i=a,this.l=c,this.m=d||null,this.u=v||null,this.s=w,this.h=a+":"+c,this.C=new VO,this.g=new MO(this.h),this.f=null,this.b=[],this.a=this.c=null}function Cl(i){return new k("invalid-cordova-configuration",i)}e=Jw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=DC().then(function(){if(typeof bt("universalLinks.subscribe",f)!="function")throw Cl("cordova-universal-links-plugin-fix is not installed");if(typeof bt("BuildInfo.packageName",f)>"u")throw Cl("cordova-plugin-buildinfo is not installed");if(typeof bt("cordova.plugins.browsertab.openUrl",f)!="function")throw Cl("cordova-plugin-browsertab is not installed");if(typeof bt("cordova.InAppBrowser.open",f)!="function")throw Cl("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function qO(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function $O(i){var a=new Qw;Kp(a,i),i=[];var c=8*a.g;56>a.c?Kp(a,Xw,56-a.c):Kp(a,Xw,a.b-(a.c-56));for(var d=63;56<=d;d--)a.f[d]=c&255,c/=256;for(Hp(a),d=c=0;d<a.i;d++)for(var v=24;0<=v;v-=8)i[c++]=a.a[d]>>v&255;return eN(i)}e.Pb=function(i,a){return a(new k("operation-not-supported-in-this-environment")),Te()},e.Nb=function(){return wt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,c,d){if(this.c)return wt(new k("redirect-operation-pending"));var v=this,w=f.document,b=null,S=null,U=null,X=null;return this.c=Te().then(function(){return ap(a),eb(v)}).then(function(){return HO(v,i,a,c,d)}).then(function(){return new Xe(function(Le,at){S=function(){var rt=bt("cordova.plugins.browsertab.close",f);return Le(),typeof rt=="function"&&rt(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),U=function(){b||(b=ps(2e3).then(function(){at(new k("redirect-cancelled-by-user"))}))},X=function(){jd()&&U()},w.addEventListener("resume",U,!1),Zt().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",X,!1)}).o(function(Le){return Gp(v).then(function(){throw Le})})}).oa(function(){U&&w.removeEventListener("resume",U,!1),X&&w.removeEventListener("visibilitychange",X,!1),b&&b.cancel(),S&&v.Ta(S),v.c=null})};function HO(i,a,c,d,v){var w=qO(),b=new vr(a,d,null,w,new k("no-auth-event"),null,v),S=bt("BuildInfo.packageName",f);if(typeof S!="string")throw new k("invalid-cordova-configuration");var U=bt("BuildInfo.displayName",f),X={};if(Zt().toLowerCase().match(/iphone|ipad|ipod/))X.ibi=S;else if(Zt().toLowerCase().match(/android/))X.apn=S;else return wt(new k("operation-not-supported-in-this-environment"));U&&(X.appDisplayName=U),w=$O(w),X.sessionId=w;var Le=uu(i.v,i.i,i.l,a,c,null,d,i.m,X,i.u,v,i.s);return i.ma().then(function(){var at=i.h;return i.C.a.set(qp,b.w(),at)}).then(function(){var at=bt("cordova.plugins.browsertab.isAvailable",f);if(typeof at!="function")throw new k("invalid-cordova-configuration");var rt=null;at(function(Yt){if(Yt){if(rt=bt("cordova.plugins.browsertab.openUrl",f),typeof rt!="function")throw new k("invalid-cordova-configuration");rt(Le)}else{if(rt=bt("cordova.InAppBrowser.open",f),typeof rt!="function")throw new k("invalid-cordova-configuration");Yt=Zt(),i.a=rt(Le,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Zw(i,a){for(var c=0;c<i.b.length;c++)try{i.b[c](a)}catch{}}function eb(i){return i.f||(i.f=i.ma().then(function(){return new Xe(function(a){function c(d){return a(d),i.Ta(c),!1}i.Ea(c),KO(i)})})),i.f}function Gp(i){var a=null;return FO(i.g).then(function(c){return a=c,c=i.g,ks(c.b,qp,c.a)}).then(function(){return a})}function KO(i){function a(b){d=!0,v&&v.cancel(),Gp(i).then(function(S){var U=c;if(S&&b&&b.url){var X=null;U=K0(b.url),U.indexOf("/__/auth/callback")!=-1&&(X=Pn(U),X=ws(sr(X,"firebaseError")||null),X=(X=typeof X=="object"?Ne(X):null)?new vr(S.c,S.b,null,null,X,null,S.T()):new vr(S.c,S.b,U,S.f,null,null,S.T())),U=X||c}Zw(i,U)})}var c=new vr("unknown",null,null,null,new k("no-auth-event")),d=!1,v=ps(500).then(function(){return Gp(i).then(function(){d||Zw(i,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(bt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:b}),typeof w=="function")try{w(b)}catch(S){console.error(S)}},up||(up=new uN),cN(a)}e.Ea=function(i){this.b.push(i),eb(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new vr("unknown",null,null,null,new k("no-auth-event")),i(a))})},e.Ta=function(i){q(this.b,function(a){return a==i})};function GO(i){this.a=i,this.b=hu()}var zp={name:"pendingRedirect",F:"session"};function zO(i){return i.b.set(zp,"pending",i.a)}function Wp(i){return ks(i.b,zp,i.a)}function WO(i){return i.b.get(zp,i.a).then(function(a){return a=="pending"})}function Nl(i,a,c,d){this.i={},this.u=0,this.D=i,this.v=a,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new Rl,this.C=new lb,this.g=new GO(ab(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=tb(this.D,this.v,this.m,ue,this.J)}function tb(i,a,c,d,v){var w=Ce.SDK_VERSION||null;return Md()?new Jw(i,a,c,w,d,v):new kw(i,a,c,w,d,v)}Nl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=tb(this.D,this.v,this.m,null,this.J),this.i={}};function nb(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(c){throw i.a==a&&i.reset(),c})}function rb(i){i.a.Yb()&&nb(i).o(function(a){var c=new vr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Yp(a)&&i.s(c)}),i.a.Ub()||ub(i.b)}function Ol(i,a){R(i.h,a)||i.h.push(a),i.f||WO(i.g).then(function(c){c?Wp(i.g).then(function(){nb(i).o(function(d){var v=new vr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Yp(d)&&i.s(v)})}):rb(i)}).o(function(){rb(i)})}function Xp(i,a){q(i.h,function(c){return c==a})}Nl.prototype.s=function(i){if(!i)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,d),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return ub(this.b),a};var XO=new _i(2e3,1e4),YO=new _i(3e4,6e4);Nl.prototype.ra=function(){return this.b.ra()};function ib(i,a,c,d,v,w,b){return i.a.Nb(a,c,d,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,w,b)}function Yp(i){return!!(i&&i.code=="auth/cordova-not-ready")}function ob(i,a,c,d,v){var w;return zO(i.g).then(function(){return i.a.Ob(a,c,d,v).o(function(b){if(Yp(b))throw new k("operation-not-supported-in-this-environment");return w=b,Wp(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new Xe(function(){}):Wp(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function sb(i,a,c,d,v){return i.a.Pb(d,function(w){a.na(c,null,w,v)},XO.get())}var Qp={};function ab(i,a,c){return i=i+":"+a,c&&(i=i+":"+c.url),i}function Jp(i,a,c,d){var v=ab(a,c,d);return Qp[v]||(Qp[v]=new Nl(i,a,c,d)),Qp[v]}function Rl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Rl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rl.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var c=i.c,d=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!w),c!="unknown"||v||w?i.a?(bo(this,!0,null,i.a),Te()):a.Fa(c,d)?QO(this,i,a):wt(new k("invalid-auth-event")):(bo(this,!1,null,null),Te())}else wt(new k("invalid-auth-event"))};function ub(i){i.g||(i.g=!0,bo(i,!1,null,null))}function Pl(i){i.g&&!i.i&&bo(i,!1,null,null)}function QO(i,a,c){c=c.Fa(a.c,a.b);var d=a.g,v=a.f,w=a.i,b=a.T(),S=!!a.c.match(/Redirect$/);c(d,v,b,w).then(function(U){bo(i,S,U,null)}).o(function(U){bo(i,S,null,U)})}function JO(i,a){if(i.b=function(){return wt(a)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](a)}function cb(i,a){if(i.b=function(){return Te(a)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](a)}function bo(i,a,c,d){a?d?JO(i,d):cb(i,c):cb(i,{user:null}),i.f=[],i.c=[]}Rl.prototype.ra=function(){var i=this;return new Xe(function(a,c){i.b?i.b().then(a,c):(i.f.push(a),i.c.push(c),ZO(i))})};function ZO(i){var a=new k("timeout");i.a&&i.a.cancel(),i.a=ps(YO.get()).then(function(){i.b||(i.g=!0,bo(i,!0,null,a))})}function lb(){}lb.prototype.h=function(i,a){if(i){var c=i.c,d=i.b;i.a?(a.na(i.c,null,i.a,i.b),Te()):a.Fa(c,d)?eR(i,a):wt(new k("invalid-auth-event"))}else wt(new k("invalid-auth-event"))};function eR(i,a){var c=i.b,d=i.c;a.Fa(d,c)(i.g,i.f,i.T(),i.i).then(function(v){a.na(d,v,null,c)}).o(function(v){a.na(d,null,v,c)})}function fb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function Zp(i,a){this.a=a,ge(this,"verificationId",i)}Zp.prototype.confirm=function(i){return i=J0(this.verificationId,i),this.a(i)};function em(i,a,c,d){return new Zr(i).gb(a,c).then(function(v){return new Zp(v,d)})}function tR(i){var a=F0(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");wn(this,{token:i,expirationTime:za(1e3*a.exp),authTime:za(1e3*a.auth_time),issuedAtTime:za(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function tm(i,a,c){var d=a&&a[db];if(!d)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=De(a),this.g=c,this.c=new ul(null,d),this.b=[];var v=this;K(a[hb]||[],function(w){(w=Gd(w))&&v.b.push(w)}),ge(this,"auth",this.a),ge(this,"session",this.c),ge(this,"hints",this.b)}var hb="mfaInfo",db="mfaPendingCredential";tm.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(c){var d=De(a.f);return delete d[hb],delete d[db],Fe(d,c),a.g(d)})};function nm(i,a,c,d){k.call(this,"multi-factor-auth-required",d,a),this.b=new tm(i,a,c),ge(this,"resolver",this.b)}F(nm,k);function pb(i,a,c){if(i&&I(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new nm(a,i.serverResponse,c,i.message)}catch{}return null}function mb(){}mb.prototype.tb=function(i,a,c){return a.type==Qa?nR(this,i,a,c):rR(this,i,a)};function nR(i,a,c,d){return c.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),Fe(v,{phoneVerificationInfo:Ja(i.a)}),Ye(a,KN,v)})}function rR(i,a,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},Fe(d,{phoneVerificationInfo:Ja(i.a)}),Ye(a,GN,d)})}function rm(i){ge(this,"factorId",i.fa),this.a=i}F(rm,mb);function gb(i){if(rm.call(this,i),this.a.fa!=Zr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}F(gb,rm);function xs(i,a){Rn.call(this,i);for(var c in a)this[c]=a[c]}F(xs,Rn);function im(i,a){this.a=i,this.b=[],this.c=V(this.yc,this),or(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&K(a.multiFactor.enrolledFactors,function(d){var v=null,w={};if(d){d.uid&&(w[Wd]=d.uid),d.displayName&&(w[E0]=d.displayName),d.enrollmentTime&&(w[zd]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[Xd]=d.phoneNumber);try{v=new Wa(w)}catch{}d=v}else d=null;d&&c.push(d)}),Dl(this,c)}function iR(i){var a=[];return K(i.mfaInfo||[],function(c){(c=Gd(c))&&a.push(c)}),a}e=im.prototype,e.yc=function(i){Dl(this,iR(i.hd))};function Dl(i,a){i.b=a,ge(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new ul(i,null)})},e.fc=function(i,a){var c=this,d=this.a.a;return this.Sb().then(function(v){return i.tb(d,v,a)}).then(function(v){return Mr(c.a,v),c.a.reload()})},e.bd=function(i){var a=this,c=typeof i=="string"?i:i.uid,d=this.a.a;return this.a.I().then(function(v){return Ye(d,hO,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var w=le(a.b,function(b){return b.uid!=c});return Dl(a,w),Mr(a.a,v),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Me(this.b,function(i){return i.w()})}}};function om(i,a,c){if(this.h=i,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}om.prototype.start=function(){this.a=this.c,sm(this,!0)};function oR(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function sm(i,a){i.stop(),i.b=ps(oR(i,a)).then(function(){return MC()}).then(function(){return i.h()}).then(function(){sm(i,!0)}).o(function(c){i.i(c)&&sm(i,!1)})}om.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function am(i){this.f=i,this.b=this.a=null,this.c=Date.now()}am.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function vb(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function yb(i,a){i.b=sl(a[_r]||""),i.a=a.refreshToken,a=a.expiresIn,vb(i,typeof a<"u"?Number(a):void 0)}function sR(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function aR(i,a){return CN(i.f,a).then(function(c){return i.b=sl(c.access_token),i.a=c.refresh_token,vb(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}am.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?wt(new k("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?aR(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})};function Ll(i,a){this.a=i||null,this.b=a||null,wn(this,{lastSignInTime:za(a||null),creationTime:za(i||null)})}function uR(i){return new Ll(i.a,i.b)}Ll.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function cR(i,a,c,d,v,w){wn(this,{uid:i,displayName:d||null,photoURL:v||null,email:c||null,phoneNumber:w||null,providerId:a})}function Wn(i,a,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var d=Ce.SDK_VERSION?ys(Ce.SDK_VERSION):null;this.a=new yr(this.l,ze(ue),d),(this.u=i.emulatorConfig||null)&&Il(this.a,this.u),this.h=new am(this.a),pm(this,a[_r]),yb(this.h,a),ge(this,"refreshToken",this.h.a),wb(this,c||{}),_n.call(this),this.P=!1,this.s&&lo()&&(this.b=Jp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=lR(this),this.ba=V(this.ib,this);var v=this;this.za=null,this.Pa=function(w){v.xa(w.h)},this.qa=null,this.Ba=function(w){um(v,w.c)},this.$=null,this.aa=[],this.Oa=function(w){du(v,w.f)},this.ja=null,this.S=new im(this,c),ge(this,"multiFactor",this.S)}F(Wn,_n),Wn.prototype.xa=function(i){this.za=i,pw(this.a,i)};function um(i,a){i.u=a,Il(i.a,a),i.b&&(a=i.b,i.b=Jp(i.s,i.l,i.m,i.u),i.P&&(Xp(a,i),Ol(i.b,i)))}Wn.prototype.la=function(){return this.za};function cm(i,a){i.qa&&Gn(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&or(a,"languageCodeChanged",i.Pa)}function lm(i,a){i.$&&Gn(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&or(a,"emulatorConfigChanged",i.Ba)}function du(i,a){i.aa=a,mw(i.a,Ce.SDK_VERSION?ys(Ce.SDK_VERSION,i.aa):null)}Wn.prototype.Ga=function(){return ie(this.aa)};function fm(i,a){i.ja&&Gn(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&or(a,"frameworkChanged",i.Oa)}Wn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function hm(i){try{return Ce.app(i.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function lR(i){return new om(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function _b(i){i.J||i.D.b||(i.D.start(),Gn(i,"tokenChanged",i.ba),or(i,"tokenChanged",i.ba))}function dm(i){Gn(i,"tokenChanged",i.ba),i.D.stop()}function pm(i,a){i.Aa=a,ge(i,"_lat",a)}function fR(i,a){q(i.W,function(c){return c==a})}function Eo(i){for(var a=[],c=0;c<i.W.length;c++)a.push(i.W[c](i));return F_(a).then(function(){return i})}function pu(i){i.b&&!i.P&&(i.P=!0,Ol(i.b,i))}function wb(i,a){wn(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Ll(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}ge(Wn.prototype,"providerId","firebase");function bb(){}function mm(i){return Te().then(function(){if(i.J)throw new k("app-deleted")})}function gm(i){return Me(i.providerData,function(a){return a.providerId})}function vm(i,a){a&&(Eb(i,a.providerId),i.providerData.push(a))}function Eb(i,a){q(i.providerData,function(c){return c.providerId==a})}function Ei(i,a,c){(a!="uid"||c)&&i.hasOwnProperty(a)&&ge(i,a,c)}function Ml(i,a){i!=a&&(wn(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?ge(i,"metadata",uR(a.metadata)):ge(i,"metadata",new Ll),K(a.providerData,function(c){vm(i,c)}),sR(i.h,a.h),ge(i,"refreshToken",i.h.a),Dl(i.S,a.S.b))}e=Wn.prototype,e.reload=function(){var i=this;return Kt(this,mm(this).then(function(){return ym(i).then(function(){return Eo(i)}).then(bb)}))};function ym(i){return i.I().then(function(a){var c=i.isAnonymous;return hR(i,a).then(function(){return c||Ei(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new tR(a)})},e.I=function(i){var a=this;return Kt(this,mm(this).then(function(){return a.h.getToken(i)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=a.Aa&&(pm(a,c.accessToken),a.dispatchEvent(new xs("tokenChanged"))),Ei(a,"refreshToken",c.refreshToken),c.accessToken}))};function Mr(i,a){a[_r]&&i.Aa!=a[_r]&&(yb(i.h,a),i.dispatchEvent(new xs("tokenChanged")),pm(i,a[_r]),Ei(i,"refreshToken",i.h.a))}function hR(i,a){return Ye(i.a,zN,{idToken:a}).then(V(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new k("internal-error");i=i[0],wb(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=dR(i),c=0;c<a.length;c++)vm(this,a[c]);Ei(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new xs("userReloaded",{hd:i}))};function dR(i){return(i=i.providerUserInfo)&&i.length?Me(i,function(a){return new cR(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return Bd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,c=null;return Kt(this,i.c(this.a,this.uid).then(function(d){return Mr(a,d),c=mu(a,d,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function Fl(i,a){return ym(i).then(function(){if(R(gm(i),a))return Eo(i).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(i){return Bd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,c=null;return Kt(this,Fl(this,i.providerId).then(function(){return a.I()}).then(function(d){return i.b(a.a,d)}).then(function(d){return c=mu(a,d,"link"),Ib(a,d)}).then(function(){return c}))},e.Dc=function(i,a){var c=this;return Kt(this,Fl(this,"phone").then(function(){return em(hm(c),i,a,V(c.rb,c))}))},e.Mc=function(i,a){var c=this;return Kt(this,Te().then(function(){return em(hm(c),i,a,V(c.ub,c))}),!0)};function mu(i,a,c){var d=sp(a);return a=U0(a),Dr({user:i,credential:d,additionalUserInfo:a,operationType:c})}function Ib(i,a){return Mr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return Kt(this,this.I().then(function(c){return a.a.Cb(c,i)}).then(function(c){return Mr(a,c),a.reload()}))},e.ed=function(i){var a=this;return Kt(this,this.I().then(function(c){return i.b(a.a,c)}).then(function(c){return Mr(a,c),a.reload()}))},e.Db=function(i){var a=this;return Kt(this,this.I().then(function(c){return a.a.Db(c,i)}).then(function(c){return Mr(a,c),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return mm(this);var a=this;return Kt(this,this.I().then(function(c){return a.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Mr(a,c),Ei(a,"displayName",c.displayName||null),Ei(a,"photoURL",c.photoUrl||null),K(a.providerData,function(d){d.providerId==="password"&&(ge(d,"displayName",a.displayName),ge(d,"photoURL",a.photoURL))}),Eo(a)}).then(bb))},e.cd=function(i){var a=this;return Kt(this,ym(this).then(function(c){return R(gm(a),i)?MN(a.a,c,[i]).then(function(d){var v={};return K(d.providerUserInfo||[],function(w){v[w.providerId]=!0}),K(gm(a),function(w){v[w]||Eb(a,w)}),v[Zr.PROVIDER_ID]||ge(a,"phoneNumber",null),Eo(a)}):Eo(a).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var i=this;return Kt(this,this.I().then(function(a){return Ye(i.a,BN,{idToken:a})}).then(function(){i.dispatchEvent(new xs("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");cm(i,null),lm(i,null),fm(i,null),i.N=[],i.J=!0,dm(i),ge(i,"refreshToken",null),i.b&&Xp(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,c,d){i!="linkViaPopup"&&i!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?V(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?V(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?V(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?V(this.Mb,this):null},e.Ec=function(i){var a=this;return Tb(this,"linkViaPopup",i,function(){return Fl(a,i.providerId).then(function(){return Eo(a)})},!1)},e.Nc=function(i){return Tb(this,"reauthViaPopup",i,function(){return Te()},!0)};function Tb(i,a,c,d,v){if(!lo())return wt(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return wt(i.i);var w=ep(c.providerId),b=fo(i.uid+":::"),S=null;(!Ka()||Fd())&&i.s&&c.isOAuthProvider&&(S=uu(i.s,i.l,i.m,a,c,null,b,Ce.SDK_VERSION||null,null,null,i.tenantId,i.u));var U=d0(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(Ab(i),!v)return i.I().then(function(){})}).then(function(){return ib(i.b,U,a,c,b,!!S,i.tenantId)}).then(function(){return new Xe(function(X,Le){i.na(a,null,new k("cancelled-popup-request"),i.g||null),i.f=X,i.C=Le,i.g=b,i.c=sb(i.b,i,a,U,b)})}).then(function(X){return U&&co(U),X?Dr(X):null}).o(function(X){throw U&&co(U),X}),Kt(i,d,v)}e.Fc=function(i){var a=this;return Sb(this,"linkViaRedirect",i,function(){return Fl(a,i.providerId)},!1)},e.Oc=function(i){return Sb(this,"reauthViaRedirect",i,function(){return Te()},!0)};function Sb(i,a,c,d,v){if(!lo())return wt(new k("operation-not-supported-in-this-environment"));if(i.i&&!v)return wt(i.i);var w=null,b=fo(i.uid+":::");return d=d().then(function(){if(Ab(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=b,Eo(i)}).then(function(S){return i.ha&&(S=i.ha,S=S.b.set(_m,i.w(),S.a)),S}).then(function(){return ob(i.b,a,c,b,i.tenantId)}).o(function(S){if(w=S,i.ha)return xb(i.ha);throw w}).then(function(){if(w)throw w}),Kt(i,d,v)}function Ab(i){if(!i.b||!i.P)throw i.b&&!i.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(i,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(b){return kp(v.a,{requestUri:i,postBody:d,sessionId:a,idToken:b})}).then(function(b){return w=mu(v,b,"link"),Ib(v,b)}).then(function(){return w}),Kt(this,c)},e.Mb=function(i,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=Te().then(function(){return Es(xp(v.a,{requestUri:i,sessionId:a,postBody:d,tenantId:c}),v.uid)}).then(function(S){return w=mu(v,S,"reauthenticate"),Mr(v,S),v.i=null,v.reload()}).then(function(){return w});return Kt(this,b,!0)},e.vb=function(i){var a=this,c=null;return Kt(this,this.I().then(function(d){return c=d,typeof i>"u"||$e(i)?{}:il(new rl(i))}).then(function(d){return a.a.vb(c,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var c=this,d=null;return Kt(this,this.I().then(function(v){return d=v,typeof a>"u"||$e(a)?{}:il(new rl(a))}).then(function(v){return c.a.Fb(d,i,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Kt(i,a,c){var d=pR(i,a,c);return i.N.push(d),d.oa(function(){B(i.N,d)}),d.o(function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=pb(v.w(),hm(i),V(i.jc,i))),w||v})}e.jc=function(i){var a=null,c=this;return i=Es(Te(i),c.uid).then(function(d){return a=mu(c,d,"reauthenticate"),Mr(c,d),c.i=null,c.reload()}).then(function(){return a}),Kt(this,i,!0)};function pR(i,a,c){return i.i&&!c?(a.cancel(),wt(i.i)):a.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new xs("userInvalidated")),i.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Fe(i,this.metadata.w()),K(this.providerData,function(a){i.providerData.push(UC(a))}),Fe(i,this.S.w()),i};function kb(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[_r]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var d=i.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Wn(a,c,i);return i.providerData&&K(i.providerData,function(w){w&&vm(v,Dr(w))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function mR(i,a,c,d){var v=new Wn(i,a);return c&&(v.ha=c),d&&du(v,d),v.reload().then(function(){return v})}function gR(i,a,c,d){var v=i.h,w={};return w[_r]=v.b&&v.b.toString(),w.refreshToken=v.a,a=new Wn(a||{apiKey:i.l,authDomain:i.s,appName:i.m},w),c&&(a.ha=c),d&&du(a,d),Ml(a,i),a}function vR(i){this.a=i,this.b=hu()}var _m={name:"redirectUser",F:"session"};function xb(i){return ks(i.b,_m,i.a)}function yR(i,a){return i.b.get(_m,i.a).then(function(c){return c&&a&&(c.authDomain=a),kb(c||{})})}function wm(i){this.a=i,this.b=hu(),this.c=null,this.f=_R(this),this.b.addListener(Fr("local"),this.a,V(this.g,this))}wm.prototype.g=function(){var i=this,a=Fr("local");Cs(this,function(){return Te().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(c){if(c)return bm(i,"local").then(function(){i.c=a})})})};function bm(i,a){var c=[],d;for(d in Ss)Ss[d]!==a&&c.push(ks(i.b,Fr(Ss[d]),i.a));return c.push(ks(i.b,Em,i.a)),uC(c)}function _R(i){var a=Fr("local"),c=Fr("session"),d=Fr("none");return DO(i.b,a,i.a).then(function(){return i.b.get(c,i.a)}).then(function(v){return v?c:i.b.get(d,i.a).then(function(w){return w?d:i.b.get(a,i.a).then(function(b){return b?a:i.b.get(Em,i.a).then(function(S){return S?Fr(S):a})})})}).then(function(v){return i.c=v,bm(i,v.F)}).o(function(){i.c||(i.c=a)})}var Em={name:"persistence",F:"session"};function Fr(i){return{name:"authUser",F:i}}wm.prototype.yb=function(i){var a=null,c=this;return PO(i),Cs(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(d){return a=d,bm(c,i)}).then(function(){if(c.c=Fr(i),a)return c.b.set(c.c,a,c.a)}):Te()})};function wR(i){return Cs(i,function(){return i.b.set(Em,i.c.F,i.a)})}function Cb(i,a){return Cs(i,function(){return i.b.set(i.c,a.w(),i.a)})}function Nb(i){return Cs(i,function(){return ks(i.b,i.c,i.a)})}function Ob(i,a,c){return Cs(i,function(){return i.b.get(i.c,i.a).then(function(d){return d&&a&&(d.authDomain=a),d&&c&&(d.emulatorConfig=c),kb(d||{})})})}function Cs(i,a){return i.f=i.f.then(a,a),i.f}function wr(i){if(this.l=!1,ge(this,"settings",new fb),ge(this,"app",i),ct(this).options&&ct(this).options.apiKey)i=Ce.SDK_VERSION?ys(Ce.SDK_VERSION):null,this.a=new yr(ct(this).options&&ct(this).options.apiKey,ze(ue),i);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(V(this.Ac,this)),Ns(this,null),this.i=new wm(ct(this).options.apiKey+":"+ct(this).name),this.D=new vR(ct(this).options.apiKey+":"+ct(this).name),this.$=Ct(this,AR(this)),this.h=Ct(this,kR(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,IR(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,_n.call(this),ER(this),this.J=[],this.R=null}F(wr,_n);function Rb(i){Rn.call(this,"languageCodeChanged"),this.h=i}F(Rb,Rn);function Pb(i){Rn.call(this,"emulatorConfigChanged"),this.c=i}F(Pb,Rn);function Db(i){Rn.call(this,"frameworkChanged"),this.f=i}F(Db,Rn),e=wr.prototype,e.yb=function(i){return i=this.i.yb(i),Ct(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,pw(this.a,this.aa),this.dispatchEvent(new Rb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,bR(a),this.R={url:i,ec:a},this.settings.jb=!0,Il(this.a,this.R),this.dispatchEvent(new Pb(this.R))}};function bR(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&el().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),mw(this.a,Ce.SDK_VERSION?ys(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new Db(this.J))},e.Ga=function(){return ie(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function ER(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=Pn(this.R.url);a=Dr({protocol:a.c,host:a.a,port:a.g,options:Dr({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:He(this)&&He(this).w()}};function Im(i){return i.Oa||wt(new k("auth-domain-config-required"))}function IR(i){var a=ct(i).options.authDomain,c=ct(i).options.apiKey;a&&lo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Jp(a,c,ct(i).name,i.R),Ol(i.b,i),He(i)&&pu(He(i)),i.m){pu(i.m);var d=i.m;d.xa(i.la()),cm(d,i),d=i.m,du(d,i.J),fm(d,i),d=i.m,um(d,i.R),lm(d,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,c,d){i=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?V(this.ic,this):null},e.ic=function(i,a,c,d){var v=this,w={requestUri:i,postBody:d,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Io(v,Ap(v.a,w))})},e.Xc=function(i){if(!lo())return wt(new k("operation-not-supported-in-this-environment"));var a=this,c=ep(i.providerId),d=fo(),v=null;(!Ka()||Fd())&&ct(this).options.authDomain&&i.isOAuthProvider&&(v=uu(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",i,null,d,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var w=d0(v,c&&c.va,c&&c.ua);return c=Im(this).then(function(b){return ib(b,w,"signInViaPopup",i,d,!!v,a.T())}).then(function(){return new Xe(function(b,S){a.na("signInViaPopup",null,new k("cancelled-popup-request"),a.g),a.f=b,a.C=S,a.g=d,a.c=sb(a.b,a,"signInViaPopup",w,d)})}).then(function(b){return w&&co(w),b?Dr(b):null}).o(function(b){throw w&&co(w),b}),Ct(this,c)},e.Yc=function(i){if(!lo())return wt(new k("operation-not-supported-in-this-environment"));var a=this,c=Im(this).then(function(){return wR(a.i)}).then(function(){return ob(a.b,"signInViaRedirect",i,void 0,a.T())});return Ct(this,c)};function Lb(i){if(!lo())return wt(new k("operation-not-supported-in-this-environment"));var a=Im(i).then(function(){return i.b.ra()}).then(function(c){return c?Dr(c):null});return Ct(i,a)}e.ra=function(){var i=this;return Lb(this).then(function(a){return i.b&&Pl(i.b.b),a}).o(function(a){throw i.b&&Pl(i.b.b),a})},e.dd=function(i){if(!i)return wt(new k("null-user"));if(this.S!=i.tenantId)return wt(new k("tenant-id-mismatch"));var a=this,c={};c.apiKey=ct(this).options.apiKey,c.authDomain=ct(this).options.authDomain,c.appName=ct(this).name;var d=gR(i,c,a.D,a.Ga());return Ct(this,this.h.then(function(){if(ct(a).options.apiKey!=i.l)return d.reload()}).then(function(){return He(a)&&i.uid==He(a).uid?(Ml(He(a),i),a.da(i)):(Ns(a,d),pu(d),a.da(d))}).then(function(){gu(a)}))};function TR(i,a){var c={};return c.apiKey=ct(i).options.apiKey,c.authDomain=ct(i).options.authDomain,c.appName=ct(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return mR(c,a,i.D,i.Ga())}).then(function(d){return He(i)&&d.uid==He(i).uid?(Ml(He(i),d),i.da(d)):(Ns(i,d),pu(d),i.da(d))}).then(function(){gu(i)})}function Ns(i,a){He(i)&&(fR(He(i),i.Ba),Gn(He(i),"tokenChanged",i.qa),Gn(He(i),"userDeleted",i.za),Gn(He(i),"userInvalidated",i.Aa),dm(He(i))),a&&(a.W.push(i.Ba),or(a,"tokenChanged",i.qa),or(a,"userDeleted",i.za),or(a,"userInvalidated",i.Aa),0<i.u&&_b(a)),ge(i,"currentUser",a),a&&(a.xa(i.la()),cm(a,i),du(a,i.J),fm(a,i),um(a,i.R),lm(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&Pl(i.b.b),He(i)?(Ns(i,null),Nb(i.i).then(function(){gu(i)})):Te()});return Ct(this,a)};function SR(i){var a=yR(i.D,ct(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),xb(i.D)});return Ct(i,a)}function AR(i){var a=ct(i).options.authDomain,c=SR(i).then(function(){return Ob(i.i,a,i.R)}).then(function(d){return d?(d.ha=i.D,i.m&&(i.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return Cb(i.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:Nb(i.i)})):null}).then(function(d){Ns(i,d||null)});return Ct(i,c)}function kR(i){return i.$.then(function(){return Lb(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Fr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return Ob(this.i,ct(this).options.authDomain).then(function(a){if(!i.l){var c;if(c=He(i)&&a){c=He(i).uid;var d=a.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Ml(He(i),a),He(i).I();(He(i)||a)&&(Ns(i,a),a&&(pu(a),a.ha=i.D),i.b&&Ol(i.b,i),gu(i))}})},e.da=function(i){return Cb(this.i,i)},e.mc=function(){gu(this),this.da(He(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Io(i,a){var c=null,d=null;return Ct(i,a.then(function(v){return c=sp(v),d=U0(v),TR(i,v)},function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=pb(v.w(),i,V(i.kc,i))),w||v}).then(function(){return Dr({user:He(i),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Io(a,Te(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(He(a))})},e.Ac=function(i){var a=this;xR(this,function(){i.next(He(a))})},e.Ic=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(He(d)):typeof i.next=="function"&&i.next(He(d))}),this.Pa(i,a,c)},e.Hc=function(i,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof i=="function"?i(He(d)):typeof i.next=="function"&&i.next(He(d))}),this.ib(i,a,c)},e.nc=function(i){var a=this,c=this.h.then(function(){return He(a)?He(a).I(i).then(function(d){return{accessToken:d}}):null});return Ct(this,c)},e.Tc=function(i){var a=this;return this.h.then(function(){return Io(a,Ye(a.a,uO,{token:i}))}).then(function(c){var d=c.user;return Ei(d,"isAnonymous",!1),a.da(d),c})},e.Uc=function(i,a){var c=this;return this.h.then(function(){return Io(c,Ye(c.a,Tw,{email:i,password:a}))})},e.dc=function(i,a){var c=this;return this.h.then(function(){return Io(c,Ye(c.a,UN,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Io(a,i.ka(a.a))})},e.Sc=function(i){return Bd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=He(i);if(a&&a.isAnonymous){var c=Dr({providerId:null,isNewUser:!1});return Dr({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Io(i,i.a.Ab()).then(function(d){var v=d.user;return Ei(v,"isAnonymous",!0),i.da(v),d})})};function ct(i){return i.app}function He(i){return i.currentUser}e.getUid=function(){return He(this)&&He(this).uid||null};function Vl(i){return He(i)&&He(i)._lat||null}function gu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](Vl(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](Vl(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&He(this)&&_b(He(this))},e.Pc=function(i){var a=this;K(this.s,function(c){c==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&He(this)&&dm(He(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Ct(this,this.h.then(function(){a.l||R(a.s,i)&&i(Vl(a))}))},e.removeAuthTokenListener=function(i){q(this.s,function(a){return a==i})};function xR(i,a){i.N.push(a),Ct(i,i.h.then(function(){!i.l&&R(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(Vl(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Fr("local"),i.a,this.ja)),this.b&&(Xp(this.b,this),Pl(this.b.b)),Promise.resolve()};function Ct(i,a){return i.P.push(a),a.oa(function(){B(i.P,a)}),a}e.hc=function(i){return Ct(this,NN(this.a,i))},e.Bc=function(i){return!!op(i)},e.xb=function(i,a){var c=this;return Ct(this,Te().then(function(){var d=new rl(a);if(!d.c)throw new k("argument-error",Jd+" must be true when sending sign in link to email");return il(d)}).then(function(d){return c.a.xb(i,d)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Ct(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Ct(this,this.a.Sa(i).then(function(a){return new BC(a)}))},e.kb=function(i){return Ct(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var c=this;return Ct(this,Te().then(function(){return typeof a>"u"||$e(a)?{}:il(new rl(a))}).then(function(d){return c.a.wb(i,d)}).then(function(){}))},e.Wc=function(i,a){return Ct(this,em(this,i,a,V(this.ab,this)))},e.Vc=function(i,a){var c=this;return Ct(this,Te().then(function(){var d=a||Ha(),v=Q0(i,d);if(d=op(d),!d)throw new k("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(v)}))};function vu(){}vu.prototype.render=function(){},vu.prototype.reset=function(){},vu.prototype.getResponse=function(){},vu.prototype.execute=function(){};function Os(){this.a={},this.b=1e12}var Tm=null;Os.prototype.render=function(i,a){return this.a[this.b.toString()]=new Ul(i,a),this.b++},Os.prototype.reset=function(i){var a=Sm(this,i);i=Mb(i),a&&i&&(a.delete(),delete this.a[i])},Os.prototype.getResponse=function(i){return(i=Sm(this,i))?i.getResponse():null},Os.prototype.execute=function(i){(i=Sm(this,i))&&i.execute()};function Sm(i,a){return(a=Mb(a))&&i.a[a]||null}function Mb(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function Ul(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Fa(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():or(this.f,"click",this.i)}Ul.prototype.getResponse=function(){return Am(this),this.b},Ul.prototype.execute=function(){Am(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=LC();var a=i.c.callback,c=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},Ul.prototype.delete=function(){Am(this),this.g=!0,clearTimeout(this.a),this.a=null,Gn(this.f,"click",this.i)};function Am(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function km(){}ge(km,"FACTOR_ID","phone");function xm(){}xm.prototype.g=function(){return Tm||(Tm=new Os),Te(Tm)},xm.prototype.c=function(){};var Cm=null;function Nm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var CR=new cn(Bc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),NR=new _i(3e4,6e4);Nm.prototype.g=function(i){var a=this;return new Xe(function(c,d){var v=setTimeout(function(){d(new k("network-request-failed"))},NR.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var b=f.grecaptcha.render;f.grecaptcha.render=function(S,U){return S=b(S,U),a.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),d(new k("internal-error"));delete f[a.a]};var w=fd(CR,{onload:a.a,hl:i||""});Te(_p(w)).o(function(){clearTimeout(v),d(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},Nm.prototype.c=function(){this.b--};var Om=null;function Rm(i,a,c,d,v,w,b){if(ge(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(Cm||(Cm=new xm),b=Cm):(Om||(Om=new Nm),b=Om),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Ub])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[OR]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fa(a)||!this.i&&Fa(a).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new yr(i,w||null,v||null),this.u=d||function(){return null};var S=this;this.l=[];var U=this.a[Fb];this.a[Fb]=function(Le){if(jb(S,Le),typeof U=="function")U(Le);else if(typeof U=="string"){var at=bt(U,f);typeof at=="function"&&at(Le)}};var X=this.a[Vb];this.a[Vb]=function(){if(jb(S,null),typeof X=="function")X();else if(typeof X=="string"){var Le=bt(X,f);typeof Le=="function"&&Le()}}}var Fb="callback",Vb="expired-callback",Ub="sitekey",OR="size";function jb(i,a){for(var c=0;c<i.l.length;c++)try{i.l[c](a)}catch{}}function RR(i,a){q(i.l,function(c){return c==a})}function Pm(i,a){return i.h.push(a),a.oa(function(){B(i.h,a)}),a}e=Rm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Pm(this,Te().then(function(){if(tl()&&!gr())return el();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,Ye(i.s,ZN,{})}).then(function(a){i.a[Ub]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){jl(this);var i=this;return Pm(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var c=Fa(a);a=iC("DIV"),c.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){jl(this);var i=this;return Pm(this,this.render().then(function(a){return new Xe(function(c){var d=i.g.getResponse(a);if(d)c(d);else{var v=function(w){w&&(RR(i,v),c(w))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){jl(this),this.c!==null&&this.g.reset(this.c)};function jl(i){if(i.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){jl(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Fa(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function Dm(i,a,c){var d=!1;try{this.b=c||Ce.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var v=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Ce.SDK_VERSION?ys(Ce.SDK_VERSION,w):null,Rm.call(this,c,i,a,function(){try{var b=v.b.auth().la()}catch{b=null}return b},w,ze(ue),d)}F(Dm,Rm);function Bb(i,a,c,d){e:{c=Array.prototype.slice.call(c);for(var v=0,w=!1,b=0;b<a.length;b++)if(a[b].optional)w=!0;else{if(w)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(w=a.length,c.length<v||w<c.length)d="Expected "+(v==w?v==1?"1 argument":v+" arguments":v+"-"+w+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(w=a[v].optional&&c[v]===void 0,!a[v].M(c[v])&&!w){if(a=a[v],0>v||v>=qb.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=qb[v],d=(d?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}d=null}}if(d)throw new k("argument-error",i+" failed: "+d)}var qb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function pe(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function Lm(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function Mt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:I}}function Rs(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function Vr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(c){return c===null}}}function PR(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function DR(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof wr)}}}function LR(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Ce.app.App)}}}function Ii(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!i||a.providerId===i;return!(!a.ka||!c)}}}function $b(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Ps(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Mm(i,a){return I(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function Hb(i){return I(i)&&typeof i.uid=="string"}function Bl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Rt(i,a,c,d){return{name:c||"",K:i.K+" or "+a.K,optional:!!d,M:function(v){return i.M(v)||a.M(v)}}}function Tt(i,a){for(var c in a){var d=a[c].name;i[d]=Gb(d,i[c],a[c].j)}}function Kb(i,a){for(var c in a){var d=a[c].name;d!==c&&Object.defineProperty(i,d,{get:ce(function(v){return this[v]},c),set:ce(function(v,w,b,S){Bb(v,[b],[S],!0),this[w]=S},d,c,a[c].lb),enumerable:!0})}}function Pt(i,a,c,d){i[a]=Gb(a,c,d)}function Gb(i,a,c){function d(){var b=Array.prototype.slice.call(arguments);return Bb(v,c,b),a.apply(this,b)}if(!c)return a;var v=MR(i),w;for(w in a)d[w]=a[w];for(w in a.prototype)d.prototype[w]=a.prototype[w];return d}function MR(i){return i=i.split("."),i[i.length-1]}Tt(wr.prototype,{kb:{name:"applyActionCode",j:[pe("code")]},Sa:{name:"checkActionCode",j:[pe("code")]},ob:{name:"confirmPasswordReset",j:[pe("code"),pe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[pe("email"),pe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[pe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[pe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Rt(Mt(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Rt(Mt(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[pe("email"),Rt(Mt("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[pe("email"),Mt("actionCodeSettings")]},yb:{name:"setPersistence",j:[pe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ii()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ii()]},Tc:{name:"signInWithCustomToken",j:[pe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[pe("email"),pe("password")]},Vc:{name:"signInWithEmailLink",j:[pe("email"),pe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[pe("phoneNumber"),Bl()]},Xc:{name:"signInWithPopup",j:[Ps()]},Yc:{name:"signInWithRedirect",j:[Ps()]},dd:{name:"updateCurrentUser",j:[Rt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof Wn)}}}(),Vr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[pe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[pe("url"),Mt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[pe("code")]}}),Kb(wr.prototype,{lc:{name:"languageCode",lb:Rt(pe(),Vr(),"languageCode")},ti:{name:"tenantId",lb:Rt(pe(),Vr(),"tenantId")}}),wr.Persistence=Ss,wr.Persistence.LOCAL="local",wr.Persistence.SESSION="session",wr.Persistence.NONE="none",Tt(Wn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Lm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Lm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ii()]},rb:{name:"linkWithCredential",j:[Ii()]},Dc:{name:"linkWithPhoneNumber",j:[pe("phoneNumber"),Bl()]},Ec:{name:"linkWithPopup",j:[Ps()]},Fc:{name:"linkWithRedirect",j:[Ps()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ii()]},ub:{name:"reauthenticateWithCredential",j:[Ii()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[pe("phoneNumber"),Bl()]},Nc:{name:"reauthenticateWithPopup",j:[Ps()]},Oc:{name:"reauthenticateWithRedirect",j:[Ps()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Rt(Mt("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[pe(null,!0)]},cd:{name:"unlink",j:[pe("provider")]},Cb:{name:"updateEmail",j:[pe("email")]},Db:{name:"updatePassword",j:[pe("password")]},ed:{name:"updatePhoneNumber",j:[Ii("phone")]},Eb:{name:"updateProfile",j:[Mt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[pe("email"),Rt(Mt("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(Os.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(vu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(Xe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Kb(fb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Lm("appVerificationDisabledForTesting")}}),Tt(Zp.prototype,{confirm:{name:"confirm",j:[pe("verificationCode")]}}),Pt(bs,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,c=[oN,sN,aN,iN],d=0;d<c.length;d++)if(a=c[d](i))return a;return null},[Rt(pe(),Mt(),"json")]),Pt(ar,"credential",function(i,a){return new wi(i,a)},[pe("email"),pe("password")]),Tt(wi.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Tt(mo.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(mo,"credential",z0,[Rt(pe(),Mt(),"token")]),Pt(ar,"credentialWithLink",Q0,[pe("email"),pe("emailLink")]),Tt(go.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(go,"credential",W0,[Rt(pe(),Mt(),"token")]),Tt(vo.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(vo,"credential",X0,[Rt(pe(),Rt(Mt(),Vr()),"idToken"),Rt(pe(),Vr(),"accessToken",!0)]),Tt(Is.prototype,{Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(Is,"credential",Y0,[Rt(pe(),Mt(),"token"),pe("secret",!0)]),Tt(zn.prototype,{Ca:{name:"addScope",j:[pe("scope")]},credential:{name:"credential",j:[Rt(pe(),Rt(Mt(),Vr()),"optionsOrIdToken"),Rt(pe(),Vr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Tt(Jr.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Tt(ho.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Pt(Zr,"credential",J0,[pe("verificationId"),pe("verificationCode")]),Tt(Zr.prototype,{gb:{name:"verifyPhoneNumber",j:[Rt(pe(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?Mm(c.session,Qa)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Mm(c.session,cl)&&Hb(c.multiFactorHint):c.session&&c.multiFactorUid?Mm(c.session,cl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Bl()]}}),Tt(bi.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Tt(k.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Tt(Za.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Tt(cp.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Tt(nm.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Tt(tm.prototype,{Rc:{name:"resolveSignIn",j:[$b()]}}),Tt(im.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[$b(),pe("displayName",!0)]},bd:{name:"unenroll",j:[Rt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Hb},pe(),"multiFactorInfoIdentifier")]}}),Tt(Dm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Pt(Qd,"parseLink",C0,[pe("link")]),Pt(km,"assertion",function(i){return new gb(i)},[Ii("phone")]),function(){if(typeof Ce<"u"&&Ce.INTERNAL&&Ce.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Yd,VERIFY_AND_CHANGE_EMAIL:Xa,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wr,AuthCredential:bs,Error:k};Pt(i,"EmailAuthProvider",ar,[]),Pt(i,"FacebookAuthProvider",mo,[]),Pt(i,"GithubAuthProvider",go,[]),Pt(i,"GoogleAuthProvider",vo,[]),Pt(i,"TwitterAuthProvider",Is,[]),Pt(i,"OAuthProvider",zn,[pe("providerId")]),Pt(i,"SAMLAuthProvider",G0,[pe("providerId")]),Pt(i,"PhoneAuthProvider",Zr,[DR()]),Pt(i,"RecaptchaVerifier",Dm,[Rt(pe(),PR(),"recaptchaContainer"),Mt("recaptchaParameters",!0),LR()]),Pt(i,"ActionCodeURL",Qd,[]),Pt(i,"PhoneMultiFactorGenerator",km,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new wr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:V(a.getUid,a),getToken:V(a.nc,a),addAuthTokenListener:V(a.cc,a),removeAuthTokenListener:V(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:Wn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pg=function(e,t){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Pg(e,t)};function bM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function i1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var EM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,Hv=Hv||{},Ve=EM||self;function Cf(){}function Dg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function wc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function IM(e){return Object.prototype.hasOwnProperty.call(e,zm)&&e[zm]||(e[zm]=++TM)}var zm="closure_uid_"+(1e9*Math.random()>>>0),TM=0;function SM(e,t,n){return e.call.apply(e.bind,arguments)}function AM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function on(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?on=SM:on=AM,on.apply(null,arguments)}function Xl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function an(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(r,u)}}function Qi(){this.s=this.s,this.o=this.o}var kM=0;Qi.prototype.s=!1;Qi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),kM!=0)&&IM(this)};Qi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var o1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},s1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function xM(e){e:{for(var t=_F,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function FE(e){return Array.prototype.concat.apply([],arguments)}function Kv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nf(e){return/^[\s\xa0]*$/.test(e)}var VE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function An(e,t){return e.indexOf(t)!=-1}function Wm(e,t){return e<t?-1:e>t?1:0}var kn;e:{var UE=Ve.navigator;if(UE){var jE=UE.userAgent;if(jE){kn=jE;break e}}kn=""}function Gv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function a1(e){var t={};for(var n in e)t[n]=e[n];return t}var BE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u1(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<BE.length;s++)n=BE[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zv(e){return zv[" "](e),e}zv[" "]=Cf;function CM(e){var t=RM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var NM=An(kn,"Opera"),ia=An(kn,"Trident")||An(kn,"MSIE"),c1=An(kn,"Edge"),Lg=c1||ia,l1=An(kn,"Gecko")&&!(An(kn.toLowerCase(),"webkit")&&!An(kn,"Edge"))&&!(An(kn,"Trident")||An(kn,"MSIE"))&&!An(kn,"Edge"),OM=An(kn.toLowerCase(),"webkit")&&!An(kn,"Edge");function f1(){var e=Ve.document;return e?e.documentMode:void 0}var Of;e:{var Xm="",Ym=function(){var e=kn;if(l1)return/rv:([^\);]+)(\)|;)/.exec(e);if(c1)return/Edge\/([\d\.]+)/.exec(e);if(ia)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(OM)return/WebKit\/(\S+)/.exec(e);if(NM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ym&&(Xm=Ym?Ym[1]:""),ia){var Qm=f1();if(Qm!=null&&Qm>parseFloat(Xm)){Of=String(Qm);break e}}Of=Xm}var RM={};function PM(){return CM(function(){for(var e=0,t=VE(String(Of)).split("."),n=VE("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Wm(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Wm(s[2].length==0,u[2].length==0)||Wm(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Mg;if(Ve.document&&ia){var qE=f1();Mg=qE||parseInt(Of,10)||void 0}else Mg=void 0;var DM=Mg,LM=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ve.addEventListener("test",Cf,t),Ve.removeEventListener("test",Cf,t)}catch{}return e}();function gn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gn.prototype.h=function(){this.defaultPrevented=!0};function Qu(e,t){if(gn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(l1){e:{try{zv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:MM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qu.Z.h.call(this)}}an(Qu,gn);var MM={2:"touch",3:"pen",4:"mouse"};Qu.prototype.h=function(){Qu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),FM=0;function VM(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++FM,this.ca=this.fa=!1}function Ah(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kh(e){this.src=e,this.g={},this.h=0}kh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=Vg(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new VM(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Fg(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=o1(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Ah(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Vg(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Wv="closure_lm_"+(1e6*Math.random()|0),Jm={};function h1(e,t,n,r,o){if(r&&r.once)return p1(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)h1(e,t[s],n,r,o);return null}return n=Qv(n),e&&e[bc]?e.N(t,n,wc(r)?!!r.capture:!!r,o):d1(e,t,n,!1,r,o)}function d1(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=wc(o)?!!o.capture:!!o,l=Yv(e);if(l||(e[Wv]=l=new kh(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=UM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)LM||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(g1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UM(){function e(n){return t.call(e.src,e.listener,n)}var t=jM;return e}function p1(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)p1(e,t[s],n,r,o);return null}return n=Qv(n),e&&e[bc]?e.O(t,n,wc(r)?!!r.capture:!!r,o):d1(e,t,n,!0,r,o)}function m1(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)m1(e,t[s],n,r,o);else r=wc(r)?!!r.capture:!!r,n=Qv(n),e&&e[bc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Vg(s,n,r,o),-1<n&&(Ah(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Yv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vg(t,n,r,o)),(n=-1<e?t[e]:null)&&Xv(n))}function Xv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[bc])Fg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(g1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Yv(t))?(Fg(n,e),n.h==0&&(n.src=null,t[Wv]=null)):Ah(e)}}}function g1(e){return e in Jm?Jm[e]:Jm[e]="on"+e}function jM(e,t){if(e.ca)e=!0;else{t=new Qu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Xv(e),e=n.call(r,t)}return e}function Yv(e){return e=e[Wv],e instanceof kh?e:null}var Zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(e){return typeof e=="function"?e:(e[Zm]||(e[Zm]=function(t){return e.handleEvent(t)}),e[Zm])}function Jt(){Qi.call(this),this.i=new kh(this),this.P=this,this.I=null}an(Jt,Qi);Jt.prototype[bc]=!0;Jt.prototype.removeEventListener=function(e,t,n,r){m1(this,e,t,n,r)};function sn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new gn(t,e);else if(t instanceof gn)t.target=t.target||e;else{var o=t;t=new gn(r,e),u1(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Yl(u,r,!0,t)&&o}if(u=t.g=e,o=Yl(u,r,!0,t)&&o,o=Yl(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Yl(u,r,!1,t)&&o}Jt.prototype.M=function(){if(Jt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ah(n[r]);delete e.g[t],e.h--}}this.I=null};Jt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Jt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Yl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&Fg(e.i,u),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var Jv=Ve.JSON.stringify;function BM(){var e=y1,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=v1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),v1=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new $M},function(e){return e.reset()}),$M=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function HM(e){Ve.setTimeout(function(){throw e},0)}function Zv(e,t){Ug||KM(),jg||(Ug(),jg=!0),y1.add(e,t)}var Ug;function KM(){var e=Ve.Promise.resolve(void 0);Ug=function(){e.then(GM)}}var jg=!1,y1=new qM;function GM(){for(var e;e=BM();){try{e.h.call(e.g)}catch(n){HM(n)}var t=v1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jg=!1}function xh(e,t){Jt.call(this),this.h=e||1,this.g=t||Ve,this.j=on(this.kb,this),this.l=Date.now()}an(xh,Jt);he=xh.prototype;he.da=!1;he.S=null;he.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sn(this,"tick"),this.da&&(ey(this),this.start()))}};he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ey(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}he.M=function(){xh.Z.M.call(this),ey(this),delete this.g};function ty(e,t,n){if(typeof e=="function")n&&(e=on(e,n));else if(e&&typeof e.handleEvent=="function")e=on(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ve.setTimeout(e,t||0)}function _1(e){e.g=ty(function(){e.g=null,e.i&&(e.i=!1,_1(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var zM=function(e){bM(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:_1(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Qi);function Ju(e){Qi.call(this),this.h=e,this.g={}}an(Ju,Qi);var $E=[];function w1(e,t,n,r){Array.isArray(n)||(n&&($E[0]=n.toString()),n=$E);for(var o=0;o<n.length;o++){var s=h1(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function b1(e){Gv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Xv(t)},e),e.g={}}Ju.prototype.M=function(){Ju.Z.M.call(this),b1(this)};Ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ch(){this.g=!0}Ch.prototype.Aa=function(){this.g=!1};function WM(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var g=p[0];p=p[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+p+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function XM(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function Hs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+QM(e,n)+(r?" "+r:"")})}function YM(e,t){e.info(function(){return"TIMEOUT: "+t})}Ch.prototype.info=function(){};function QM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return Jv(n)}catch{return t}}var rs={},HE=null;function Nh(){return HE=HE||new Jt}rs.Ma="serverreachability";function E1(e){gn.call(this,rs.Ma,e)}an(E1,gn);function Zu(e){var t=Nh();sn(t,new E1(t))}rs.STAT_EVENT="statevent";function I1(e,t){gn.call(this,rs.STAT_EVENT,e),this.stat=t}an(I1,gn);function xn(e){var t=Nh();sn(t,new I1(t,e))}rs.Na="timingevent";function T1(e,t){gn.call(this,rs.Na,e),this.size=t}an(T1,gn);function Ec(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){e()},t)}var Oh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},S1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ny(){}ny.prototype.h=null;function KE(e){return e.h||(e.h=e.i())}function A1(){}var Ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ry(){gn.call(this,"d")}an(ry,gn);function iy(){gn.call(this,"c")}an(iy,gn);var Bg;function Rh(){}an(Rh,ny);Rh.prototype.g=function(){return new XMLHttpRequest};Rh.prototype.i=function(){return{}};Bg=new Rh;function Tc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ju(this),this.P=JM,e=Lg?125:void 0,this.W=new xh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new k1}function k1(){this.i=null,this.g="",this.h=!1}var JM=45e3,qg={},Rf={};he=Tc.prototype;he.setTimeout=function(e){this.P=e};function $g(e,t,n){e.K=1,e.v=Dh(hi(t)),e.s=n,e.U=!0,x1(e,null)}function x1(e,t){e.F=Date.now(),Sc(e),e.A=hi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),L1(n.h,"t",r),e.C=0,n=e.l.H,e.h=new k1,e.g=tA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new zM(on(e.Ia,e,e.g),e.O)),w1(e.V,e.g,"readystatechange",e.gb),t=e.H?a1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Zu(),WM(e.j,e.u,e.A,e.m,e.X,e.s)}he.gb=function(e){e=e.target;var t=this.L;t&&ii(e)==3?t.l():this.Ia(e)};he.Ia=function(e){try{if(e==this.g)e:{var t=ii(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Lg||this.g&&(this.h.h||this.g.ga()||XE(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Zu(3):Zu(2)),Ph(this);var o=this.g.ba();this.N=o;t:if(C1(this)){var s=XE(this.g);e="";var u=s.length,l=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mo(this),Du(this);var f="";break t}this.h.i=new Ve.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,XM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nf(p)){var h=p;break t}}h=null}if(o=h)Hs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hg(this,o);else{this.i=!1,this.o=3,xn(12),Mo(this),Du(this);break e}}this.U?(N1(this,t,f),Lg&&this.i&&t==3&&(w1(this.V,this.W,"tick",this.fb),this.W.start())):(Hs(this.j,this.m,f,null),Hg(this,f)),t==4&&Mo(this),this.i&&!this.I&&(t==4?Q1(this.l,this):(this.i=!1,Sc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,xn(12)):(this.o=0,xn(13)),Mo(this),Du(this)}}}catch{}finally{}};function C1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function N1(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=ZM(e,n),o==Rf){t==4&&(e.o=4,xn(14),r=!1),Hs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==qg){e.o=4,xn(15),Hs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Hs(e.j,e.m,o,null),Hg(e,o);C1(e)&&o!=Rf&&o!=qg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,xn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dy(t),t.L=!0,xn(11))):(Hs(e.j,e.m,n,"[Invalid Chunked Response]"),Mo(e),Du(e))}he.fb=function(){if(this.g){var e=ii(this.g),t=this.g.ga();this.C<t.length&&(Ph(this),N1(this,e,t),this.i&&e!=4&&Sc(this))}};function ZM(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Rf:(n=Number(t.substring(n,r)),isNaN(n)?qg:(r+=1,r+n>t.length?Rf:(t=t.substr(r,n),e.C=r+n,t)))}he.cancel=function(){this.I=!0,Mo(this)};function Sc(e){e.Y=Date.now()+e.P,O1(e,e.P)}function O1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ec(on(e.eb,e),t)}function Ph(e){e.B&&(Ve.clearTimeout(e.B),e.B=null)}he.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(YM(this.j,this.A),this.K!=2&&(Zu(),xn(17)),Mo(this),this.o=2,Du(this)):O1(this,this.Y-e)};function Du(e){e.l.G==0||e.I||Q1(e.l,e)}function Mo(e){Ph(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,ey(e.W),b1(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Hg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Kg(n.i,e))){if(n.I=e.N,!e.J&&Kg(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Mf(n),Fh(n);else break e;hy(n),xn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ec(on(n.ab,n),6e3));if(1>=V1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Fo(n,11)}else if((e.J||n.g==e)&&Mf(n),!Nf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var p=e.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(An(g,"spdy")||An(g,"quic")||An(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ay(h,h.h),h.h=null))}if(r.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,It(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=eA(r,r.H?r.la:null,r.W),y.J){U1(r.i,y);var _=y,E=r.K;E&&_.setTimeout(E),_.B&&(Ph(_),Sc(_)),r.g=y}else X1(r);0<n.l.length&&Vh(n)}else s[0]!="stop"&&s[0]!="close"||Fo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Fo(n,7):fy(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Zu(4)}catch{}}function eF(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Dg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function oy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Dg(e)||typeof e=="string")s1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Dg(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=eF(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Aa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Aa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}he=Aa.prototype;he.R=function(){sy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};he.T=function(){return sy(this),this.g.concat()};function sy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],Yo(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}he.get=function(e,t){return Yo(this.h,e)?this.h[e]:t};he.set=function(e,t){Yo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};he.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Yo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tF(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Qo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qo){this.g=t!==void 0?t:e.g,Pf(this,e.j),this.s=e.s,Df(this,e.i),Lf(this,e.m),this.l=e.l,t=e.h;var n=new ec;n.i=t.i,t.g&&(n.g=new Aa(t.g),n.h=t.h),GE(this,n),this.o=e.o}else e&&(n=String(e).match(R1))?(this.g=!!t,Pf(this,n[1]||"",!0),this.s=Lu(n[2]||""),Df(this,n[3]||"",!0),Lf(this,n[4]),this.l=Lu(n[5]||"",!0),GE(this,n[6]||"",!0),this.o=Lu(n[7]||"")):(this.g=!!t,this.h=new ec(null,this.g))}Qo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xu(t,zE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(xu(t,zE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(xu(n,n.charAt(0)=="/"?sF:oF,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xu(n,uF)),e.join("")};function hi(e){return new Qo(e)}function Pf(e,t,n){e.j=n?Lu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Df(e,t,n){e.i=n?Lu(t,!0):t}function Lf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function GE(e,t,n){t instanceof ec?(e.h=t,cF(e.h,e.g)):(n||(t=xu(t,aF)),e.h=new ec(t,e.g))}function It(e,t,n){e.h.set(t,n)}function Dh(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nF(e){return e instanceof Qo?hi(e):new Qo(e,void 0)}function rF(e,t,n,r){var o=new Qo(null,void 0);return e&&Pf(o,e),t&&Df(o,t),n&&Lf(o,n),r&&(o.l=r),o}function Lu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,iF),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function iF(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var zE=/[#\/\?@]/g,oF=/[#\?:]/g,sF=/[#\?]/g,aF=/[#\?@]/g,uF=/#/g;function ec(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ji(e){e.g||(e.g=new Aa,e.h=0,e.i&&tF(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}he=ec.prototype;he.add=function(e,t){Ji(this),this.i=null,e=ka(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function P1(e,t){Ji(e),t=ka(e,t),Yo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Yo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&sy(e)))}function D1(e,t){return Ji(e),t=ka(e,t),Yo(e.g.h,t)}he.forEach=function(e,t){Ji(this),this.g.forEach(function(n,r){s1(n,function(o){e.call(t,o,r,this)},this)},this)};he.T=function(){Ji(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};he.R=function(e){Ji(this);var t=[];if(typeof e=="string")D1(this,e)&&(t=FE(t,this.g.get(ka(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=FE(t,e[n])}return t};he.set=function(e,t){return Ji(this),this.i=null,e=ka(this,e),D1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};he.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function L1(e,t,n){P1(e,t),0<n.length&&(e.i=null,e.g.set(ka(e,t),Kv(n)),e.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function ka(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function cF(e,t){t&&!e.j&&(Ji(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(P1(this,r),L1(this,o,n))},e)),e.j=t}var lF=function(){function e(t,n){this.h=t,this.g=n}return e}();function M1(e){this.l=e||fF,Ve.PerformanceNavigationTiming?(e=Ve.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ve.g&&Ve.g.Ea&&Ve.g.Ea()&&Ve.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fF=10;function F1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function V1(e){return e.h?1:e.g?e.g.size:0}function Kg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ay(e,t){e.g?e.g.add(t):e.h=t}function U1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}M1.prototype.cancel=function(){var e,t;if(this.i=j1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=i1(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function j1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=i1(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Kv(e.i)}function uy(){}uy.prototype.stringify=function(e){return Ve.JSON.stringify(e,void 0)};uy.prototype.parse=function(e){return Ve.JSON.parse(e,void 0)};function hF(){this.g=new uy}function dF(e,t,n){var r=n||"";try{oy(e,function(o,s){var u=o;wc(o)&&(u=Jv(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function pF(e,t){var n=new Ch;if(Ve.Image){var r=new Image;r.onload=Xl(Ql,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xl(Ql,n,r,"TestLoadImage: error",!1,t),r.onabort=Xl(Ql,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xl(Ql,n,r,"TestLoadImage: timeout",!1,t),Ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ql(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Ac(e){this.l=e.$b||null,this.j=e.ib||!1}an(Ac,ny);Ac.prototype.g=function(){return new Lh(this.l,this.j)};Ac.prototype.i=function(e){return function(){return e}}({});function Lh(e,t){Jt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=cy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an(Lh,Jt);var cy=0;he=Lh.prototype;he.open=function(e,t){if(this.readyState!=cy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tc(this)};he.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ve).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=cy};he.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ve.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function B1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}he.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kc(this):tc(this),this.readyState==3&&B1(this)}};he.Ua=function(e){this.g&&(this.response=this.responseText=e,kc(this))};he.Ta=function(e){this.g&&(this.response=e,kc(this))};he.ha=function(){this.g&&kc(this)};function kc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tc(e)}he.setRequestHeader=function(e,t){this.v.append(e,t)};he.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function tc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var mF=Ve.JSON.parse;function qt(e){Jt.call(this),this.headers=new Aa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=q1,this.K=this.L=!1}an(qt,Jt);var q1="",gF=/^https?$/i,vF=["POST","PUT"];he=qt.prototype;he.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bg.g(),this.C=this.u?KE(this.u):KE(Bg),this.g.onreadystatechange=on(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){WE(this,s);return}e=n||"";var o=new Aa(this.headers);r&&oy(r,function(s,u){o.set(u,s)}),r=xM(o.T()),n=Ve.FormData&&e instanceof Ve.FormData,!(0<=o1(vF,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{K1(this),0<this.B&&((this.K=yF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.pa,this)):this.A=ty(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){WE(this,s)}};function yF(e){return ia&&PM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function _F(e){return e.toLowerCase()=="content-type"}he.pa=function(){typeof Hv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))};function WE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$1(e),Mh(e)}function $1(e){e.D||(e.D=!0,sn(e,"complete"),sn(e,"error"))}he.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,sn(this,"complete"),sn(this,"abort"),Mh(this))};he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mh(this,!0)),qt.Z.M.call(this)};he.Fa=function(){this.s||(this.F||this.v||this.l?H1(this):this.cb())};he.cb=function(){H1(this)};function H1(e){if(e.h&&typeof Hv<"u"&&(!e.C[1]||ii(e)!=4||e.ba()!=2)){if(e.v&&ii(e)==4)ty(e.Fa,0,e);else if(sn(e,"readystatechange"),ii(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(R1)[1]||null;if(!s&&Ve.self&&Ve.self.location){var u=Ve.self.location.protocol;s=u.substr(0,u.length-1)}o=!gF.test(s?s.toLowerCase():"")}r=o}if(r)sn(e,"complete"),sn(e,"success");else{e.m=6;try{var l=2<ii(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",$1(e)}}finally{Mh(e)}}}}function Mh(e,t){if(e.g){K1(e);var n=e.g,r=e.C[0]?Cf:null;e.g=null,e.C=null,t||sn(e,"ready");try{n.onreadystatechange=r}catch{}}}function K1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ve.clearTimeout(e.A),e.A=null)}function ii(e){return e.g?e.g.readyState:0}he.ba=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}};he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),mF(t)}};function XE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case q1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}he.Da=function(){return this.m};he.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function wF(e){var t="";return Gv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ly(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wF(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function wu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function G1(e){this.za=0,this.l=[],this.h=new Ch,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wu("baseRetryDelayMs",5e3,e),this.$a=wu("retryDelaySeedMs",1e4,e),this.Ya=wu("forwardChannelMaxRetries",2,e),this.ra=wu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new M1(e&&e.concurrentRequestLimit),this.Ca=new hF,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}he=G1.prototype;he.ma=8;he.G=1;function fy(e){if(z1(e),e.G==3){var t=e.V++,n=hi(e.F);It(n,"SID",e.J),It(n,"RID",t),It(n,"TYPE","terminate"),xc(e,n),t=new Tc(e,e.h,t,void 0),t.K=2,t.v=Dh(hi(n)),n=!1,Ve.navigator&&Ve.navigator.sendBeacon&&(n=Ve.navigator.sendBeacon(t.v.toString(),"")),!n&&Ve.Image&&(new Image().src=t.v,n=!0),n||(t.g=tA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Sc(t)}Z1(e)}he.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Fh(e){e.g&&(dy(e),e.g.cancel(),e.g=null)}function z1(e){Fh(e),e.u&&(Ve.clearTimeout(e.u),e.u=null),Mf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ve.clearTimeout(e.m),e.m=null)}function eg(e,t){e.l.push(new lF(e.Za++,t)),e.G==3&&Vh(e)}function Vh(e){F1(e.i)||e.m||(e.m=!0,Zv(e.Ha,e),e.C=0)}function bF(e,t){return V1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ec(on(e.Ha,e,t),J1(e,e.C)),e.C++,!0)}he.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Tc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=a1(n),u1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=W1(this,t,r),o=hi(this.F),It(o,"RID",e),It(o,"CVER",22),this.D&&It(o,"X-HTTP-Session-Id",this.D),xc(this,o),this.o&&n&&ly(o,this.o,n),ay(this.i,t),this.Ra&&It(o,"TYPE","init"),this.ja?(It(o,"$req",r),It(o,"SID","null"),t.$=!0,$g(t,o,null)):$g(t,o,r),this.G=2}}else this.G==3&&(e?YE(this,e):this.l.length==0||F1(this.i)||YE(this))};function YE(e,t){var n;t?n=t.m:n=e.V++;var r=hi(e.F);It(r,"SID",e.J),It(r,"RID",n),It(r,"AID",e.U),xc(e,r),e.o&&e.s&&ly(r,e.o,e.s),n=new Tc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=W1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ay(e.i,n),$g(n,r,t)}function xc(e,t){e.j&&oy({},function(n,r){It(t,r,n)})}function W1(e,t,n){n=Math.min(e.l.length,n);var r=e.j?on(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,g=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{dF(g,u,"req"+p+"_")}catch{r&&r(g)}}if(l){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function X1(e){e.g||e.u||(e.Y=1,Zv(e.Ga,e),e.A=0)}function hy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ec(on(e.Ga,e),J1(e,e.A)),e.A++,!0)}he.Ga=function(){if(this.u=null,Y1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ec(on(this.bb,this),e)}};he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xn(10),Fh(this),Y1(this))};function dy(e){e.B!=null&&(Ve.clearTimeout(e.B),e.B=null)}function Y1(e){e.g=new Tc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=hi(e.oa);It(t,"RID","rpc"),It(t,"SID",e.J),It(t,"CI",e.N?"0":"1"),It(t,"AID",e.U),xc(e,t),It(t,"TYPE","xmlhttp"),e.o&&e.s&&ly(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Dh(hi(t)),n.s=null,n.U=!0,x1(n,e)}he.ab=function(){this.v!=null&&(this.v=null,Fh(this),hy(this),xn(19))};function Mf(e){e.v!=null&&(Ve.clearTimeout(e.v),e.v=null)}function Q1(e,t){var n=null;if(e.g==t){Mf(e),dy(e),e.g=null;var r=2}else if(Kg(e.i,t))n=t.D,U1(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Nh(),sn(r,new T1(r,n)),Vh(e)}else X1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&bF(e,t)||r==2&&hy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Fo(e,5);break;case 4:Fo(e,10);break;case 3:Fo(e,6);break;default:Fo(e,2)}}}function J1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Fo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=on(e.jb,e);n||(n=new Qo("//www.google.com/images/cleardot.gif"),Ve.location&&Ve.location.protocol=="http"||Pf(n,"https"),Dh(n)),pF(n.toString(),r)}else xn(2);e.G=0,e.j&&e.j.va(t),Z1(e),z1(e)}he.jb=function(e){e?(this.h.info("Successfully pinged google.com"),xn(2)):(this.h.info("Failed to ping google.com"),xn(1))};function Z1(e){e.G=0,e.I=-1,e.j&&((j1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Kv(e.l),e.l.length=0),e.j.ua())}function eA(e,t,n){var r=nF(n);if(r.i!="")t&&Df(r,t+"."+r.i),Lf(r,r.m);else{var o=Ve.location;r=rF(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Gv(e.aa,function(s,u){It(r,u,s)}),t=e.D,n=e.sa,t&&n&&It(r,t,n),It(r,"VER",e.ma),xc(e,r),r}function tA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new qt(new Ac({ib:!0})):new qt(e.qa),t.L=e.H,t}function nA(){}he=nA.prototype;he.xa=function(){};he.wa=function(){};he.va=function(){};he.ua=function(){};he.Oa=function(){};function Ff(){if(ia&&!(10<=Number(DM)))throw Error("Environmental error: no available transport.")}Ff.prototype.g=function(e,t){return new rr(e,t)};function rr(e,t){Jt.call(this),this.g=new G1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new xa(this)}an(rr,Jt);rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Zv(on(e.hb,e,t))),xn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=eA(e,null,e.W),Vh(e)};rr.prototype.close=function(){fy(this.g)};rr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,eg(this.g,t)}else this.v?(t={},t.__data__=Jv(e),eg(this.g,t)):eg(this.g,e)};rr.prototype.M=function(){this.g.j=null,delete this.j,fy(this.g),delete this.g,rr.Z.M.call(this)};function rA(e){ry.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}an(rA,ry);function iA(){iy.call(this),this.status=1}an(iA,iy);function xa(e){this.g=e}an(xa,nA);xa.prototype.xa=function(){sn(this.g,"a")};xa.prototype.wa=function(e){sn(this.g,new rA(e))};xa.prototype.va=function(e){sn(this.g,new iA)};xa.prototype.ua=function(){sn(this.g,"b")};Ff.prototype.createWebChannel=Ff.prototype.g;rr.prototype.send=rr.prototype.u;rr.prototype.open=rr.prototype.m;rr.prototype.close=rr.prototype.close;Oh.NO_ERROR=0;Oh.TIMEOUT=8;Oh.HTTP_ERROR=6;S1.COMPLETE="complete";A1.EventType=Ic;Ic.OPEN="a";Ic.CLOSE="b";Ic.ERROR="c";Ic.MESSAGE="d";Jt.prototype.listen=Jt.prototype.N;qt.prototype.listenOnce=qt.prototype.O;qt.prototype.getLastError=qt.prototype.La;qt.prototype.getLastErrorCode=qt.prototype.Da;qt.prototype.getStatus=qt.prototype.ba;qt.prototype.getResponseJson=qt.prototype.Qa;qt.prototype.getResponseText=qt.prototype.ga;qt.prototype.send=qt.prototype.ea;var EF=function(){return new Ff},IF=function(){return Nh()},tg=Oh,TF=S1,SF=rs,QE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AF=Ac,Jl=A1,kF=qt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Zn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ae(t,e),t}(Error),kr=new e1("@firebase/firestore");function Gg(){return kr.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=it.DEBUG){var r=t.map(py);kr.debug.apply(kr,Et(["Firestore (8.10.1): "+e],r))}}function jt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=it.ERROR){var r=t.map(py);kr.error.apply(kr,Et(["Firestore (8.10.1): "+e],r))}}function Vf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=it.WARN){var r=t.map(py);kr.warn.apply(kr,Et(["Firestore (8.10.1): "+e],r))}}function py(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw jt(t),new Error(t)}function Pe(e,t){e||we()}function ae(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=xF(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function Qe(e,t){return e<t?-1:e>t?1:0}function oa(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function sA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Qe(this.nanoseconds,t.nanoseconds):Qe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),We=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new jn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function is(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&we(),r===void 0?r=t.length-n:r>t.length-n&&we(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ot=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new Q(M.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(uA),CF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return CF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new Q(M.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new Q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new Q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(uA),sa=function(){function e(t){this.fields=t,t.sort(Nr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return oa(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),qn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Qe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();qn.EMPTY_BYTE_STRING=new qn("");var NF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(e){if(Pe(!!e),typeof e=="string"){var t=0,n=NF.exec(e);if(Pe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Vt(e.seconds),nanos:Vt(e.nanos)}}function Vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function aa(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cA(e){var t=e.mapValue.fields.__previous_value__;return my(t)?cA(t):t}function nc(e){var t=Wi(e.mapValue.fields.__local_write_time__.timestampValue);return new jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e){return e==null}function Uf(e){return e===0&&1/e==-1/0}function lA(e){return typeof e=="number"&&Number.isInteger(e)&&!Uf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ot.fromString(t))},e.fromName=function(t){return new e(ot.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ot.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ot.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ot(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?my(e)?4:10:we()}function Xr(e,t){var n=Jo(e);if(n!==Jo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nc(e).isEqual(nc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=Wi(r.timestampValue),u=Wi(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return aa(r.bytesValue).isEqual(aa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Vt(r.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(r.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Vt(r.integerValue)===Vt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Vt(r.doubleValue),u=Vt(o.doubleValue);return s===u?Uf(s)===Uf(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return oa(e.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(JE(s)!==JE(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!Xr(s[l],u[l])))return!1;return!0}(e,t);default:return we()}}function rc(e,t){return(e.values||[]).find(function(n){return Xr(n,t)})!==void 0}function ua(e,t){var n=Jo(e),r=Jo(t);if(n!==r)return Qe(n,r);switch(n){case 0:return 0;case 1:return Qe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Vt(o.integerValue||o.doubleValue),l=Vt(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return ZE(e.timestampValue,t.timestampValue);case 4:return ZE(nc(e),nc(t));case 5:return Qe(e.stringValue,t.stringValue);case 6:return function(o,s){var u=aa(o),l=aa(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var p=Qe(u[f],l[f]);if(p!==0)return p}return Qe(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=Qe(Vt(o.latitude),Vt(s.latitude));return u!==0?u:Qe(Vt(o.longitude),Vt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var p=ua(u[f],l[f]);if(p)return p}return Qe(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var h=Qe(l[g],p[g]);if(h!==0)return h;var m=ua(u[l[g]],f[p[g]]);if(m!==0)return m}return Qe(l.length,p.length)}(e.mapValue,t.mapValue);default:throw we()}}function ZE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qe(e,t);var n=Wi(e),r=Wi(t),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function gy(e){return zg(e)}function zg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=Wi(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?aa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ee.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:o+=",",o+=zg(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+zg(r.fields[f])}return o+"}"}(e.mapValue):we();var t,n}function jf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Wg(e){return!!e&&"integerValue"in e}function vy(e){return!!e&&"arrayValue"in e}function eI(e){return!!e&&"nullValue"in e}function tI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mf(e){return!!e&&"mapValue"in e}function Mu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return is(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Mu(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mu(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!mf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(n)},e.prototype.setAll=function(t){var n=this,r=Nr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var p=n.getFieldsMap(r);n.applyChanges(p,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Mu(l):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Xr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];mf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){is(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Mu(this.value))},e}();function fA(e){var t=[];return is(e.fields,function(n,r){var o=new Nr([n]);if(mf(r)){var s=fA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new sa(t)}var vn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,We.min(),Jn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Jn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Jn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),OF=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new OF(e,t,n,r,o,s,u)}function Cc(e){var t=ae(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+gy(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),os(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=qf(t.startAt)),t.endAt&&(n+="|ub:",n+=qf(t.endAt)),t.h=n}return t.h}function Uh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!UF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Xr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!iI(e.startAt,t.startAt)&&iI(e.endAt,t.endAt)}function Bf(e){return Ee.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var er=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Ae(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new RF(n,r,o):r==="array-contains"?new LF(n,o):r==="in"?new MF(n,o):r==="not-in"?new FF(n,o):r==="array-contains-any"?new VF(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new PF(n,o):new DF(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ua(r,this.value)):r!==null&&Jo(this.value)===Jo(r)&&this.m(ua(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return we()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),RF=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ee.fromName(o.referenceValue),s}return Ae(t,e),t.prototype.matches=function(n){var r=Ee.comparator(n.key,this.key);return this.m(r)},t}(er),PF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=hA("in",r),o}return Ae(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(er),DF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=hA("not-in",r),o}return Ae(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(er);function hA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ee.fromName(r.referenceValue)})}var LF=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Ae(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return vy(r)&&rc(r.arrayValue,this.value)},t}(er),MF=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Ae(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&rc(this.value.arrayValue,r)},t}(er),FF=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Ae(t,e),t.prototype.matches=function(n){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!rc(this.value.arrayValue,r)},t}(er),VF=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Ae(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!vy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return rc(r.value.arrayValue,s)})},t}(er),ic=function(e,t){this.position=e,this.before=t};function qf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return gy(t)}).join(",")}var Ys=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function UF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function rI(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Ee.comparator(Ee.fromName(u.referenceValue),n.key):ua(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function iI(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi=function(e,t,n,r,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function dA(e,t,n,r,o,s,u,l){return new pi(e,t,n,r,o,s,u,l)}function Nc(e){return new pi(e)}function gf(e){return!os(e.limit)&&e.limitType==="F"}function $f(e){return!os(e.limit)&&e.limitType==="L"}function yy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _y(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function wy(e){return e.collectionGroup!==null}function ca(e){var t=ae(e);if(t.p===null){t.p=[];var n=_y(t),r=yy(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ys(n)),t.p.push(new Ys(Nr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ys(Nr.keyField(),f))}}}return t.p}function Yr(e){var t=ae(e);if(!t.T)if(t.limitType==="F")t.T=nI(t.path,t.collectionGroup,ca(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ca(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Ys(s.field,u))}var l=t.endAt?new ic(t.endAt.position,!t.endAt.before):null,f=t.startAt?new ic(t.startAt.position,!t.startAt.before):null;t.T=nI(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function pA(e,t,n){return new pi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Oc(e,t){return Uh(Yr(e),Yr(t))&&e.limitType===t.limitType}function mA(e){return Cc(Yr(e))+"|lt:"+e.limitType}function Xg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+gy(o.value);var o}).join(", ")+"]"),os(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+qf(t.startAt)),t.endAt&&(n+=", endAt: "+qf(t.endAt)),"Target("+n+")"}(Yr(e))+"; limitType="+e.limitType+")"}function Rc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ee.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!rI(n.startAt,ca(n),r))&&(!n.endAt||!rI(n.endAt,ca(n),r))}(e,t)}function gA(e){return function(t,n){for(var r=!1,o=0,s=ca(e);o<s.length;o++){var u=s[o],l=jF(u,t,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function jF(e,t,n){var r=e.field.isKeyField()?Ee.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?ua(l,f):we()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(t)?"-0":t}}function yA(e){return{integerValue:""+e}}function _A(e,t){return lA(t)?yA(t):vA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh=function(){this._=void 0};function BF(e,t,n){return e instanceof la?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Zo?bA(e,t):e instanceof es?EA(e,t):function(r,o){var s=wA(r,o),u=oI(s)+oI(r.A);return Wg(s)&&Wg(r.A)?yA(u):vA(r.R,u)}(e,t)}function qF(e,t,n){return e instanceof Zo?bA(e,t):e instanceof es?EA(e,t):n}function wA(e,t){return e instanceof fa?Wg(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var la=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t}(jh),Zo=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ae(t,e),t}(jh);function bA(e,t){for(var n=IA(t),r=function(u){n.some(function(l){return Xr(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var es=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ae(t,e),t}(jh);function EA(e,t){for(var n=IA(t),r=function(u){n=n.filter(function(l){return!Xr(l,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var fa=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Ae(t,e),t}(jh);function oI(e){return Vt(e.integerValue||e.doubleValue)}function IA(e){return vy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pc=function(e,t){this.field=e,this.transform=t},$F=function(e,t){this.version=e,this.transformResults=t},mn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function vf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Bh=function(){};function HF(e,t,n){e instanceof Dc?function(r,o,s){var u=r.value.clone(),l=uI(r.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof Zi?function(r,o,s){if(vf(r.precondition,o)){var u=uI(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(TA(r)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Yg(e,t,n){e instanceof Dc?function(r,o,s){if(vf(r.precondition,o)){var u=r.value.clone(),l=cI(r.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(aI(o),u).setHasLocalMutations()}}(e,t,n):e instanceof Zi?function(r,o,s){if(vf(r.precondition,o)){var u=cI(r.fieldTransforms,s,o),l=o.data;l.setAll(TA(r)),l.setAll(u),o.convertToFoundDocument(aI(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){vf(r.precondition,o)&&o.convertToNoDocument(We.min())}(e,t)}function KF(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),l=wA(s.transform,u||null);l!=null&&(n==null&&(n=Jn.empty()),n.set(s.field,l))}return n||null}function sI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&oa(n,r,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,p){return f instanceof Zo&&p instanceof Zo||f instanceof es&&p instanceof es?oa(f.elements,p.elements,Xr):f instanceof fa&&p instanceof fa?Xr(f.A,p.A):f instanceof la&&p instanceof la}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function aI(e){return e.isFoundDocument()?e.version:We.min()}var Dc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Ae(t,e),t}(Bh),Zi=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return Ae(t,e),t}(Bh);function TA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function uI(e,t,n){var r=new Map;Pe(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);r.set(s.field,qF(u,l,n[o]))}return r}function cI(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);r.set(u.field,BF(l,f,t))}return r}var Ft,et,Lc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Ae(t,e),t}(Bh),by=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Ae(t,e),t}(Bh),GF=function(e){this.count=e};function SA(e){switch(e){case M.OK:return we();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return we()}}function AA(e){if(e===void 0)return jt("GRPC error has no .code"),M.UNKNOWN;switch(e){case Ft.OK:return M.OK;case Ft.CANCELLED:return M.CANCELLED;case Ft.UNKNOWN:return M.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return M.INTERNAL;case Ft.UNAVAILABLE:return M.UNAVAILABLE;case Ft.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ft.NOT_FOUND:return M.NOT_FOUND;case Ft.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ft.ABORTED:return M.ABORTED;case Ft.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ft.DATA_LOSS:return M.DATA_LOSS;default:return we()}}(et=Ft||(Ft={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn=function(){function e(t,n){this.comparator=t,this.root=n||Mi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Zl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Zl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Zl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Zl(this.root,t,this.comparator,!0)},e}(),Zl=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Mi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();var t=this.left.check();if(t!==this.right.check())throw we();return t+(this.isRed()?0:1)},e}();Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw we()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Mi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt=function(){function e(t){this.comparator=t,this.data=new yn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new lI(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new lI(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),lI=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),zF=new yn(Ee.comparator);function xr(){return zF}var WF=new yn(Ee.comparator);function Qg(){return WF}var XF=new yn(Ee.comparator);function YF(){return XF}var QF=new Xt(Ee.comparator);function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=QF,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var JF=new Xt(Qe);function qh(){return JF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ey=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Iy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(We.min(),r,qh(),xr(),mt())},e}(),Iy=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(qn.EMPTY_BYTE_STRING,n,mt(),mt(),mt())},e}(),yf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},kA=function(e,t){this.targetId=e,this.V=t},xA=function(e,t,n,r){n===void 0&&(n=qn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},fI=function(){function e(){this.S=0,this.D=dI(),this.C=qn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=mt(),n=mt(),r=mt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we()}}),new Iy(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=dI()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ZF=function(){function e(t){this.W=t,this.G=new Map,this.H=xr(),this.J=hI(),this.Y=new Xt(Qe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:we()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Bf(s))if(r===0){var u=new Ee(s.path);this.tt(n,u,vn.newNoDocument(u,We.min()))}else Pe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&Bf(f.target)){var p=new Ee(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,vn.newNoDocument(p,t))}u.$&&(r.set(l,u.M()),u.L())}});var o=mt();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new Ey(t,r,this.Y,this.H,o);return this.H=xr(),this.J=hI(),this.Y=new Xt(Qe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new fI,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Xt(Qe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new fI),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function hI(){return new yn(Ee.comparator)}function dI(){return new yn(Ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eV={asc:"ASCENDING",desc:"DESCENDING"},tV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nV=function(e,t){this.databaseId=e,this.I=t};function oc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function CA(e,t){return e.I?t.toBase64():t.toUint8Array()}function rV(e,t){return oc(e,t.toTimestamp())}function Cn(e){return Pe(!!e),We.fromTimestamp(function(t){var n=Wi(t);return new jn(n.seconds,n.nanos)}(e))}function Ty(e,t){return function(n){return new ot(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function NA(e){var t=ot.fromString(e);return Pe(FA(t)),t}function sc(e,t){return Ty(e.databaseId,t.path)}function si(e,t){var n=NA(t);if(n.get(1)!==e.databaseId.projectId)throw new Q(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Q(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ee(RA(n))}function Jg(e,t){return Ty(e.databaseId,t)}function OA(e){var t=NA(e);return t.length===4?ot.emptyPath():RA(t)}function ac(e){return new ot(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RA(e){return Pe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function pI(e,t,n){return{name:sc(e,t),fields:n.value.mapValue.fields}}function iV(e,t,n){var r=si(e,t.name),o=Cn(t.updateTime),s=new Jn({mapValue:{fields:t.fields}}),u=vn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Hf(e,t){var n;if(t instanceof Dc)n={update:pI(e,t.key,t.value)};else if(t instanceof Lc)n={delete:sc(e,t.key)};else if(t instanceof Zi)n={update:pI(e,t.key,t.data),updateMask:cV(t.fieldMask)};else{if(!(t instanceof by))return we();n={verify:sc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof la)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Zo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof es)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof fa)return{fieldPath:s.field.canonicalString(),increment:u.A};throw we()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:rV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(e,t.precondition)),n}function mI(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?mn.updateTime(Cn(p.updateTime)):p.exists!==void 0?mn.exists(p.exists):mn.none()}(t.currentDocument):mn.none(),r=t.updateTransforms?t.updateTransforms.map(function(p){return function(g,h){var m=null;if("setToServerValue"in h)Pe(h.setToServerValue==="REQUEST_TIME"),m=new la;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new Zo(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new es(_)}else"increment"in h?m=new fa(g,h.increment):we();var E=Nr.fromServerFormat(h.fieldPath);return new Pc(E,m)}(e,p)}):[];if(t.update){t.update.name;var o=si(e,t.update.name),s=new Jn({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(p){var g=p.fieldPaths||[];return new sa(g.map(function(h){return Nr.fromServerFormat(h)}))}(t.updateMask);return new Zi(o,s,u,n,r)}return new Dc(o,s,n,r)}if(t.delete){var l=si(e,t.delete);return new Lc(l,n)}if(t.verify){var f=si(e,t.verify);return new by(f,n)}return we()}function PA(e,t){return{documents:[Jg(e,t.path)]}}function DA(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Jg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Jg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(g){if(g.op==="=="){if(tI(g.value))return{unaryFilter:{field:Ms(g.field),op:"IS_NAN"}};if(eI(g.value))return{unaryFilter:{field:Ms(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(tI(g.value))return{unaryFilter:{field:Ms(g.field),op:"IS_NOT_NAN"}};if(eI(g.value))return{unaryFilter:{field:Ms(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(g.field),op:sV(g.op),value:g.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Ms(p.field),direction:oV(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||os(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=gI(t.startAt)),t.endAt&&(n.structuredQuery.endAt=gI(t.endAt)),n}function LA(e){var t=OA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Pe(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=MA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new Ys(Ks(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return os(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=vI(n.startAt));var g=null;return n.endAt&&(g=vI(n.endAt)),dA(t,o,l,u,f,"F",p,g)}function MA(e){return e?e.unaryFilter!==void 0?[uV(e)]:e.fieldFilter!==void 0?[aV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return MA(t)}).reduce(function(t,n){return t.concat(n)}):we():[]}function gI(e){return{before:e.before,values:e.position}}function vI(e){var t=!!e.before,n=e.values||[];return new ic(n,t)}function oV(e){return eV[e]}function sV(e){return tV[e]}function Ms(e){return{fieldPath:e.canonicalString()}}function Ks(e){return Nr.fromServerFormat(e.fieldPath)}function aV(e){return er.create(Ks(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return we()}}(e.fieldFilter.op),e.fieldFilter.value)}function uV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ks(e.unaryFilter.field);return er.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ks(e.unaryFilter.field);return er.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ks(e.unaryFilter.field);return er.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ks(e.unaryFilter.field);return er.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return we()}}function cV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function FA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=yI(t)),t=lV(e.get(n),t);return yI(t)}function lV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function yI(e){return e+""}function oi(e){var t=e.length;if(Pe(t>=2),t===2)return Pe(e.charAt(0)===""&&e.charAt(1)===""),ot.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&we(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:we()}s=u+2}return new ot(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fV=function(e,t){this.seconds=e,this.nanoseconds=t},Yn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Yn.store="owner",Yn.key="owner";var Hi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Hi.store="mutationQueues",Hi.keyPath="userId";var yt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};yt.store="mutations",yt.keyPath="batchId",yt.userMutationsIndex="userMutationsIndex",yt.userMutationsKeyPath=["userId","batchId"];var fn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Cr(n)]},e.key=function(t,n,r){return[t,Cr(n),r]},e}();fn.store="documentMutations",fn.PLACEHOLDER=new fn;var hV=function(e,t){this.path=e,this.readTime=t},dV=function(e,t){this.path=e,this.version=t},Nt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Nt.store="remoteDocuments",Nt.readTimeIndex="readTimeIndex",Nt.readTimeIndexPath="readTime",Nt.collectionReadTimeIndex="collectionReadTimeIndex",Nt.collectionReadTimeIndexPath=["parentPath","readTime"];var Hr=function(e){this.byteSize=e};Hr.store="remoteDocumentGlobal",Hr.key="remoteDocumentGlobalKey";var Vn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Vn.store="targets",Vn.keyPath="targetId",Vn.queryTargetsIndexName="queryTargetsIndex",Vn.queryTargetsKeyPath=["canonicalId","targetId"];var rn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};rn.store="targetDocuments",rn.keyPath=["targetId","path"],rn.documentTargetsIndex="documentTargetsIndex",rn.documentTargetsKeyPath=["path","targetId"];var Qn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qn.key="targetGlobalKey",Qn.store="targetGlobal";var $o=function(e,t){this.collectionId=e,this.parent=t};$o.store="collectionParents",$o.keyPath=["collectionId","parent"];var ai=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ai.store="clientMetadata",ai.keyPath="clientId";var ha=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ha.store="bundles",ha.keyPath="bundleId";var da=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};da.store="namedQueries",da.keyPath="name";var pV=Et(Et([],Et(Et([],Et(Et([],Et(Et([],[Hi.store,yt.store,fn.store,Nt.store,Vn.store,Yn.store,Qn.store,rn.store]),[ai.store])),[Hr.store])),[$o.store])),[ha.store,da.store]),VA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),$n=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),jA=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new $n,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Fu(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=Sy(o.target.error);r.ft.reject(new Fu(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Fu(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new gV(n)},e}(),pa=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Xo())===12.2&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),Do(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Xo(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return G(this,void 0,void 0,function(){var n,r=this;return H(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){u(new Fu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?u(new Q(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Fu(t,p))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;r.wt.Rt(p,l.transaction,f.oldVersion,r.version).next(function(){re("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return G(this,void 0,void 0,function(){var s,u,l,f,p;return H(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,l=function(){var h,m,y,_,E;return H(this,function(I){switch(I.label){case 0:++u,I.label=1;case 1:return I.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=I.sent(),h=jA.open(f.db,t,s?"readonly":"readwrite",r),m=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(I.sent(),m),y)];case 4:return _=I.sent(),E=_.name!=="FirebaseError"&&u<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),f.close(),E?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),mV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Do(this.Pt.delete())},e}(),Fu=function(e){function t(n,r){var o=this;return(o=e.call(this,M.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Ae(t,e),t}(Q);function ss(e){return e.name==="IndexedDbTransactionError"}var gV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Do(r)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),Do(this.store.add(t))},e.prototype.get=function(t){var n=this;return Do(this.store.get(t)).next(function(r){return r===void 0&&(r=null),re("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),Do(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),Do(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(r,o){n.onerror=function(s){var u=Sy(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ee(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new mV(l),p=n(l.primaryKey,l.value,f);if(p instanceof ee){var g=p.catch(function(h){return f.done(),ee.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Do(e){return new ee(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=Sy(r.target.error);n(o)}})}var _I=!1;function Sy(e){var t=pa._t(Xo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _I||(_I=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wI=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Ae(t,e),t}(UA);function Hn(e,t){var n=ae(e);return pa.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ay=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&HF(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&Yg(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Yg(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(We.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},mt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&oa(this.mutations,t.mutations,function(n,r){return sI(n,r)})&&oa(this.baseMutations,t.baseMutations,function(n,r){return sI(n,r)})},e}(),vV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Pe(t.mutations.length===r.length);for(var o=YF(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),$h=function(){function e(t,n,r,o,s,u,l){s===void 0&&(s=We.min()),u===void 0&&(u=We.min()),l===void 0&&(l=qn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),BA=function(e){this.Lt=e};function Zg(e,t){if(t.document)return iV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ee.fromSegments(t.noDocument.path),r=ga(t.noDocument.readTime),o=vn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ee.fromSegments(t.unknownDocument.path);return r=ga(t.unknownDocument.version),vn.newUnknownDocument(s,r)}return we()}function bI(e,t,n){var r=ky(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:sc(h,m.key),fields:m.data.value.mapValue.fields,updateTime:oc(h,m.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Nt(null,null,s,u,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=ma(t.version);return u=t.hasCommittedMutations,new Nt(null,new hV(l,f),null,u,r,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),g=ma(t.version);return new Nt(new dV(p,g),null,null,!0,r,o)}return we()}function ky(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qA(e){var t=new jn(e[0],e[1]);return We.fromTimestamp(t)}function ma(e){var t=e.toTimestamp();return new fV(t.seconds,t.nanoseconds)}function ga(e){var t=new jn(e.seconds,e.nanoseconds);return We.fromTimestamp(t)}function Bs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return mI(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return mI(e.Lt,f)}),l=jn.fromMillis(t.localWriteTimeMs);return new Ay(t.batchId,l,n,u)}function Cu(e){var t,n,r=ga(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?ga(e.lastLimboFreeSnapshotVersion):We.min();return e.query.documents!==void 0?(Pe((n=e.query).documents.length===1),t=Yr(Nc(OA(n.documents[0])))):t=function(s){return Yr(LA(s))}(e.query),new $h(t,e.targetId,0,e.lastListenSequenceNumber,r,o,qn.fromBase64String(e.resumeToken))}function $A(e,t){var n,r=ma(t.snapshotVersion),o=ma(t.lastLimboFreeSnapshotVersion);n=Bf(t.target)?PA(e.Lt,t.target):DA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Vn(t.targetId,Cc(t.target),r,s,t.sequenceNumber,o,n)}function HA(e){var t=LA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?pA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return EI(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:ga(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return EI(t).put({bundleId:(r=n).id,createTime:ma(Cn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return II(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:HA(o.bundledQuery),readTime:ga(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return II(t).put(function(r){return{name:r.name,readTime:ma(Cn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function EI(e){return Hn(e,ha.store)}function II(e){return Hn(e,da.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _V=function(){function e(){this.Bt=new xy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),xy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Xt(ot.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Xt(ot.comparator)).toArray()},e}(),wV=function(){function e(){this.qt=new xy}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:Cr(s)};return TI(t).put(u)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[sA(n),""],!1,!0);return TI(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;r.push(oi(f.parent))}return r})},e}();function TI(e){return Hn(e,$o.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e,t,n){var r=e.store(yt.store),o=e.store(fn.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:u},function(_,E,I){return l++,I.delete()});s.push(f.next(function(){Pe(l===1)}));for(var p=[],g=0,h=n.mutations;g<h.length;g++){var m=h[g],y=fn.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return ee.waitFor(s).next(function(){return p})}function Kf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw we();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);var bV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Pe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xi(t).$t({index:yt.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=qs(t),l=xi(t);return l.add({}).next(function(f){Pe(typeof f=="number");for(var p=new Ay(f,n,r,o),g=function(T,C,P){var D=P.baseMutations.map(function(V){return Hf(T.Lt,V)}),W=P.mutations.map(function(V){return Hf(T.Lt,V)});return new yt(C,P.batchId,P.localWriteTime.toMillis(),D,W)}(s.R,s.userId,p),h=[],m=new Xt(function(T,C){return Qe(T.canonicalString(),C.canonicalString())}),y=0,_=o;y<_.length;y++){var E=_[y],I=fn.key(s.userId,E.key.path,f);m=m.add(E.key.path.popLast()),h.push(l.put(g)),h.push(u.put(I,fn.PLACEHOLDER))}return m.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),ee.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return xi(t).get(n).next(function(o){return o?(Pe(o.userId===r.userId),Bs(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return xi(t).$t({index:yt.userMutationsIndex,range:s},function(l,f,p){f.userId===r.userId&&(Pe(f.batchId>=o),u=Bs(r.R,f)),p.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return xi(t).$t({index:yt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xi(t).Nt(yt.userMutationsIndex,r).next(function(o){return o.map(function(s){return Bs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=fn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return qs(t).$t({range:s},function(l,f,p){var g=l[0],h=l[1],m=l[2],y=oi(h);if(g===r.userId&&n.path.isEqual(y))return xi(t).get(m).next(function(_){if(!_)throw we();Pe(_.userId===r.userId),u.push(Bs(r.R,_))});p.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Xt(Qe),s=[];return n.forEach(function(u){var l=fn.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(l),p=qs(t).$t({range:f},function(g,h,m){var y=g[0],_=g[1],E=g[2],I=oi(_);y===r.userId&&u.path.isEqual(I)?o=o.add(E):m.done()});s.push(p)}),ee.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=fn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new Xt(Qe);return qs(t).$t({range:l},function(p,g,h){var m=p[0],y=p[1],_=p[2],E=oi(y);m===r.userId&&o.isPrefixOf(E)?E.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(xi(t).get(u).next(function(l){if(l===null)throw we();Pe(l.userId===r.userId),o.push(Bs(r.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return KA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ee.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ee.resolve();var o=IDBKeyRange.lowerBound(fn.prefixForUser(n.userId)),s=[];return qs(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var p=oi(u[1]);s.push(p)}else f.done()}).next(function(){Pe(s.length===0)})})},e.prototype.containsKey=function(t,n){return GA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return zA(t).get(this.userId).next(function(r){return r||new Hi(n.userId,-1,"")})},e}();function GA(e,t,n){var r=fn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return qs(e).$t({range:s,Ft:!0},function(l,f,p){var g=l[0],h=l[1];l[2],g===t&&h===o&&(u=!0),p.done()}).next(function(){return u})}function xi(e){return Hn(e,yt.store)}function qs(e){return Hn(e,fn.store)}function zA(e){return Hn(e,Hi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),EV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new Gf(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return We.fromTimestamp(new jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Fs(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Pe(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return Fs(t).$t(function(l,f){var p=Cu(f);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(s++,u.push(o.removeTargetData(t,p)))}).next(function(){return ee.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Fs(t).$t(function(r,o){var s=Cu(o);n(s)})},e.prototype.Xt=function(t){return AI(t).get(Qn.key).next(function(n){return Pe(n!==null),n})},e.prototype.Zt=function(t,n){return AI(t).put(Qn.key,n)},e.prototype.te=function(t,n){return Fs(t).put($A(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Cc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Fs(t).$t({range:o,index:Vn.queryTargetsIndexName},function(u,l,f){var p=Cu(l);Uh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=Fi(t);return n.forEach(function(l){var f=Cr(l.path);s.push(u.put(new rn(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Fi(t);return ee.forEach(n,function(u){var l=Cr(u.path);return ee.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Fi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Fi(t),s=mt();return o.$t({range:r,Ft:!0},function(u,l,f){var p=oi(u[1]),g=new Ee(p);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Cr(n.path),o=IDBKeyRange.bound([r],[sA(r)],!1,!0),s=0;return Fi(t).$t({index:rn.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var p=u[0];u[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Fs(t).get(n).next(function(r){return r?Cu(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return Hn(e,Vn.store)}function AI(e){return Hn(e,Qn.store)}function Fi(e){return Hn(e,rn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(e){return G(this,void 0,void 0,function(){return H(this,function(t){if(e.code!==M.FAILED_PRECONDITION||e.message!==VA)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=Qe(n,o);return u===0?Qe(r,s):u}var IV=function(){function e(t){this.ne=t,this.buffer=new Xt(kI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();kI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),TV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return G(n,void 0,void 0,function(){var o;return H(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ss(o=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,as(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),SV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ee.resolve(Zn.o);var o=new IV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(SI)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),SI):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,l,f,p,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>g.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+m),o=g.params.maximumSequenceNumbersToCollect):o=m,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(m){return r=m,l=Date.now(),g.removeTargets(t,r,n)}).next(function(m){return s=m,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(m){return p=Date.now(),Gg()<=it.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),AV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new SV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return ef(t,r)},e.prototype.removeReference=function(t,n,r){return ef(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return ef(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return zA(r).Ot(function(u){return GA(r,u,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var p=r._e(t,l).next(function(g){if(!g)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Fi(t).delete([0,Cr(l.path)])})});s.push(p)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return ef(t,n)},e.prototype.we=function(t,n){var r,o=Fi(t),s=Zn.o;return o.$t({index:rn.documentTargetsIndex},function(u,l){var f=u[0];u[1];var p=l.path,g=l.sequenceNumber;f===0?(s!==Zn.o&&n(new Ee(oi(r)),s),s=g,r=p):s=Zn.o}).next(function(){s!==Zn.o&&n(new Ee(oi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function ef(e,t){return Fi(e).put(function(n,r){return new rn(0,Cr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){is(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return aA(this.inner)},e}(),WA=function(){function e(){this.changes=new Ca(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:We.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:vn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ee.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),kV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Pi(t).put(tf(n),r)},e.prototype.removeEntry=function(t,n){var r=Pi(t),o=tf(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Pi(t).get(tf(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Pi(t).get(tf(n)).next(function(o){return{document:r.ye(n,o),size:Kf(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=xr();return this.pe(t,n,function(s,u){var l=r.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=xr(),s=new yn(Ee.comparator);return this.pe(t,n,function(u,l){var f=r.ye(u,l);o=o.insert(u,f),s=s.insert(u,Kf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Pi(t).$t({range:o},function(l,f,p){for(var g=Ee.fromSegments(l);u&&Ee.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=xr(),u=n.path.length+1,l={};if(r.isEqual(We.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),g=ky(r);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=Nt.collectionReadTimeIndex}return Pi(t).$t(l,function(h,m,y){if(h.length===u){var _=Zg(o.R,m);n.path.isPrefixOf(_.key.path)?Rc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new xV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return xI(t).get(Hr.key).next(function(n){return Pe(!!n),n})},e.prototype.me=function(t,n){return xI(t).put(Hr.key,n)},e.prototype.ye=function(t,n){if(n){var r=Zg(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(We.min()))return r}return vn.newInvalidDocument(t)},e}(),xV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Ca(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Ae(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new Xt(function(l,f){return Qe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=r.Ae.get(l);if(f.document.isValidDocument()){var g=bI(r.Ie.R,f.document,r.getReadTime(l));u=u.add(l.path.popLast());var h=Kf(g);s+=h-p,o.push(r.Ie.addEntry(n,l,g))}else if(s-=p,r.trackRemovals){var m=bI(r.Ie.R,vn.newNoDocument(l,We.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,m))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(WA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(e){return Hn(e,Hr.store)}function Pi(e){return Hn(e,Nt.store)}function tf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Pe(r<o&&r>=0&&o<=11);var u=new jA("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Yn.store)}(t),function(f){f.createObjectStore(Hi.store,{keyPath:Hi.keyPath}),f.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(fn.store)}(t),CI(t),function(f){f.createObjectStore(Nt.store)}(t));var l=ee.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(rn.store),f.deleteObjectStore(Vn.store),f.deleteObjectStore(Qn.store)}(t),CI(t)),l=l.next(function(){return function(f){var p=f.store(Qn.store),g=new Qn(0,0,We.min().toTimestamp(),0);return p.put(Qn.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,p){return p.store(yt.store).Nt().next(function(g){f.deleteObjectStore(yt.store),f.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0});var h=p.store(yt.store),m=g.map(function(y){return h.put(y)});return ee.waitFor(m)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(ai.store,{keyPath:ai.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Hr.store)}(t),s.be(u)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(Nt.store);p.createIndex(Nt.readTimeIndex,Nt.readTimeIndexPath,{unique:!1}),p.createIndex(Nt.collectionReadTimeIndex,Nt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ha.store,{keyPath:ha.keyPath})})(t),function(f){f.createObjectStore(da.store,{keyPath:da.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Nt.store).$t(function(r,o){n+=Kf(o)}).next(function(){var r=new Hr(n);return t.store(Hr.store).put(Hr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Hi.store),o=t.store(yt.store);return r.Nt().next(function(s){return ee.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(yt.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(p){Pe(p.userId===u.userId);var g=Bs(n.R,p);return KA(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(rn.store),r=t.store(Nt.store);return t.store(Qn.store).get(Qn.key).next(function(o){var s=[];return r.$t(function(u,l){var f=new ot(u),p=function(g){return[0,Cr(g)]}(f);s.push(n.get(p).next(function(g){return g?ee.resolve():function(h){return n.put(new rn(0,Cr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore($o.store,{keyPath:$o.keyPath});var r=n.store($o.store),o=new xy,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return r.put({collectionId:l,parent:Cr(f)})}};return n.store(Nt.store).$t({Ft:!0},function(u,l){var f=new ot(u);return s(f.popLast())}).next(function(){return n.store(fn.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var p=oi(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Vn.store);return r.$t(function(o,s){var u=Cu(s),l=$A(n.R,u);return r.put(l)})},e}();function CI(e){e.createObjectStore(rn.store,{keyPath:rn.keyPath}).createIndex(rn.documentTargetsIndex,rn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vn.store,{keyPath:Vn.keyPath}).createIndex(Vn.queryTargetsIndexName,Vn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qn.store)}var ng="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NV=function(){function e(t,n,r,o,s,u,l,f,p,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new Q(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AV(this,o),this.Le=n+"main",this.R=new BA(f),this.Be=new pa(this.Le,11,new CV(this.R)),this.qe=new EV(this.referenceDelegate,this.R),this.Ut=new wV,this.Ue=function(h,m){return new kV(h,m)}(this.R,this.Ut),this.Ke=new yV,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Q(M.FAILED_PRECONDITION,ng);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Zn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return G(n,void 0,void 0,function(){return H(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return G(n,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return G(n,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return nf(n).put(new ai(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ss(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return bu(t).get(Yn.key).next(function(r){return ee.resolve(n.tn(r))})},e.prototype.en=function(t){return nf(t).delete(this.clientId)},e.prototype.nn=function(){return G(this,void 0,void 0,function(){var t,n,r,o,s=this;return H(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Hn(l,ai.store);return f.Nt().next(function(p){var g=s.rn(p,18e5),h=p.filter(function(m){return g.indexOf(m)===-1});return ee.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):bu(t).get(Yn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Q(M.FAILED_PRECONDITION,ng);return!1}}return!(!n.networkEnabled||!n.inForeground)||nf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&re("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return G(this,void 0,void 0,function(){var t=this;return H(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Yn.store,ai.store],function(r){var o=new wI(r,Zn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return nf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return bV.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,pV,function(l){return s=new wI(l,o.Ne?o.Ne.next():Zn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw jt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Q(M.FAILED_PRECONDITION,VA);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return bu(t).get(Yn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Q(M.FAILED_PRECONDITION,ng)})},e.prototype.Ze=function(t){var n=new Yn(this.clientId,this.allowTabSynchronization,Date.now());return bu(t).put(Yn.key,n)},e.yt=function(){return pa.yt()},e.prototype.Xe=function(t){var n=this,r=bu(t);return r.get(Yn.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),r.delete(Yn.key)):ee.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(jt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),FL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return jt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){jt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function bu(e){return Hn(e,Yn.store)}function nf(e){return Hn(e,ai.store)}function Cy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var XA=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):wy(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ee(n)).next(function(r){var o=Qg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Qg();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var p=function(g,h){return new pi(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,p,r).next(function(g){g.forEach(function(h,m){u=u.insert(h,m)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var p=0,g=s;p<g.length;p++)for(var h=g[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],E=_.key,I=o.get(E);I==null&&(I=vn.newInvalidDocument(E),o=o.insert(E,I)),Yg(_,I,h.localWriteTime),I.isFoundDocument()||(o=o.remove(E))}})}).next(function(){return o.forEach(function(l,f){Rc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=mt(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var p=f[l];p instanceof Zi&&r.get(p.key)===null&&(o=o.add(p.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(g=g.insert(m,y))}),g})},e}(),OV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=mt(),o=mt(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),YA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(We.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(gf(n)||$f(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(Gg()<=it.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xg(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var r=new Xt(gA(t));return n.forEach(function(o,s){Rc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Gg()<=it.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Xg(n)),this.Sn.getDocumentsMatchingQuery(t,n,We.min())},e}(),RV=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new yn(Qe),this.Fn=new Ca(function(s){return Cc(s)},Uh),this.$n=We.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new XA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e,t,n,r){return new RV(e,t,n,r)}function JA(e,t){return G(this,void 0,void 0,function(){var n,r,o,s;return H(this,function(u){switch(u.label){case 0:return n=ae(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,r=n.persistence.getMutationQueue(t),o=new XA(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var g=[],h=[],m=mt(),y=0,_=f;y<_.length;y++){var E=_[y];g.push(E.batchId);for(var I=0,T=E.mutations;I<T.length;I++){var C=T[I];m=m.add(C.key)}}for(var P=0,D=p;P<D.length;P++){var W=D[P];h.push(W.batchId);for(var V=0,ce=W.mutations;V<ce.length;V++){var F=ce[V];m=m.add(F.key)}}return o.pn(l,m).next(function($){return{Ln:$,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function PV(e,t){var n=ae(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,p){var g=f.batch,h=g.keys(),m=ee.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var E=f.docVersions.get(y);Pe(E!==null),_.version.compareTo(E)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return u._n.removeMutationBatch(l,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function ZA(e){var t=ae(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function DV(e,t){var n=ae(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(g,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var y=g.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(E,I,T){return Pe(I.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,g)&&l.push(n.qe.updateTargetData(s,_))}}});var f=xr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(LV(s,u,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual(We.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(p)}return ee.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function LV(e,t,n,r,o){var s=mt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=xr();return n.forEach(function(f,p){var g=u.get(f),h=(o==null?void 0:o.get(f))||r;p.isNoDocument()&&p.version.isEqual(We.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),l})}function MV(e,t){var n=ae(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function zf(e,t){var n=ae(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new $h(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function va(e,t,n){return G(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:r=ae(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ss(u=l.sent()))throw u;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Wf(e,t,n){var r=ae(e),o=We.min(),s=mt();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,p){var g=ae(l),h=g.Fn.get(p);return h!==void 0?ee.resolve(g.kn.get(h)):g.qe.getTargetData(f,p)}(r,u,Yr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:We.min(),n?s:mt())}).next(function(l){return{documents:l,Bn:s}})})}function ek(e,t){var n=ae(e),r=ae(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function tk(e){var t=ae(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=ae(r),l=xr(),f=ky(s),p=Pi(o),g=IDBKeyRange.lowerBound(f,!0);return p.$t({index:Nt.readTimeIndex,range:g},function(h,m){var y=Zg(u.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:qA(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function FV(e){return G(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,(t=ae(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Pi(o),u=We.min();return s.$t({index:Nt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(u=qA(f.readTime)),p.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VV=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Cn(r.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:HA(r.bundledQuery),readTime:Cn(r.readTime)}}(n)),ee.resolve()},e}(),Ny=function(){function e(){this.Wn=new Xt(Qt.Gn),this.zn=new Xt(Qt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Qt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Qt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ee(new ot([])),o=new Qt(r,t),s=new Qt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ee(new ot([])),r=new Qt(n,t),o=new Qt(n,t+1),s=mt();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new Qt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Qt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ee.comparator(t.key,n.key)||Qe(t.ns,n.ns)},e.Hn=function(t,n){return Qe(t.ns,n.ns)||Ee.comparator(t.key,n.key)},e}(),UV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Xt(Qt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new Ay(s,n,r,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Qt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return ee.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Qt(n,0),s=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);u.push(f)}),ee.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Xt(Qe);return n.forEach(function(s){var u=new Qt(s,0),l=new Qt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ee.isDocumentKey(s)||(s=s.child(""));var u=new Qt(new Ee(s),0),l=new Xt(Qe);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},u),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Pe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var u=new Qt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Qt(n,0),o=this.rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),jV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new yn(Ee.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ee.resolve(r?r.document.clone():vn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=xr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():vn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=xr(),s=new Ee(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,p=l.value,g=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||Rc(n,g)&&(o=o.insert(g.key,g.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new BV(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),BV=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Ae(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(WA),qV=function(){function e(t){this.persistence=t,this.ds=new Ca(function(n){return Cc(n)},Uh),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ws=0,this._s=new Ny,this.targetCount=0,this.ys=Gf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Gf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ee.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ee.resolve(r)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),$V=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Zn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new qV(this),this.Ut=new _V,this.Ue=function(o,s){return new jV(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new BA(n),this.Ke=new VV(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new UV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("MemoryPersistence","Starting transaction:",t);var s=new HV(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),HV=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Ae(t,e),t}(UA),KV=function(){function e(t){this.persistence=t,this.As=new Ny,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw we()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=Ee.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ee.or([function(){return ee.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),en=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(e,t){return"firestore_clients_"+e+"_"+t}function OI(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function rg(e,t){return"firestore_targets_"+e+"_"+t}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");var RI=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new Q(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(jt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),ig=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new Q(o.error.code,o.error.message)),s?new e(t,o.state,r):(jt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),PI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=qh(),u=0;o&&u<r.activeTargetIds.length;++u)o=lA(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(jt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),GV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(jt("SharedClientState","Failed to parse online state: "+t),null)},e}(),ev=function(){function e(){this.activeTargetIds=qh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),og=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new yn(Qe),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=NI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new ev),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return G(this,void 0,void 0,function(){var t,n,r,o,s,u,l,f,p,g,h,m=this;return H(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(NI(this.persistenceKey,o)))&&(u=PI.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,g=this.$s;p<g.length;p++)h=g[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(rg(this.persistenceKey,t));if(r){var o=ig.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(rg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return G(n,void 0,void 0,function(){var o,s,u,l,f,p;return H(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(p=function(h){var m=Zn.o;if(h!=null)try{var y=JSON.parse(h);Pe(typeof y=="number"),m=y}catch(_){jt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==Zn.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new RI(this.currentUser,t,n,r),s=OI(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=OI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=rg(this.persistenceKey,t),s=new ig(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return PI.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return RI.Vs(new en(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return ig.Vs(o,n)},e.prototype.js=function(t){return GV.Vs(t)},e.prototype.ii=function(t){return G(this,void 0,void 0,function(){return H(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){u.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=qh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),nk=function(){function e(){this.li=new ev,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new ev,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),zV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),DI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),WV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},XV=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),YV=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Ae(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,l){var f=new kF;f.listenOnce(TF.COMPLETE,function(){try{switch(f.getLastErrorCode()){case tg.NO_ERROR:var g=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(g)),u(g);break;case tg.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new Q(M.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:var h=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var E=_.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(E)>=0?E:M.UNKNOWN}(m.status);l(new Q(y,m.message))}else l(new Q(M.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Q(M.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(r,"POST",p,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=EF(),u=IF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new AF({})),this.ki(l.initMessageHeaders,r),NL()||PL()||DL()||LL()||ML()||RL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),g=!1,h=!1,m=new XV({Ei:function(_){h?re("Connection","Not sending because WebChannel is closed:",_):(g||(re("Connection","Opening WebChannel transport."),p.open(),g=!0),re("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,E,I){_.listen(E,function(T){try{I(T)}catch(C){setTimeout(function(){throw C},0)}})};return y(p,Jl.EventType.OPEN,function(){h||re("Connection","WebChannel transport opened.")}),y(p,Jl.EventType.CLOSE,function(){h||(h=!0,re("Connection","WebChannel transport closed"),m.Vi())}),y(p,Jl.EventType.ERROR,function(_){h||(h=!0,Vf("Connection","WebChannel transport errored:",_),m.Vi(new Q(M.UNAVAILABLE,"The operation could not be completed")))}),y(p,Jl.EventType.MESSAGE,function(_){var E;if(!h){var I=_.data[0];Pe(!!I);var T=I,C=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(C){re("Connection","WebChannel received error:",C);var P=C.status,D=function(V){var ce=Ft[V];if(ce!==void 0)return AA(ce)}(P),W=C.message;D===void 0&&(D=M.INTERNAL,W="Unknown error status: "+P+" with message "+C.message),h=!0,m.Vi(new Q(D,W)),p.close()}else re("Connection","WebChannel received:",I),m.Si(I)}}),y(u,SF.STAT_EVENT,function(_){_.stat===QE.PROXY?re("Connection","Detected buffering proxy"):_.stat===QE.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);re("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Vf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=WV[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(e){return new nV(e,!0)}var Oy=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),ik=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Oy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return G(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return G(this,void 0,void 0,function(){return H(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return G(this,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(jt(n.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===M.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new Q(M.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return G(t,void 0,void 0,function(){return H(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),QV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,l}return Ae(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(I){return I==="NO_CHANGE"?0:I==="ADD"?1:I==="REMOVE"?2:I==="CURRENT"?3:I==="RESET"?4:we()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],g=function(I,T){return I.I?(Pe(T===void 0||typeof T=="string"),qn.fromBase64String(T||"")):(Pe(T===void 0||T instanceof Uint8Array),qn.fromUint8Array(T||new Uint8Array))}(s,u.targetChange.resumeToken),h=(m=u.targetChange.cause)&&function(I){var T=I.code===void 0?M.UNKNOWN:AA(I.code);return new Q(T,I.message||"")}(m);l=new xA(f,p,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,p=si(s,f.document.name),g=Cn(f.document.updateTime);var m=new Jn({mapValue:{fields:f.document.fields}}),y=(h=vn.newFoundDocument(p,g,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new yf(y,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,p=si(s,f.document),g=f.readTime?Cn(f.readTime):We.min(),m=vn.newNoDocument(p,g),h=f.removedTargetIds||[],l=new yf([],h,m.key,m);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,p=si(s,f.document),g=f.removedTargetIds||[],l=new yf([],g,p,null);else{if(!("filter"in u))return we();u.filter;var E=u.filter;E.targetId,f=E.count||0,p=new GF(f),g=E.targetId,l=new kA(g,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return We.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?We.min():u.readTime?Cn(u.readTime):We.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=ac(this.R),r.addTarget=function(s,u){var l,f=u.target;return(l=Bf(f)?{documents:PA(s,f)}:{query:DA(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=CA(s,u.resumeToken):u.snapshotVersion.compareTo(We.min())>0&&(l.readTime=oc(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=ac(this.R),r.removeTarget=n,this.cr(r)},t}(ik),JV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,l.gr=!1,l}return Ae(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Pe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Pe(u!==void 0),s.map(function(l){return function(f,p){var g=f.updateTime?Cn(f.updateTime):Cn(p);return g.isEqual(We.min())&&(g=Cn(p)),new $F(g,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=Cn(n.commitTime);return this.listener.Tr(o,r)}return Pe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ac(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Hf(r.R,s)})};this.cr(o)},t}(ik),ZV=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Ae(t,e),t.prototype.br=function(){if(this.Rr)throw new Q(M.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new Q(M.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new Q(M.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),eU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(jt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),tU=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return G(s,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return eo(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return G(this,void 0,void 0,function(){var p;return H(this,function(g){switch(g.label){case 0:return(p=ae(f)).Or.add(4),[4,Na(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Mc(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new eU(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(e){return G(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:if(!eo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Na(e){return G(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Kh(e,t){var n=ae(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Dy(n)?Py(n):Ra(n).er()&&Ry(n,t))}function uc(e,t){var n=ae(e),r=Ra(n);n.$r.delete(t),r.er()&&ok(n,t),n.$r.size===0&&(r.er()?r.ir():eo(n)&&n.Br.set("Unknown"))}function Ry(e,t){e.qr.U(t.targetId),Ra(e).mr(t)}function ok(e,t){e.qr.U(t),Ra(e).yr(t)}function Py(e){e.qr=new ZF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ra(e).start(),e.Br.Sr()}function Dy(e){return eo(e)&&!Ra(e).tr()&&e.$r.size>0}function eo(e){return ae(e).Or.size===0}function sk(e){e.qr=void 0}function nU(e){return G(this,void 0,void 0,function(){return H(this,function(t){return e.$r.forEach(function(n,r){Ry(e,n)}),[2]})})}function rU(e,t){return G(this,void 0,void 0,function(){return H(this,function(n){return sk(e),Dy(e)?(e.Br.Nr(t),Py(e)):e.Br.set("Unknown"),[2]})})}function iU(e,t,n){return G(this,void 0,void 0,function(){var r,o,s;return H(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof xA&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return G(this,void 0,void 0,function(){var p,g,h,m;return H(this,function(y){switch(y.label){case 0:p=f.cause,g=0,h=f.targetIds,y.label=1;case 1:return g<h.length?(m=h[g],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Xf(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof yf?e.qr.X(t):t instanceof kA?e.qr.rt(t):e.qr.et(t),n.isEqual(We.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,ZA(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach(function(g){var h=l.$r.get(g);if(h){l.$r.set(g,h.withResumeToken(qn.EMPTY_BYTE_STRING,h.snapshotVersion)),ok(l,g);var m=new $h(h.target,g,1,h.sequenceNumber);Ry(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Xf(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Xf(e,t,n){return G(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:if(!ss(t))throw t;return e.Or.add(1),[4,Na(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return ZA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return G(r,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Mc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function ak(e,t){return t().catch(function(n){return Xf(e,n,t)})}function Oa(e){return G(this,void 0,void 0,function(){var t,n,r,o,s;return H(this,function(u){switch(u.label){case 0:t=ae(e),n=Xi(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return eo(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,MV(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var p=Xi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Xf(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return uk(t)&&ck(t),[2]}})})}function uk(e){return eo(e)&&!Xi(e).tr()&&e.Fr.length>0}function ck(e){Xi(e).start()}function oU(e){return G(this,void 0,void 0,function(){return H(this,function(t){return Xi(e).Ar(),[2]})})}function sU(e){return G(this,void 0,void 0,function(){var t,n,r,o;return H(this,function(s){for(t=Xi(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function aU(e,t,n){return G(this,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=vV.from(r,t,n),[4,ak(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Oa(e)];case 2:return s.sent(),[2]}})})}function uU(e,t){return G(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return t&&Xi(e).pr?[4,function(r,o){return G(this,void 0,void 0,function(){var s,u;return H(this,function(l){switch(l.label){case 0:return SA(u=o.code)&&u!==M.ABORTED?(s=r.Fr.shift(),Xi(r).sr(),[4,ak(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Oa(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uk(e)&&ck(e),[2]}})})}function tv(e,t){return G(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return n=ae(e),t?(n.Or.delete(2),[4,Mc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Na(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ra(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=ae(n);return s.br(),new QV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:nU.bind(null,e),Ri:rU.bind(null,e),_r:iU.bind(null,e)}),e.Mr.push(function(n){return G(t,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Dy(e)?Py(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),sk(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Xi(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=ae(n);return s.br(),new JV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:oU.bind(null,e),Ri:uU.bind(null,e),Ir:sU.bind(null,e),Tr:aU.bind(null,e)}),e.Mr.push(function(n){return G(t,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Oa(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var cU=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Pa(e,t){if(jt("AsyncQueue",t+": "+e),ss(e))return new Q(M.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lk=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ee.comparator(n.key,r.key)}:function(n,r){return Ee.comparator(n.key,r.key)},this.keyedMap=Qg(),this.sortedSet=new yn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),LI=function(){function e(){this.Qr=new yn(Ee.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):we():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Yf=function(){function e(t,n,r,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,lk.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),lU=function(){this.Wr=void 0,this.listeners=[]},fU=function(){this.queries=new Ca(function(e){return mA(e)},Oc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e,t){return G(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return H(this,function(p){switch(p.label){case 0:if(n=ae(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new lU),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=Pa(l,"Initialization of query '"+Xg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Fy(n),[2]}})})}function My(e,t){return G(this,void 0,void 0,function(){var n,r,o,s,u;return H(this,function(l){return n=ae(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function hU(e,t){for(var n=ae(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var p=0,g=f.listeners;p<g.length;p++)g[p].Hr(u)&&(r=!0);f.Wr=u}}r&&Fy(n)}function dU(e,t,n){var r=ae(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function Fy(e){e.Gr.forEach(function(t){t.next()})}var Vy=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Yf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Yf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fk=function(e){this.key=e},hk=function(e){this.key=e},dk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=mt(),this.mutatedKeys=mt(),this.lo=gA(t),this.fo=new lk(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new LI,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=gf(this.query)&&s.size===this.query.limit?s.last():null,g=$f(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),E=Rc(r.query,y)?y:null,I=!!_&&r.mutatedKeys.has(_.key),T=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),C=!1;_&&E?_.data.isEqual(E.data)?I!==T&&(o.track({type:3,doc:E}),C=!0):r.yo(_,E)||(o.track({type:2,doc:E}),C=!0,(p&&r.lo(E,p)>0||g&&r.lo(E,g)<0)&&(f=!0)):!_&&E?(o.track({type:0,doc:E}),C=!0):_&&!E&&(o.track({type:1,doc:_}),C=!0,(p||g)&&(f=!0)),C&&(E?(l=l.add(E),u=T?u.add(m):u.delete(m)):(l=l.delete(m),u=u.delete(m)))}),gf(this.query)||$f(this.query))for(;l.size>this.query.limit;){var h=gf(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(m,y){var _=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return _(m)-_(y)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,u.length!==0||p?{snapshot:new Yf(this.query,t.fo,s,u,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new LI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=mt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new hk(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new fk(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=mt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Yf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),pU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},mU=function(e){this.key=e,this.bo=!1},gU=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ca(function(l){return mA(l)},Oc),this.Vo=new Map,this.So=new Set,this.Do=new yn(Ee.comparator),this.Co=new Map,this.No=new Ny,this.xo={},this.ko=new Map,this.Fo=Gf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function vU(e,t){return G(this,void 0,void 0,function(){var n,r,o,s,u,l;return H(this,function(f){switch(f.label){case 0:return n=$y(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,zf(n.localStore,Yr(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,Uy(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Kh(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function Uy(e,t,n,r){return G(this,void 0,void 0,function(){var o,s,u,l,f,p;return H(this,function(g){switch(g.label){case 0:return e.Oo=function(h,m,y){return function(_,E,I,T){return G(this,void 0,void 0,function(){var C,P,D;return H(this,function(W){switch(W.label){case 0:return C=E.view._o(I),C.Nn?[4,Wf(_.localStore,E.query,!1).then(function(V){var ce=V.documents;return E.view._o(ce,C)})]:[3,2];case 1:C=W.sent(),W.label=2;case 2:return P=T&&T.targetChanges.get(E.targetId),D=E.view.applyChanges(C,_.isPrimaryClient,P),[2,(nv(_,E.targetId,D.To),D.snapshot)]}})})}(e,h,m,y)},[4,Wf(e.localStore,t,!0)];case 1:return o=g.sent(),s=new dk(t,o.Bn),u=s._o(o.documents),l=Iy.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),nv(e,n,f.To),p=new pU(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function yU(e,t){return G(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return n=ae(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!Oc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,va(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),uc(n.remoteStore,r.targetId),ya(n,r.targetId)}).catch(as)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ya(n,r.targetId),[4,va(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function _U(e,t,n){return G(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:r=Hy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var g,h=ae(f),m=jn.now(),y=p.reduce(function(_,E){return _.add(E.key)},mt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(E){g=E;for(var I=[],T=0,C=p;T<C.length;T++){var P=C[T],D=KF(P,g.get(P.key));D!=null&&I.push(new Zi(P.key,D,fA(D.value.mapValue),mn.exists(!0)))}return h._n.addMutationBatch(_,m,I,p)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){var h=f.xo[f.currentUser.toKey()];h||(h=new yn(Qe)),h=h.insert(p,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,to(r,o.changes)];case 3:return l.sent(),[4,Oa(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=Pa(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function pk(e,t){return G(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:n=ae(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,DV(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Pe(l.bo):s.removedDocuments.size>0&&(Pe(l.bo),l.bo=!1))}),[4,to(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,as(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function MI(e,t,n){var r=ae(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=ae(s);l.onlineState=u;var f=!1;l.queries.forEach(function(p,g){for(var h=0,m=g.listeners;h<m.length;h++)m[h].zr(u)&&(f=!0)}),f&&Fy(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wU(e,t,n){return G(this,void 0,void 0,function(){var r,o,s,u,l,f;return H(this,function(p){switch(p.label){case 0:return(r=ae(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new yn(Ee.comparator)).insert(s,vn.newNoDocument(s,We.min())),l=mt().add(s),f=new Ey(We.min(),new Map,new Xt(Qe),u,l),[4,pk(r,f)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),qy(r),[3,4];case 2:return[4,va(r.localStore,t,!1).then(function(){return ya(r,t,n)}).catch(as)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function bU(e,t){return G(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:n=ae(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,PV(n.localStore,t)];case 2:return o=s.sent(),By(n,r,null),jy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,to(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,as(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function EU(e,t,n){return G(this,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:r=ae(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return f._n.lookupMutationBatch(p,l).next(function(h){return Pe(h!==null),g=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,g)})})}(r.localStore,t)];case 2:return o=s.sent(),By(r,t,n),jy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,to(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,as(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function IU(e,t){return G(this,void 0,void 0,function(){var n,r,o,s,u;return H(this,function(l){switch(l.label){case 0:eo((n=ae(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=ae(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),u=Pa(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function jy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function By(e,t,n){var r=ae(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function ya(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||mk(e,u)})}function mk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(uc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),qy(e))}function nv(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof fk?(e.No.addReference(s.key,t),TU(e,s)):s instanceof hk?(re("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||mk(e,s.key)):we()}}function TU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(re("SyncEngine","New document in limbo: "+n),e.So.add(r),qy(e))}function qy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ee(ot.fromString(t)),r=e.Fo.next();e.Co.set(r,new mU(n)),e.Do=e.Do.insert(n,r),Kh(e.remoteStore,new $h(Yr(Nc(n.path)),r,2,Zn.o))}}function to(e,t,n){return G(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:return r=ae(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,p){u.push(r.Oo(p,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=OV.Pn(p.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,p){return G(this,void 0,void 0,function(){var g,h,m,y,_,E,I,T,C;return H(this,function(P){switch(P.label){case 0:g=ae(f),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(D){return ee.forEach(p,function(W){return ee.forEach(W.bn,function(V){return g.persistence.referenceDelegate.addReference(D,W.targetId,V)}).next(function(){return ee.forEach(W.vn,function(V){return g.persistence.referenceDelegate.removeReference(D,W.targetId,V)})})})})];case 2:return P.sent(),[3,4];case 3:if(!ss(h=P.sent()))throw h;return re("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],E=_.targetId,_.fromCache||(I=g.kn.get(E),T=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(T),g.kn=g.kn.insert(E,C));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function SU(e,t){return G(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return(n=ae(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,JA(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new Q(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,to(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function AU(e,t){var n=ae(e),r=n.Co.get(t);if(r&&r.bo)return mt().add(r.key);var o=mt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function kU(e,t){return G(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return[4,Wf((n=ae(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&nv(n,t.targetId,o.To),o)]}})})}function xU(e){return G(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,tk((t=ae(e)).localStore).then(function(r){return to(t,r)})]})})}function CU(e,t,n,r){return G(this,void 0,void 0,function(){var o,s;return H(this,function(u){switch(u.label){case 0:return[4,function(l,f){var p=ae(l),g=ae(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):ee.resolve(null)})})}((o=ae(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Oa(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(By(o,t,r||null),jy(o,t),function(l,f){ae(ae(l)._n).Gt(f)}(o.localStore,t)):we(),u.label=4;case 4:return[4,to(o,s)];case 5:return u.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function NU(e,t){return G(this,void 0,void 0,function(){var n,r,o,s,u,l,f,p;return H(this,function(g){switch(g.label){case 0:return $y(n=ae(e)),Hy(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,FI(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,tv(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)l=u[s],Kh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return ya(n,m),va(n.localStore,m,!0)}),uc(n.remoteStore,m)}),[4,p]);case 4:return g.sent(),[4,FI(n,f)];case 5:return g.sent(),function(h){var m=ae(h);m.Co.forEach(function(y,_){uc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new yn(Ee.comparator)}(n),n.$o=!1,[4,tv(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function FI(e,t,n){return G(this,void 0,void 0,function(){var r,o,s,u,l,f,p,g,h,m,y,_,E,I;return H(this,function(T){switch(T.label){case 0:r=ae(e),o=[],s=[],u=0,l=t,T.label=1;case 1:return u<l.length?(f=l[u],p=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,zf(r.localStore,Yr(g[0]))]:[3,7]):[3,13];case 2:p=T.sent(),h=0,m=g,T.label=3;case 3:return h<m.length?(y=m[h],_=r.Po.get(y),[4,kU(r,_)]):[3,6];case 4:(E=T.sent()).snapshot&&s.push(E.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ek(r.localStore,f)];case 8:return I=T.sent(),[4,zf(r.localStore,I)];case 9:return p=T.sent(),[4,Uy(r,gk(I),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(p),T.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function gk(e){return dA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function OU(e){var t=ae(e);return ae(ae(t.localStore).persistence).fn()}function RU(e,t,n,r){return G(this,void 0,void 0,function(){var o,s,u;return H(this,function(l){switch(l.label){case 0:return(o=ae(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tk(o.localStore)];case 3:return s=l.sent(),u=Ey.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,to(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,va(o.localStore,t,!0)];case 6:return l.sent(),ya(o,t,r),[3,8];case 7:we(),l.label=8;case 8:return[2]}})})}function PU(e,t,n){return G(this,void 0,void 0,function(){var r,o,s,u,l,f,p,g,h,m;return H(this,function(y){switch(y.label){case 0:if(!(r=$y(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(re("SyncEngine","Adding an already active target "+u),[3,5]):[4,ek(r.localStore,u)]):[3,6];case 2:return l=y.sent(),[4,zf(r.localStore,l)];case 3:return f=y.sent(),[4,Uy(r,gk(l),f.targetId,!1)];case 4:y.sent(),Kh(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return H(this,function(E){switch(E.label){case 0:return r.Vo.has(_)?[4,va(r.localStore,_,!1).then(function(){uc(r.remoteStore,_),ya(r,_)}).catch(as)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},g=0,h=n,y.label=7;case 7:return g<h.length?(m=h[g],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function $y(e){var t=ae(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wU.bind(null,t),t.vo._r=hU.bind(null,t.eventManager),t.vo.Mo=dU.bind(null,t.eventManager),t}function Hy(e){var t=ae(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EU.bind(null,t),t}var vk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return G(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return this.R=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return QA(this.persistence,new YA,t.initialUser,this.R)},e.prototype.qo=function(t){return new $V(KV.bs,this.R)},e.prototype.Bo=function(t){return new nk},e.prototype.terminate=function(){return G(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),yk=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Ae(t,e),t.prototype.initialize=function(n){return G(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,FV(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Hy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Oa(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return QA(this.persistence,new YA,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Cy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new NV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,rk(),_f(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new nk},t}(vk),DU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Ae(t,e),t.prototype.initialize=function(n){return G(this,void 0,void 0,function(){var r,o=this;return H(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof og?(this.sharedClientState.syncEngine={ui:CU.bind(null,r),ai:RU.bind(null,r),hi:PU.bind(null,r),fn:OU.bind(null,r),ci:xU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return G(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,NU(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=rk();if(!og.yt(r))throw new Q(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Cy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new og(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(yk),rv=function(){function e(){}return e.prototype.initialize=function(t,n){return G(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return MI(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=SU.bind(null,this.syncEngine),[4,tv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new fU},e.prototype.createDatastore=function(t){var n,r=Hh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new YV(n));return function(s,u,l){return new ZV(s,u,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return MI(l.syncEngine,f,0)},u=DI.yt()?new DI:new zV,new tU(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,l,f,p){var g=new gU(r,o,s,u,l,f);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return G(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return n=ae(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Na(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),LU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return G(this,void 0,void 0,function(){var n,r=this;return H(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Q(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return G(this,void 0,void 0,function(){var l,f,p,g,h,m;return H(this,function(y){switch(y.label){case 0:return l=ae(s),f=ac(l.R)+"/documents",p={documents:u.map(function(_){return sc(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return g=y.sent(),h=new Map,g.forEach(function(_){var E=function(I,T){return"found"in T?function(C,P){Pe(!!P.found),P.found.name,P.found.updateTime;var D=si(C,P.found.name),W=Cn(P.found.updateTime),V=new Jn({mapValue:{fields:P.found.fields}});return vn.newFoundDocument(D,W,V)}(I,T):"missing"in T?function(C,P){Pe(!!P.missing),Pe(!!P.readTime);var D=si(C,P.missing),W=Cn(P.readTime);return vn.newNoDocument(D,W)}(I,T):we()}(l.R,_);h.set(E.key.toString(),E)}),m=[],[2,(u.forEach(function(_){var E=h.get(_.toString());Pe(!!E),m.push(E)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Lc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return G(this,void 0,void 0,function(){var t,n=this;return H(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Ee.fromPath(s);n.mutations.push(new by(u,n.precondition(u)))}),[4,function(o,s){return G(this,void 0,void 0,function(){var u,l,f;return H(this,function(p){switch(p.label){case 0:return u=ae(o),l=ac(u.R)+"/documents",f={writes:s.map(function(g){return Hf(u.R,g)})},[4,u.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw we();n=We.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Q(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?mn.updateTime(n):mn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(We.min()))throw new Q(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),MU=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new Oy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return G(t,void 0,void 0,function(){var n,r,o=this;return H(this,function(s){return n=new LU(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!os(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!SA(n)}return!1},e}(),FU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=en.UNAUTHENTICATED,this.clientId=oA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return G(o,void 0,void 0,function(){return H(this,function(u){switch(u.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return G(this,void 0,void 0,function(){return H(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Q(M.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return G(t,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Pa(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t){return G(this,void 0,void 0,function(){var n,r,o=this;return H(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return G(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,JA(t.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function wk(e,t){return G(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ky(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return G(this,void 0,void 0,function(){var f,p;return H(this,function(g){switch(g.label){case 0:return(f=ae(u)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),p=eo(f),f.Or.add(3),[4,Na(f)];case 1:return g.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,Mc(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Ky(e){return G(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,_k(e,new vk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function zh(e){return G(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,wk(e,new rv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function VI(e){return Ky(e).then(function(t){return t.persistence})}function bk(e){return Ky(e).then(function(t){return t.localStore})}function UI(e){return zh(e).then(function(t){return t.remoteStore})}function Ek(e){return zh(e).then(function(t){return t.syncEngine})}function _a(e){return G(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return[4,zh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=vU.bind(null,t.syncEngine),n.onUnlisten=yU.bind(null,t.syncEngine),n)]}})})}function jI(e,t,n){var r=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return G(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new Gh({next:function(_){f.enqueueAndForget(function(){return My(l,y)});var E=_.docs.has(p);!E&&_.fromCache?h.reject(new Q(M.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&g&&g.source==="server"?h.reject(new Q(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Vy(Nc(p.path),m,{includeMetadataChanges:!0,so:!0});return Ly(l,y)},[4,_a(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function BI(e,t,n){var r=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return G(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new Gh({next:function(_){f.enqueueAndForget(function(){return My(l,y)}),_.fromCache&&g.source==="server"?h.reject(new Q(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Vy(p,m,{includeMetadataChanges:!0,so:!0});return Ly(l,y)},[4,_a(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var VU=function(e,t,n,r,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},Qf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),qI=new Map,Ik=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},$I=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(en.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),UU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),jU=function(){function e(t){var n=this;this.currentUser=en.UNAUTHENTICATED,this.oc=new $n,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Pe(typeof o.accessToken=="string"),new Ik(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return G(r,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string"),new en(t)},e}(),BU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=en.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),qU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new BU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(en.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(e,t,n){if(!n)throw new Q(M.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function zy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Q(M.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Tk(e,t,n,r){if(t===!0&&r===!0)throw new Q(M.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function HI(e){if(!Ee.isDocumentKey(e))throw new Q(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function KI(e){if(Ee.isDocumentKey(e))throw new Q(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Wh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":we()}function st(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wh(e);throw new Q(M.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function GI(e,t){if(t<=0)throw new Q(M.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Tk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),cc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zI({}),this._settingsFrozen=!1,t instanceof Qf?(this._databaseId=t,this._credentials=new $I):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qf(r.options.projectId)}(t),this._credentials=new jU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new $I;switch(n.type){case"gapi":var r=n.client;return Pe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new qU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Q(M.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=qI.get(t))&&(re("ComponentProvider","Removing Datastore"),qI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),At=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ki(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),nr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ki=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Nc(o))||this)._path=o,s.type="collection",s}return Ae(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new At(this.firestore,null,new Ee(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(nr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ht(e),Gy("collection","path",t),e instanceof cc)return KI(n=ot.fromString.apply(ot,Et([t],r))),new Ki(e,null,n);if(!(e instanceof At||e instanceof Ki))throw new Q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return KI(n=ot.fromString.apply(ot,Et([e.path],r)).child(ot.fromString(t))),new Ki(e.firestore,null,n)}function wf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ht(e),arguments.length===1&&(t=oA.u()),Gy("doc","path",t),e instanceof cc)return HI(n=ot.fromString.apply(ot,Et([t],r))),new At(e,null,new Ee(n));if(!(e instanceof At||e instanceof Ki))throw new Q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return HI(n=e._path.child(ot.fromString.apply(ot,Et([t],r)))),new At(e.firestore,e instanceof Ki?e.converter:null,new Ee(n))}function Ak(e,t){return e=ht(e),t=ht(t),(e instanceof At||e instanceof Ki)&&(t instanceof At||t instanceof Ki)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kk(e,t){return e=ht(e),t=ht(t),e instanceof nr&&t instanceof nr&&e.firestore===t.firestore&&Oc(e._query,t._query)&&e.converter===t.converter}var $U=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Oy(this,"async_queue_retry"),this.Ic=function(){var r=_f();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new $n;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return G(this,void 0,void 0,function(){var t,n=this;return H(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ss(t=r.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,jt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=cU.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&we()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return G(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function wa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var HU=-1,Wt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new $U,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ae(t,e),t.prototype._terminate=function(){return this._firestoreClient||xk(this),this._firestoreClient.terminate()},t}(cc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e){return e._firestoreClient||xk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xk(e){var t,n=e._freezeSettings(),r=function(o,s,u,l){return new VU(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new FU(e._credentials,e._queue,r)}function WI(e,t,n){var r=this,o=new $n;return e.asyncQueue.enqueue(function(){return G(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,_k(e,n)];case 1:return u.sent(),[4,wk(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===M.FAILED_PRECONDITION||l.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function XI(e){if(e._initialized||e._terminated)throw new Q(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new Q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ts=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(qn.fromBase64String(t))}catch(n){throw new Q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(qn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),us=function(e){this._methodName=e},Xh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Qe(this._lat,t._lat)||Qe(this._long,t._long)},e}(),KU=/^__.*__$/,GU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Zi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(t,this.data,n,this.fieldTransforms)},e}(),Ck=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Zi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var Ok=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Jf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Nk(this.Nc)&&KU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),zU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Hh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new Ok({Nc:t,methodName:n,qc:r,path:Nr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function cs(e){var t=e._freezeSettings(),n=Hh(e._databaseId);return new zU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yh(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Qy("Data must be an object, but it was:",u,r);var l,f,p=Dk(r,u);if(s.merge)l=new sa(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,m=s.mergeFields;h<m.length;h++){var y=iv(t,m[h],n);if(!u.contains(y))throw new Q(M.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Mk(g,y)||g.push(y)}l=new sa(g),f=u.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=u.fieldTransforms;return new GU(new Jn(p),l,f)}var Wy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(us);function Rk(e,t,n){return new Ok({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var WU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype._toFieldTransform=function(n){return new Pc(n.path,new la)},t.prototype.isEqual=function(n){return n instanceof t},t}(us),XU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ae(t,e),t.prototype._toFieldTransform=function(n){var r=Rk(this,n,!0),o=this.Kc.map(function(u){return ls(u,r)}),s=new Zo(o);return new Pc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(us),YU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ae(t,e),t.prototype._toFieldTransform=function(n){var r=Rk(this,n,!0),o=this.Kc.map(function(u){return ls(u,r)}),s=new es(o);return new Pc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(us),QU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Ae(t,e),t.prototype._toFieldTransform=function(n){var r=new fa(n.R,_A(n.R,this.Qc));return new Pc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(us);function Xy(e,t,n,r){var o=e.Uc(1,t,n);Qy("Data must be an object, but it was:",o,r);var s=[],u=Jn.empty();is(r,function(f,p){var g=Jy(t,f,n);p=ht(p);var h=o.Oc(g);if(p instanceof Wy)s.push(g);else{var m=ls(p,h);m!=null&&(s.push(g),u.set(g,m))}});var l=new sa(s);return new Ck(u,l,o.fieldTransforms)}function Yy(e,t,n,r,o,s){var u=e.Uc(1,t,n),l=[iv(t,r,n)],f=[o];if(s.length%2!=0)throw new Q(M.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(iv(t,s[p])),f.push(s[p+1]);for(var g=[],h=Jn.empty(),m=l.length-1;m>=0;--m)if(!Mk(g,l[m])){var y=l[m],_=f[m];_=ht(_);var E=u.Oc(y);if(_ instanceof Wy)g.push(y);else{var I=ls(_,E);I!=null&&(g.push(y),h.set(y,I))}}var T=new sa(g);return new Ck(h,T,u.fieldTransforms)}function Pk(e,t,n,r){return r===void 0&&(r=!1),ls(n,e.Uc(r?4:3,t))}function ls(e,t){if(Lk(e=ht(e)))return Qy("Unsupported field value:",t,e),Dk(e,t);if(e instanceof us)return function(n,r){if(!Nk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=ls(l[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _A(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=jn.fromDate(n);return{timestampValue:oc(r.R,o)}}if(n instanceof jn)return o=new jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:oc(r.R,o)};if(n instanceof Xh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ts)return{bytesValue:CA(r.R,n._byteString)};if(n instanceof At){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Ty(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Wh(n))}(e,t)}function Dk(e,t){var n={};return aA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(e,function(r,o){var s=ls(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Lk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof jn||e instanceof Xh||e instanceof ts||e instanceof At||e instanceof us)}function Qy(e,t,n){if(!Lk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=Wh(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function iv(e,t,n){if((t=ht(t))instanceof Kr)return t._internalPath;if(typeof t=="string")return Jy(e,t);throw Jf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var JU=new RegExp("[~\\*/\\[\\]]");function Jy(e,t,n){if(t.search(JU)>=0)throw Jf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Kr.bind.apply(Kr,Et([void 0],t.split("."))))()._internalPath}catch{throw Jf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Jf(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new Q(M.INVALID_ARGUMENT,(l+=". ")+e+f)}function Mk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new At(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new ZU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Zf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),ZU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(lc);function Zf(e,t){return typeof t=="string"?Jy(e,t):t instanceof Kr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ui=function(e){function t(n,r,o,s,u,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Ae(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Zf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(lc),Vu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ui),Vi=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Vu(r._firestore,r._userDataWriter,o.key,o,new Vo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,g=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(g=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:ej(l.type),doc:f,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function ej(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function Fk(e,t){return e instanceof ui&&t instanceof ui?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Vi&&t instanceof Vi&&e._firestore===t._firestore&&kk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(e){if($f(e)&&e.explicitOrderBy.length===0)throw new Q(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fc=function(){};function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var tj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Ae(t,e),t.prototype._apply=function(n){var r=cs(n.firestore),o=function(s,u,l,f,p,g,h){var m;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Q(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){eT(h,g);for(var y=[],_=0,E=h;_<E.length;_++){var I=E[_];y.push(ZI(f,s,I))}m={arrayValue:{values:y}}}else m=ZI(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||eT(h,g),m=Pk(l,"where",h,g==="in"||g==="not-in");var T=er.create(p,g,m);return function(C,P){if(P.g()){var D=_y(C);if(D!==null&&!D.isEqual(P.field))throw new Q(M.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+D.toString()+"' and '"+P.field.toString()+"'");var W=yy(C);W!==null&&jk(C,P.field,W)}var V=function(ce,F){for(var $=0,k=ce.filters;$<k.length;$++){var Ne=k[$];if(F.indexOf(Ne.op)>=0)return Ne.op}return null}(C,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(V!==null)throw V===P.op?new Q(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+P.op.toString()+"' filter."):new Q(M.INVALID_ARGUMENT,"Invalid query. You cannot use '"+P.op.toString()+"' filters with '"+V.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new nr(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new pi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Fc),nj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Ae(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new Q(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Q(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ys(s,u);return function(f,p){if(yy(f)===null){var g=_y(f);g!==null&&jk(f,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new nr(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new pi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Fc),YI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Ae(t,e),t.prototype._apply=function(n){return new nr(n.firestore,n.converter,pA(n._query,this.Hc,this.Jc))},t}(Fc),QI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ae(t,e),t.prototype._apply=function(n){var r=Uk(n,this.type,this.Yc,this.Xc);return new nr(n.firestore,n.converter,function(o,s){return new pi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Fc),JI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ae(t,e),t.prototype._apply=function(n){var r=Uk(n,this.type,this.Yc,this.Xc);return new nr(n.firestore,n.converter,function(o,s){return new pi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Fc);function Uk(e,t,n,r){if(n[0]=ht(n[0]),n[0]instanceof lc)return function(s,u,l,f,p){if(!f)throw new Q(M.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],h=0,m=ca(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())g.push(jf(u,f.key));else{var _=f.data.field(y.field);if(my(_))throw new Q(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var E=y.field.canonicalString();throw new Q(M.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}g.push(_)}}return new ic(g,p)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=cs(e.firestore);return function(s,u,l,f,p,g){var h=s.explicitOrderBy;if(p.length>h.length)throw new Q(M.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new Q(M.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!wy(s)&&_.indexOf("/")!==-1)throw new Q(M.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var E=s.path.child(ot.fromString(_));if(!Ee.isDocumentKey(E))throw new Q(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var I=new Ee(E);m.push(jf(u,I))}else{var T=Pk(l,f,_);m.push(T)}}return new ic(m,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function ZI(e,t,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new Q(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!wy(t)&&n.indexOf("/")!==-1)throw new Q(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ot.fromString(n));if(!Ee.isDocumentKey(r))throw new Q(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jf(e,new Ee(r))}if(n instanceof At)return jf(e,n._key);throw new Q(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wh(n)+".")}function eT(e,t){if(!Array.isArray(e)||e.length===0)throw new Q(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Q(M.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function jk(e,t,n){if(!n.isEqual(t))throw new Q(M.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Jo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(aa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw we()}},e.prototype.convertObject=function(t,n){var r=this,o={};return is(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new Xh(Vt(t.latitude),Vt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=cA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Wi(t);return new jn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=ot.fromString(t);Pe(FA(r));var o=new Qf(r.get(1),r.get(3)),s=new Ee(r.popFirst(5));return o.isEqual(n)||jt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rj=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ae(t,e),t.prototype.convertBytes=function(n){return new ts(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new At(this.firestore,null,r)},t}(Zy),ij=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cs(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Ui(t,this._firestore),s=Qh(o.converter,n,r),u=Yh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,mn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=Ui(t,this._firestore);return u=typeof(n=ht(n))=="string"||n instanceof Kr?Yy(this._dataReader,"WriteBatch.update",l._key,n,r,o):Xy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,mn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ui(t,this._firestore);return this._mutations=this._mutations.concat(new Lc(n._key,mn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Q(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t){if((e=ht(e)).firestore!==t)throw new Q(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ae(t,e),t.prototype.convertBytes=function(n){return new ts(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new At(this.firestore,null,r)},t}(Zy);function tT(e,t,n){e=st(e,At);var r=st(e.firestore,Wt),o=Qh(e.converter,t,n);return Vc(r,[Yh(cs(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,mn.none())])}function nT(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=st(e,At);var s=st(e.firestore,Wt),u=cs(s);return Vc(s,[(typeof(t=ht(t))=="string"||t instanceof Kr?Yy(u,"updateDoc",e._key,t,n,r):Xy(u,"updateDoc",e._key,t)).toMutation(e._key,mn.exists(!0))])}function Bk(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=ht(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||wa(o[l])||(u=o[l],l++);var f,p,g,h={includeMetadataChanges:u.includeMetadataChanges};if(wa(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof At)p=st(e.firestore,Wt),g=Nc(e._key.path),f={next:function(E){o[l]&&o[l](ov(p,e,E))},error:o[l+1],complete:o[l+2]};else{var y=st(e,nr);p=st(y.firestore,Wt),g=y._query;var _=new Ho(p);f={next:function(E){o[l]&&o[l](new Vi(p,_,y,E))},error:o[l+1],complete:o[l+2]},Vk(e._query)}return function(E,I,T,C){var P=this,D=new Gh(C),W=new Vy(I,D,T);return E.asyncQueue.enqueueAndForget(function(){return G(P,void 0,void 0,function(){var V;return H(this,function(ce){switch(ce.label){case 0:return V=Ly,[4,_a(E)];case 1:return[2,V.apply(void 0,[ce.sent(),W])]}})})}),function(){D.Wo(),E.asyncQueue.enqueueAndForget(function(){return G(P,void 0,void 0,function(){var V;return H(this,function(ce){switch(ce.label){case 0:return V=My,[4,_a(E)];case 1:return[2,V.apply(void 0,[ce.sent(),W])]}})})})}}(hn(p),g,h,f)}function Vc(e,t){return function(n,r){var o=this,s=new $n;return n.asyncQueue.enqueueAndForget(function(){return G(o,void 0,void 0,function(){var u;return H(this,function(l){switch(l.label){case 0:return u=_U,[4,Ek(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(hn(e),t)}function ov(e,t,n){var r=n.docs.get(t._key),o=new Ho(e);return new ui(e,o,t._key,r,new Vo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Ae(t,e),t.prototype.get=function(n){var r=this,o=Ui(n,this._firestore),s=new Ho(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new ui(r._firestore,s,o._key,u._document,new Vo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=cs(t)}return e.prototype.get=function(t){var n=this,r=Ui(t,this._firestore),o=new rj(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return we();var u=s[0];if(u.isFoundDocument())return new lc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new lc(n._firestore,o,r._key,null,r.converter);throw we()})},e.prototype.set=function(t,n,r){var o=Ui(t,this._firestore),s=Qh(o.converter,n,r),u=Yh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=Ui(t,this._firestore);return u=typeof(n=ht(n))=="string"||n instanceof Kr?Yy(this._dataReader,"Transaction.update",l._key,n,r,o):Xy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=Ui(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){if(typeof Uint8Array>"u")throw new Q(M.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function iT(){if(typeof atob>"u")throw new Q(M.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var qk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return iT(),new e(ts.fromBase64String(t))},e.fromUint8Array=function(t){return rT(),new e(ts.fromUint8Array(t))},e.prototype.toBase64=function(){return iT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return rT(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),sj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){XI(r=st(r,Wt));var s=hn(r),u=r._freezeSettings(),l=new rv;return WI(s,l,new yk(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){XI(n=st(n,Wt));var r=hn(n),o=n._freezeSettings(),s=new rv;return WI(r,s,new DU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Q(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new $n;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return G(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return G(this,void 0,void 0,function(){var f;return H(this,function(p){switch(p.label){case 0:return pa.yt()?(f=l+"main",[4,pa.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(Cy(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),$k=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Qf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Vf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,l){var f;l===void 0&&(l={});var p=(o=st(o,cc))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Vf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+u,ssl:!1})),l.mockUserToken){var g,h;if(typeof l.mockUserToken=="string")g=l.mockUserToken,h=en.MOCK_USER;else{g=YS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new Q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new en(m)}o._credentials=new UU(new Ik(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return G(n,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return[4,VI(t)];case 1:return r=s.sent(),[4,UI(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=ae(u);return l.Or.delete(0),Mc(l)}(o))]}})})})}(hn(st(this._delegate,Wt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return G(n,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return[4,VI(t)];case 1:return r=s.sent(),[4,UI(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return G(this,void 0,void 0,function(){var l;return H(this,function(f){switch(f.label){case 0:return(l=ae(u)).Or.add(0),[4,Na(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(hn(st(this._delegate,Wt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&Tk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new $n;return t.asyncQueue.enqueueAndForget(function(){return G(n,void 0,void 0,function(){var o;return H(this,function(s){switch(s.label){case 0:return o=IU,[4,Ek(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(hn(st(this._delegate,Wt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,l=new Gh(s);return o.asyncQueue.enqueueAndForget(function(){return G(u,void 0,void 0,function(){var f;return H(this,function(p){switch(p.label){case 0:return f=function(g,h){ae(g).Gr.add(h),h.next()},[4,_a(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return G(u,void 0,void 0,function(){var f;return H(this,function(p){switch(p.label){case 0:return f=function(g,h){ae(g).Gr.delete(h)},[4,_a(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(hn(n=st(n,Wt)),wa(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new eh(this,Sk(this._delegate,t))}catch(n){throw In(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ko(this,wf(this._delegate,t))}catch(n){throw In(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ed(this,function(n,r){if(n=st(n,cc),Gy("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Q(M.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new nr(n,null,function(o){return new pi(ot.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw In(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var l=this,f=new $n;return s.asyncQueue.enqueueAndForget(function(){return G(l,void 0,void 0,function(){var p;return H(this,function(g){switch(g.label){case 0:return[4,function(h){return zh(h).then(function(m){return m.datastore})}(s)];case 1:return p=g.sent(),new MU(s.asyncQueue,p,u,f).run(),[2]}})})}),f.promise}(hn(r),function(s){return o(new oj(r,s))})}(this._delegate,function(r){return t(new Hk(n,r))})},e.prototype.batch=function(){var t=this;return hn(this._delegate),new Kk(new ij(this._delegate,function(n){return Vc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Q(M.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Q(M.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Jh=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ae(t,e),t.prototype.convertBytes=function(n){return new qk(new ts(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ko.eu(r,this.firestore,null)},t}(Zy);function aj(e){var t;t=e,kr.setLogLevel(t)}var Hk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Jh(t)}return e.prototype.get=function(t){var n=this,r=Uo(t);return this._delegate.get(r).then(function(o){return new fc(n._firestore,new ui(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Uo(t);return r?(zy("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Uo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,r],s)),this},e.prototype.delete=function(t){var n=Uo(t);return this._delegate.delete(n),this},e}(),Kk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Uo(t);return r?(zy("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Uo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,r],s)),this},e.prototype.delete=function(t){var n=Uo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Zh=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Vu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hc(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Jh(t),n),o.set(n,s)),s},e}();Zh.su=new WeakMap;var Ko=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Jh(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Q(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new At(n._delegate,r,new Ee(t)))},e.eu=function(t,n,r){return new e(n,new At(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new eh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new eh(this.firestore,Sk(this._delegate,t))}catch(n){throw In(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ht(t))instanceof At&&Ak(this._delegate,t)},e.prototype.set=function(t,n){n=zy("DocumentReference.set",n);try{return n?tT(this._delegate,t,n):tT(this._delegate,t)}catch(r){throw In(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?nT(this._delegate,t):nT.apply(void 0,Et([this._delegate,t,n],r))}catch(s){throw In(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Vc(st((t=this._delegate).firestore,Wt),[new Lc(t._key,mn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Gk(n),s=zk(n,function(u){return new fc(t.firestore,new ui(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return Bk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=st(r,At);var o=st(r.firestore,Wt),s=hn(o),u=new Ho(o);return function(l,f){var p=this,g=new $n;return l.asyncQueue.enqueueAndForget(function(){return G(p,void 0,void 0,function(){var h;return H(this,function(m){switch(m.label){case 0:return h=function(y,_,E){return G(this,void 0,void 0,function(){var I,T;return H(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(P,D){var W=ae(P);return W.persistence.runTransaction("read document","readonly",function(V){return W.Mn.mn(V,D)})}(y,_)];case 1:return(T=C.sent()).isFoundDocument()?E.resolve(T):T.isNoDocument()?E.resolve(null):E.reject(new Q(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return I=C.sent(),T=Pa(I,"Failed to get document '"+_+" from cache"),E.reject(T),[3,3];case 3:return[2]}})})},[4,bk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(l){return new ui(o,u,r._key,l,new Vo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=st(r,At);var o=st(r.firestore,Wt);return jI(hn(o),r._key,{source:"server"}).then(function(s){return ov(o,r,s)})}(this._delegate):function(r){r=st(r,At);var o=st(r.firestore,Wt);return jI(hn(o),r._key).then(function(s){return ov(o,r,s)})}(this._delegate)).then(function(r){return new fc(n.firestore,new ui(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Zh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function In(e,t,n){return e.message=e.message.replace(t,n),e}function Gk(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!wa(r))return r}return{}}function zk(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=wa(e[0])?e[0]:wa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var fc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ko(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Fk(this._delegate,t._delegate)},e}(),hc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(fc),ed=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Jh(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ci(this._delegate,function(o,s,u){var l=s,f=Zf("where",o);return new tj(f,l,u)}(t,n,r)))}catch(o){throw In(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ci(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=Zf("orderBy",r);return new nj(u,s)}(t,n)))}catch(r){throw In(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ci(this._delegate,function(n){return GI("limit",n),new YI("limit",n,"F")}(t)))}catch(n){throw In(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ci(this._delegate,function(n){return GI("limitToLast",n),new YI("limitToLast",n,"L")}(t)))}catch(n){throw In(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new QI("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw In(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new QI("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw In(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new JI("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw In(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ci(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new JI("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw In(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return kk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=st(r,nr);var o=st(r.firestore,Wt),s=hn(o),u=new Ho(o);return function(l,f){var p=this,g=new $n;return l.asyncQueue.enqueueAndForget(function(){return G(p,void 0,void 0,function(){var h;return H(this,function(m){switch(m.label){case 0:return h=function(y,_,E){return G(this,void 0,void 0,function(){var I,T,C,P,D;return H(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,,3]),[4,Wf(y,_,!0)];case 1:return D=W.sent(),I=new dk(_,D.Bn),T=I._o(D.documents),C=I.applyChanges(T,!1),E.resolve(C.snapshot),[3,3];case 2:return P=W.sent(),D=Pa(P,"Failed to execute query '"+_+" against cache"),E.reject(D),[3,3];case 3:return[2]}})})},[4,bk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(l){return new Vi(o,u,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=st(r,nr);var o=st(r.firestore,Wt),s=hn(o),u=new Ho(o);return BI(s,r._query,{source:"server"}).then(function(l){return new Vi(o,u,r,l)})}(this._delegate):function(r){r=st(r,nr);var o=st(r.firestore,Wt),s=hn(o),u=new Ho(o);return Vk(r._query),BI(s,r._query).then(function(l){return new Vi(o,u,r,l)})}(this._delegate)).then(function(r){return new sv(n.firestore,new Vi(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Gk(n),s=zk(n,function(u){return new sv(t.firestore,new Vi(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return Bk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Zh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),uj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),sv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ed(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new hc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new uj(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new hc(r._firestore,o))})},e.prototype.isEqual=function(t){return Fk(this._delegate,t._delegate)},e}(),eh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Ae(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ko(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ko(this.firestore,n===void 0?wf(this._delegate):wf(this._delegate,n))}catch(r){throw In(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=st(o.firestore,Wt),l=wf(o),f=Qh(o.converter,s);return Vc(u,[Yh(cs(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,mn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Ko(r.firestore,o)})},t.prototype.isEqual=function(n){return Ak(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Zh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(ed);function Uo(e){return st(e,At)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Kr.bind.apply(Kr,Et([void 0],t)))}return e.documentId=function(){return new e(Nr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ht(t))instanceof Kr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),lj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new WU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Wy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new XU("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new YU("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new QU("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),fj={Firestore:$k,GeoPoint:Xh,Timestamp:jn,Blob:qk,Transaction:Hk,WriteBatch:Kk,DocumentReference:Ko,DocumentSnapshot:fc,Query:ed,QueryDocumentSnapshot:hc,QuerySnapshot:sv,CollectionReference:eh,FieldPath:cj,FieldValue:lj,setLogLevel:aj,CACHE_SIZE_UNLIMITED:HU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(e){(function(t,n){t.INTERNAL.registerComponent(new _c("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fj)))})(e,function(t,n){return new $k(t,new Wt(t,n),new sj)}),e.registerVersion("@firebase/firestore","2.4.1")}hj(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wk="firebasestorage.googleapis.com",Xk="storageBucket",dj=2*60*1e3,pj=10*60*1e3,$t=function(e){Ae(t,e);function t(n,r){var o=e.call(this,sg(n),"Firebase Storage: "+r+" ("+sg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return sg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(JS);function sg(e){return"storage/"+e}function e_(){var e="An unknown error occurred, please check the error payload for server response.";return new $t("unknown",e)}function mj(e){return new $t("object-not-found","Object '"+e+"' does not exist.")}function gj(e){return new $t("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t("unauthenticated",e)}function yj(){return new $t("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function _j(e){return new $t("unauthorized","User does not have permission to access '"+e+"'.")}function wj(){return new $t("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Yk(){return new $t("canceled","User canceled the upload/download.")}function bj(e){return new $t("invalid-url","Invalid URL '"+e+"'.")}function Ej(e){return new $t("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Ij(){return new $t("no-default-bucket","No default bucket found. Did you set the '"+Xk+"' property when initializing the app?")}function Qk(){return new $t("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Tj(){return new $t("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Sj(){return new $t("no-download-url","The given file does not have any download URLs.")}function Qs(e){return new $t("invalid-argument",e)}function Jk(){return new $t("app-deleted","The Firebase app was deleted.")}function Zk(e){return new $t("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uu(e,t){return new $t("invalid-format","String does not match format '"+e+"': "+t)}function rf(e){throw new $t("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ag=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function ex(e,t){switch(e){case fr.RAW:return new ag(tx(t));case fr.BASE64:case fr.BASE64URL:return new ag(nx(e,t));case fr.DATA_URL:return new ag(xj(t),Cj(t))}throw e_()}function tx(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function kj(e){var t;try{t=decodeURIComponent(e)}catch{throw Uu(fr.DATA_URL,"Malformed data URL.")}return tx(t)}function nx(e,t){switch(e){case fr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw Uu(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case fr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw Uu(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Aj(t)}catch{throw Uu(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var rx=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Uu(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Nj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function xj(e){var t=new rx(e);return t.base64?nx(fr.BASE64,t.rest):kj(t.rest)}function Cj(e){var t=new rx(e);return t.contentType}function Nj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oj={STATE_CHANGED:"state_changed"},Tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ug(e){switch(e){case"running":case"pausing":case"canceling":return Tn.RUNNING;case"paused":return Tn.PAUSED;case"success":return Tn.SUCCESS;case"canceled":return Tn.CANCELED;case"error":return Tn.ERROR;default:return Tn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Go||(Go={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Go.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Go.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw rf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw rf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw rf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw rf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Pj(){return new Rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){function e(){}return e.prototype.createConnection=function(){return Pj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw Ej(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},E=n===Wk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp("^https?://"+E+"/"+o+"/"+I,"i"),C={bucket:1,path:2},P=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:T,indices:C,postModify:p}],D=0;D<P.length;D++){var W=P[D],V=W.regex.exec(t);if(V){var ce=V[W.indices.bucket],F=V[W.indices.path];F||(F=""),r=new e(ce,F),W.postModify(r);break}}if(r==null)throw bj(t);return r},e}(),Lj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(e,t,n){var r=1,o=null,s=!1,u=0;function l(){return u===2}var f=!1;function p(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var E=[],I=1;I<arguments.length;I++)E[I-1]=arguments[I];if(!f){if(_){p.call.apply(p,Et([null,_],E));return}var T=l()||s;if(T){p.call.apply(p,Et([null,_],E));return}r<64&&(r*=2);var C;u===1?(u=2,C=0):C=(r+Math.random())*1e3,g(C)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,y(!0)},n),y}function Fj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(e){return e!==void 0}function Uj(e){return typeof e=="function"}function jj(e){return typeof e=="object"&&!Array.isArray(e)}function td(e){return typeof e=="string"||e instanceof String}function oT(e){return t_()&&e instanceof Blob}function t_(){return typeof Blob<"u"}function av(e,t,n,r){if(r<t)throw Qs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Qs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function ix(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bj=function(){function e(t,n,r,o,s,u,l,f,p,g,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new of(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(f){var p=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,g)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var f=u.getErrorCode()===Go.NO_ERROR,p=u.getStatus();if(!f||t.isRetryStatusCode_(p)){var g=u.getErrorCode()===Go.ABORT;o(!1,new of(!1,null,g));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new of(h,u))})}function r(o,s){var u=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());Vj(p)?u(p):u()}catch(h){l(h)}else if(f!==null){var g=e_();g.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,g)):l(g)}else if(s.canceled){var g=t.appDelete_?Jk():Yk();l(g)}else{var g=wj();l(g)}}this.canceled_?r(!1,new of(!1,null,!0)):this.backoffId_=Mj(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Fj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),of=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function qj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function $j(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function Hj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Kj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Gj(e,t,n,r,o,s){var u=ix(e.urlParams),l=e.url+u,f=Object.assign({},e.headers);return Hj(f,t),qj(f,n),$j(f,s),Kj(f,r),new Bj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zj();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(t_())return new Blob(e);throw new $t("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Xj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_=function(){function e(t,n){var r=0,o="";oT(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(oT(this.data_)){var r=this.data_,o=Xj(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t_()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(Wj.apply(null,r))}else{var o=t.map(function(f){return td(f)?ex(fr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)u[l++]=f[p]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(e){var t;try{t=JSON.parse(e)}catch{return null}return jj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Qj(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function ox(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(e,t){return t}var bn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||Jj}return e}(),sf=null;function Zj(e){return!td(e)||e.length<2?e:ox(e)}function nd(){if(sf)return sf;var e=[];e.push(new bn("bucket")),e.push(new bn("generation")),e.push(new bn("metageneration")),e.push(new bn("name","fullPath",!0));function t(s,u){return Zj(u)}var n=new bn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new bn("size");return o.xform=r,e.push(o),e.push(new bn("timeCreated")),e.push(new bn("updated")),e.push(new bn("md5Hash",null,!0)),e.push(new bn("cacheControl",null,!0)),e.push(new bn("contentDisposition",null,!0)),e.push(new bn("contentEncoding",null,!0)),e.push(new bn("contentLanguage",null,!0)),e.push(new bn("contentType",null,!0)),e.push(new bn("metadata","customMetadata",!0)),sf=e,sf}function e2(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new hr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function t2(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return e2(r,e),r}function sx(e,t,n){var r=r_(t);if(r===null)return null;var o=r;return t2(e,o,n)}function n2(e,t,n){var r=r_(t);if(r===null||!td(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(f){var p=e.bucket,g=e.fullPath,h="/b/"+s(p)+"/o/"+s(g),m=no(h,n),y=ix({alt:"media",token:f});return m+y});return l[0]}function i_(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sT="prefixes",aT="items";function r2(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[sT])for(var o=0,s=n[sT];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),f=e._makeStorageReference(new hr(t,l));r.prefixes.push(f)}if(n[aT])for(var p=0,g=n[aT];p<g.length;p++){var h=g[p],f=e._makeStorageReference(new hr(t,h.name));r.items.push(f)}return r}function i2(e,t,n){var r=r_(n);if(r===null)return null;var o=r;return r2(e,t,o)}var mi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){if(!e)throw e_()}function rd(e,t){function n(r,o){var s=sx(e,o,t);return Gr(s!==null),s}return n}function o2(e,t){function n(r,o){var s=i2(e,t,o);return Gr(s!==null),s}return n}function s2(e,t){function n(r,o){var s=sx(e,o,t);return Gr(s!==null),n2(s,o,e.host)}return n}function Da(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=yj():o=vj():n.getStatus()===402?o=gj(e.bucket):n.getStatus()===403?o=_j(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function id(e){var t=Da(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=mj(e.path)),s.serverResponse=o.serverResponse,s}return n}function ax(e,t,n){var r=t.fullServerUrl(),o=no(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new mi(o,s,rd(e,n),u);return l.errorHandler=id(t),l}function a2(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=no(u,e.host),f="GET",p=e.maxOperationRetryTime,g=new mi(l,f,o2(e,t.bucket),p);return g.urlParams=s,g.errorHandler=Da(t),g}function u2(e,t,n){var r=t.fullServerUrl(),o=no(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new mi(o,s,s2(e,n),u);return l.errorHandler=id(t),l}function c2(e,t,n,r){var o=t.fullServerUrl(),s=no(o,e.host),u="PATCH",l=i_(n,r),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,g=new mi(s,u,rd(e,r),p);return g.headers=f,g.body=l,g.errorHandler=id(t),g}function l2(e,t){var n=t.fullServerUrl(),r=no(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,p){}var l=new mi(r,o,u,s);return l.successCodes=[200,204],l.errorHandler=id(t),l}function f2(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function ux(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=f2(null,t)),r}function h2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var P="",D=0;D<2;D++)P=P+Math.random().toString().slice(2);return P}var f=l();u["Content-Type"]="multipart/related; boundary="+f;var p=ux(t,r,o),g=i_(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=n_.getBlob(h,r,m);if(y===null)throw Qk();var _={name:p.fullPath},E=no(s,e.host),I="POST",T=e.maxUploadRetryTime,C=new mi(E,I,rd(e,n),T);return C.urlParams=_,C.headers=u,C.body=y.uploadData(),C.errorHandler=Da(t),C}var th=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function o_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Gr(!1)}var r=t||["active"];return Gr(!!n&&r.indexOf(n)!==-1),n}function d2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=ux(t,r,o),l={name:u.fullPath},f=no(s,e.host),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=i_(u,n),m=e.maxUploadRetryTime;function y(E){o_(E);var I;try{I=E.getResponseHeader("X-Goog-Upload-URL")}catch{Gr(!1)}return Gr(td(I)),I}var _=new mi(f,p,y,m);return _.urlParams=l,_.headers=g,_.body=h,_.errorHandler=Da(t),_}function p2(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(p){var g=o_(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gr(!1)}h||Gr(!1);var m=Number(h);return Gr(!isNaN(m)),new th(m,r.size(),g==="final")}var u="POST",l=e.maxUploadRetryTime,f=new mi(n,u,s,l);return f.headers=o,f.errorHandler=Da(t),f}var uT=256*1024;function m2(e,t,n,r,o,s,u,l){var f=new th(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw Tj();var p=f.total-f.current,g=p;o>0&&(g=Math.min(g,o));var h=f.current,m=h+g,y=g===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},E=r.slice(h,m);if(E===null)throw Qk();function I(D,W){var V=o_(D,["active","final"]),ce=f.current+g,F=r.size(),$;return V==="final"?$=rd(t,s)(D,W):$=null,new th(ce,F,V==="final",$)}var T="POST",C=t.maxUploadRetryTime,P=new mi(n,T,I,C);return P.headers=_,P.body=E.uploadData(),P.progressCallback=l||null,P.errorHandler=Da(e),P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g2=function(){function e(t,n,r){var o=Uj(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cx=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=nd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=d2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=p2(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=uT*this._chunkMultiplier,r=new th(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=m2(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,u);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=uT*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=ax(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=h2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Yk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=ug(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new g2(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(ug(this._state)){case Tn.SUCCESS:Vs(this._resolve.bind(null,this.snapshot))();break;case Tn.CANCELED:case Tn.ERROR:var n=this._reject;Vs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=ug(this._state);switch(n){case Tn.RUNNING:case Tn.PAUSED:t.next&&Vs(t.next.bind(t,this.snapshot))();break;case Tn.SUCCESS:t.complete&&Vs(t.complete.bind(t))();break;case Tn.CANCELED:case Tn.ERROR:t.error&&Vs(t.error.bind(t,this._error))();break;default:t.error&&Vs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od=function(){function e(t,n){this._service=t,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new hr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return ox(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Yj(this._location.path);if(t===null)return null;var n=new hr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Zk(t)},e}();function v2(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new cx(e,new n_(t),n)}function y2(e){var t={prefixes:[],items:[]};return lx(e,t).then(function(){return t})}function lx(e,t,n){return G(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,fx(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,lx(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function fx(e,t){return G(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&av("options.maxResults",1,1e3,t.maxResults),n=t||{},r=a2(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function _2(e){return G(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=ax(e.storage,e._location,nd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function w2(e,t){return G(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=c2(e.storage,e._location,t,nd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function b2(e){return G(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=u2(e.storage,e._location,nd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Sj();return r})]}})})}function E2(e){return G(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=l2(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function hx(e,t){var n=Qj(e._location.path,t),r=new hr(e._location.bucket,n);return new od(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(e){return/^[A-Za-z]+:\/\//.test(e)}function I2(e,t){return new od(e,t)}function dx(e,t){if(e instanceof sd){var n=e;if(n._bucket==null)throw Ij();var r=new od(n,n._bucket);return t!=null?dx(r,t):r}else return t!==void 0?hx(e,t):e}function T2(e,t){if(t&&uv(t)){if(e instanceof sd)return I2(e,t);throw Qs("To use ref(service, url), the first argument must be a Storage instance.")}else return dx(e,t)}function cT(e,t){var n=t==null?void 0:t[Xk];return n==null?null:hr.makeFromBucketSpec(n,e)}function S2(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:YS(o,e.app.options.projectId))}var sd=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=Wk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dj,this._maxUploadRetryTime=pj,this._requests=new Set,s!=null?this._bucket=hr.makeFromBucketSpec(s,this._host):this._bucket=cT(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,t):this._bucket=cT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){av("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){av("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return G(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return G(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new od(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new Lj(Jk());var s=Gj(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return G(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(e,t,n){return e=ht(e),v2(e,t,n)}function k2(e){return e=ht(e),_2(e)}function x2(e,t){return e=ht(e),w2(e,t)}function C2(e,t){return e=ht(e),fx(e,t)}function N2(e){return e=ht(e),y2(e)}function O2(e){return e=ht(e),b2(e)}function R2(e){return e=ht(e),E2(e)}function lT(e,t){return e=ht(e),T2(e,t)}function P2(e,t){return hx(e,t)}function D2(e,t,n,r){r===void 0&&(r={}),S2(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new af(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new af(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new af(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new af(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),hT=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new dc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new dc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=P2(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new fT(A2(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=fr.RAW),this._throwIfRoot("putString");var o=ex(n,t),s=na({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new fT(new cx(this._delegate,new n_(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return N2(this._delegate).then(function(n){return new hT(n,t.storage)})},e.prototype.list=function(t){var n=this;return C2(this._delegate,t||void 0).then(function(r){return new hT(r,n.storage)})},e.prototype.getMetadata=function(){return k2(this._delegate)},e.prototype.updateMetadata=function(t){return x2(this._delegate,t)},e.prototype.getDownloadURL=function(){return O2(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),R2(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Zk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L2=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(uv(t))throw Qs("ref() expected a child path but got a URL, use refFromURL instead.");return new dc(lT(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!uv(t))throw Qs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hr.makeFromUrl(t,this._delegate.host)}catch{throw Qs("refFromUrl() expected a valid full URL but got an invalid one.")}return new dc(lT(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),D2(this._delegate,t,n,r)},e}(),M2="@firebase/storage",F2="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V2="storage";function U2(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new L2(r,new sd(r,o,s,new Dj,n,Ce.SDK_VERSION));return u}function j2(e){var t={TaskState:Tn,TaskEvent:Oj,StringFormat:fr,Storage:sd,Reference:dc};e.INTERNAL.registerComponent(new _c(V2,U2,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(M2,F2)}j2(Ce);const B2={apiKey:"AIzaSyB6occTgPhlzZyI8X_I22-vAtu8pypxRww",authDomain:"music-app-aws.firebaseapp.com",projectId:"music-app-aws",storageBucket:"music-app-aws.appspot.com",appId:"1:464129772870:web:a40d025788fcb4d70a2947"};Ce.initializeApp(B2);const zr=Ce.auth(),s_=Ce.firestore(),px=Ce.storage(),q2=s_.collection("users"),ci=s_.collection("songs"),dT=s_.collection("comments"),La=jv("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await zr.createUserWithEmailAndPassword(e.email,e.password);await q2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await zr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await zr.signOut(),this.userLoggedIn=!1}}}),ir=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},$2={name:"AppHeader",computed:{...IL(Og,La)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth==="manage"&&this.$router.push({name:"home"})}}},H2={id:"header",class:"bg-gray-700"},K2={class:"container mx-auto flex justify-start items-center py-5 px-4"},G2={class:"flex flex-grow items-center"},z2={class:"flex flex-row mt-1"},W2={key:0};function X2(e,t,n,r,o,s){const u=kt("router-link");return Ze(),lt("header",H2,[j("nav",K2,[ke(u,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:Un(()=>[Bo("Music")]),_:1}),j("div",G2,[j("ul",z2,[j("li",null,[ke(u,{class:"px-2 text-white",to:{name:"about"}},{default:Un(()=>[Bo("About")]),_:1})]),e.userStore.userLoggedIn?(Ze(),lt(Gt,{key:1},[j("li",null,[ke(u,{class:"px-2 text-white",to:{name:"manage"}},{default:Un(()=>[Bo("Manage")]),_:1})]),j("li",null,[j("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=tn((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(Ze(),lt("li",W2,[j("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=tn((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const Y2=ir($2,[["render",X2]]),Q2={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are loggin you in."}},methods:{...Sh(La,["authenticate"]),async login(e){this.login_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="invalid login details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},J2={class:"mb-3"},Z2=j("label",{class:"inline-block mb-2"},"Email",-1),eB={class:"mb-3"},tB=j("label",{class:"inline-block mb-2"},"Password",-1),nB=["disabled"];function rB(e,t,n,r,o,s){const u=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return Ze(),lt(Gt,null,[o.login_show_alert?(Ze(),lt("div",{key:0,class:pn(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},Ut(o.login_alert_msg),3)):ea("",!0),ke(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Un(()=>[j("div",J2,[Z2,ke(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),ke(l,{class:"text-red-600",name:"email"})]),j("div",eB,[tB,ke(u,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),ke(l,{class:"text-red-600",name:"password"})]),j("button",{disabled:o.login_in_submission,type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,nB)]),_:1},8,["validation-schema","onSubmit"])],64)}const iB=ir(Q2,[["render",rB]]),oB={name:"RegisterForm",data(){return{tab:"login",schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antartica",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...Sh(La,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},sB={class:"mb-3"},aB=j("label",{class:"inline-block mb-2"},"Name",-1),uB={class:"mb-3"},cB=j("label",{class:"inline-block mb-2"},"Email",-1),lB={class:"mb-3"},fB=j("label",{class:"inline-block mb-2"},"Age",-1),hB={class:"mb-3"},dB=j("label",{class:"inline-block mb-2"},"Password",-1),pB={class:"mb-3"},mB=j("label",{class:"inline-block mb-2"},"Confirm Password",-1),gB={class:"mb-3"},vB=j("label",{class:"inline-block mb-2"},"Country",-1),yB=j("option",{value:"USA"},"USA",-1),_B=j("option",{value:"Mexico"},"Mexico",-1),wB=j("option",{value:"Germany"},"Germany",-1),bB=j("option",{value:"Antartica"},"Antartica",-1),EB={class:"mb-3 pl-6"},IB=j("label",{class:"inline-block"},"Accept terms of service",-1),TB=["disabled"];function SB(e,t,n,r,o,s){const u=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return Ze(),lt(Gt,null,[o.reg_show_alert?(Ze(),lt("div",{key:0,class:pn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Ut(o.reg_alert_msg),3)):ea("",!0),ke(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:Un(()=>[j("div",sB,[aB,ke(u,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),ke(l,{class:"text-red-600",name:"name"})]),j("div",uB,[cB,ke(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),ke(l,{class:"text-red-600",name:"email"})]),j("div",lB,[fB,ke(u,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),ke(l,{class:"text-red-600",name:"age"})]),j("div",hB,[dB,ke(u,{name:"password",bails:!1},{default:Un(({field:p,errors:g})=>[j("input",US({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password",type:"password"},p),null,16),(Ze(!0),lt(Gt,null,vc(g,h=>(Ze(),lt("div",{class:"text-red-600",key:h},Ut(h),1))),128))]),_:1}),ke(l,{class:"text-red-600",name:"password"})]),j("div",pB,[mB,ke(u,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),ke(l,{class:"text-red-600",name:"confirm_password"})]),j("div",gB,[vB,ke(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Un(()=>[yB,_B,wB,bB]),_:1}),ke(l,{class:"text-red-600",name:"country"})]),j("div",EB,[ke(u,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),IB,ke(l,{class:"text-red-600 block",name:"tos"})]),j("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,TB)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const AB=ir(oB,[["render",SB]]),kB={name:"Auth",components:{AppLoginForm:iB,AppRegisterForm:AB},data(){return{tab:"login"}},computed:{...kf(Og,["hiddenClass"]),...WS(Og,{modalVisibility:"isOpen"})},methods:{}},xB={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},CB=j("div",{class:"fixed inset-0 transition-opacity"},[j("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),NB=j("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"\u200B",-1),OB={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},RB={class:"py-4 text-left px-6"},PB={class:"flex justify-between items-center pb-4"},DB=j("p",{class:"text-2xl font-bold"},"Your Account",-1),LB=j("i",{class:"fas fa-times"},null,-1),MB=[LB],FB={class:"flex flex-wrap mb-4"},VB={class:"flex-auto text-center"},UB={class:"flex-auto text-center"};function jB(e,t,n,r,o,s){const u=kt("app-login-form"),l=kt("app-register-form");return Ze(),lt("div",{class:pn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[j("div",xB,[CB,NB,j("div",OB,[j("div",RB,[j("div",PB,[DB,j("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},MB)]),j("ul",FB,[j("li",VB,[j("a",{class:pn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=tn(f=>o.tab="login",["prevent"]))},"Login",2)]),j("li",UB,[j("a",{class:pn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=tn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(Ze(),zo(u,{key:0})):(Ze(),zo(l,{key:1}))])])])],2)}const BB=ir(kB,[["render",jB]]);var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),E=0;E<_.length;E++){var I=m._howls[y]._soundById(_[E]);I&&I._node&&(I._node.volume=I._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||g(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),E=0;E<_.length;E++){var I=m._howls[y]._soundById(_[E]);I&&I._node&&(I._node.muted=h?!0:I._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",E=_.match(/OPR\/(\d+)/g),I=E&&parseInt(E[0].split("/")[1],10)<33,T=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,C=_.match(/Version\/(.*?) /),P=T&&C&&parseInt(C[1],10)<15;return h._codecs={mp3:!!(!I&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!P&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var E=0;E<h._howls.length;E++)if(!h._howls[E]._webAudio)for(var I=h._howls[E]._getSoundIds(),T=0;T<I.length;T++){var C=h._howls[E]._soundById(I[T]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}h._autoResume();var P=h.ctx.createBufferSource();P.buffer=h._scratchBuffer,P.connect(h.ctx.destination),typeof P.start>"u"?P.noteOn(0):P.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),P.onended=function(){P.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var D=0;D<h._howls.length;D++)h._howls[D]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(!!h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};r.prototype={init:function(h){var m=this;return n.ctx||g(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,E;if(h._format&&h._format[y])_=h._format[y];else{if(E=h._src[y],typeof E!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(E),_||(_=/\.([^.]+)$/.exec(E.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var E=0,I=0;I<y._sounds.length;I++)y._sounds[I]._paused&&!y._sounds[I]._ended&&(E++,_=y._sounds[I]._id);E===1?h=null:_=null}}var T=_?y._soundById(_):y._inactiveSound();if(!T)return null;if(_&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var C=T._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(_&&!T._paused)return m||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var P=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),D=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-P),W=D*1e3/Math.abs(T._rate),V=y._sprite[h][0]/1e3,ce=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var F=function(){T._paused=!1,T._seek=P,T._start=V,T._stop=ce,T._loop=!!(T._loop||y._sprite[h][2])};if(P>=ce){y._ended(T);return}var $=T._node;if(y._webAudio){var k=function(){y._playLock=!1,F(),y._refreshBuffer(T);var Ue=T._muted||y._muted?0:T._volume;$.gain.setValueAtTime(Ue,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof $.bufferSource.start>"u"?T._loop?$.bufferSource.noteGrainOn(0,P,86400):$.bufferSource.noteGrainOn(0,P,D):T._loop?$.bufferSource.start(0,P,86400):$.bufferSource.start(0,P,D),W!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),W)),m||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?k():(y._playLock=!0,y.once("resume",k),y._clearTimer(T._id))}else{var Ne=function(){$.currentTime=P,$.muted=T._muted||y._muted||n._muted||$.muted,$.volume=T._volume*n.volume(),$.playbackRate=T._rate;try{var Ue=$.play();if(Ue&&typeof Promise<"u"&&(Ue instanceof Promise||typeof Ue.then=="function")?(y._playLock=!0,F(),Ue.then(function(){y._playLock=!1,$._unlocked=!0,m?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):m||(y._playLock=!1,F(),y._emit("play",T._id)),$.playbackRate=T._rate,$.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),W):(y._endTimers[T._id]=function(){y._ended(T),$.removeEventListener("ended",y._endTimers[T._id],!1)},$.addEventListener("ended",y._endTimers[T._id],!1))}catch(ze){y._emit("playerror",T._id,ze)}};$.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&($.src=y._src,$.load());var oe=window&&window.ejecta||!$.readyState&&n._navigator.isCocoonJS;if($.readyState>=3||oe)Ne();else{y._playLock=!0,y._state="loading";var xe=function(){y._state="loaded",Ne(),$.removeEventListener(n._canPlayEvent,xe,!1)};$.addEventListener(n._canPlayEvent,xe,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var E=m._soundById(y[_]);if(E&&!E._paused&&(E._seek=m.seek(y[_]),E._rateSeek=0,E._paused=!0,m._stopFade(y[_]),E._node))if(m._webAudio){if(!E._node.bufferSource)continue;typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),m._cleanBuffer(E._node)}else(!isNaN(E._node.duration)||E._node.duration===1/0)&&E._node.pause();arguments[1]||m._emit("pause",E?E._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),E=0;E<_.length;E++){y._clearTimer(_[E]);var I=y._soundById(_[E]);I&&(I._seek=I._start||0,I._rateSeek=0,I._paused=!0,I._ended=!0,y._stopFade(_[E]),I._node&&(y._webAudio?I._node.bufferSource&&(typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),y._cleanBuffer(I._node)):(!isNaN(I._node.duration)||I._node.duration===1/0)&&(I._node.currentTime=I._start||0,I._node.pause(),I._node.duration===1/0&&y._clearSound(I._node))),m||y._emit("stop",I._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),E=0;E<_.length;E++){var I=y._soundById(_[E]);I&&(I._muted=h,I._interval&&y._stopFade(I._id),y._webAudio&&I._node?I._node.gain.setValueAtTime(h?0:I._volume,n.ctx.currentTime):I._node&&(I._node.muted=n._muted?!0:h),y._emit("mute",I._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var E=h._getSoundIds(),I=E.indexOf(m[0]);I>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)T=h._soundById(_[C]),T&&(T._volume=y,m[2]||h._stopFade(_[C]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=_?h._soundById(_):h._sounds[0],T?T._volume:0;return h},fade:function(h,m,y,_){var E=this;if(E._state!=="loaded"||E._playLock)return E._queue.push({event:"fade",action:function(){E.fade(h,m,y,_)}}),E;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),E.volume(h,_);for(var I=E._getSoundIds(_),T=0;T<I.length;T++){var C=E._soundById(I[T]);if(C){if(_||E._stopFade(I[T]),E._webAudio&&!C._muted){var P=n.ctx.currentTime,D=P+y/1e3;C._volume=h,C._node.gain.setValueAtTime(h,P),C._node.gain.linearRampToValueAtTime(m,D)}E._startFadeInterval(C,h,m,y,I[T],typeof _>"u")}}return E},_startFadeInterval:function(h,m,y,_,E,I){var T=this,C=m,P=y-m,D=Math.abs(P/.01),W=Math.max(4,D>0?_/D:_),V=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var ce=(Date.now()-V)/_;V=Date.now(),C+=P*ce,C=Math.round(C*100)/100,P<0?C=Math.max(y,C):C=Math.min(y,C),T._webAudio?h._volume=C:T.volume(C,h._id,!0),I&&(T._volume=C),(y<m&&C<=y||y>m&&C>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},W)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,E;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return E=h._soundById(parseInt(m[0],10)),E?E._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var I=h._getSoundIds(_),T=0;T<I.length;T++)E=h._soundById(I[T]),E&&(E._loop=y,h._webAudio&&E._node&&E._node.bufferSource&&(E._node.bufferSource.loop=y,y&&(E._node.bufferSource.loopStart=E._start||0,E._node.bufferSource.loopEnd=E._stop,h.playing(I[T])&&(h.pause(I[T],!0),h.play(I[T],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var E=h._getSoundIds(),I=E.indexOf(m[0]);I>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)if(T=h._soundById(_[C]),T){h.playing(_[C])&&(T._rateSeek=h.seek(_[C]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var P=h.seek(_[C]),D=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-P,W=D*1e3/Math.abs(T._rate);(h._endTimers[_[C]]||!T._paused)&&(h._clearTimer(_[C]),h._endTimers[_[C]]=setTimeout(h._ended.bind(h,T),W)),h._emit("rate",T._id)}}else return T=h._soundById(_),T?T._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var E=h._getSoundIds(),I=E.indexOf(m[0]);I>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var T=h._soundById(_);if(T)if(typeof y=="number"&&y>=0){var C=h.playing(_);C&&h.pause(_,!0),T._seek=y,T._ended=!1,h._clearTimer(_),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var P=function(){C&&h.play(_,!0),h._emit("seek",_)};if(C&&!h._webAudio){var D=function(){h._playLock?setTimeout(D,0):P()};setTimeout(D,0)}else P()}else if(h._webAudio){var W=h.playing(_)?n.ctx.currentTime-T._playStart:0,V=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(V+W*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var E=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){E=!1;break}return s&&E&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var E=this,I=E["_on"+h];return typeof m=="function"&&I.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),E},off:function(h,m,y){var _=this,E=_["_on"+h],I=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(I=0;I<E.length;I++){var T=y===E[I].id;if(m===E[I].fn&&T||!m&&T){E.splice(I,1);break}}else if(h)_["_on"+h]=[];else{var C=Object.keys(_);for(I=0;I<C.length;I++)C[I].indexOf("_on")===0&&Array.isArray(_[C[I]])&&(_[C[I]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,E=_["_on"+h],I=E.length-1;I>=0;I--)(!E[I].id||E[I].id===m||h==="load")&&(setTimeout(function(T){T.call(this,m,y)}.bind(_,E[I].fn),0),E[I].once&&_.off(h,E[I].fn,E[I].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var E=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),E)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return m;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),E=0;E<y.length;++E)_[E]=y.charCodeAt(E);f(_.buffer,h)}else{var I=new XMLHttpRequest;I.open(h._xhr.method,m,!0),I.withCredentials=h._xhr.withCredentials,I.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){I.setRequestHeader(T,h._xhr.headers[T])}),I.onload=function(){var T=(I.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+I.status+".");return}f(I.response,h)},I.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(I)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(E){E&&m._sounds.length>0?(s[m._src]=E,p(m,E)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Eu<"u"?(Eu.HowlerGlobal=t,Eu.Howler=n,Eu.Howl=r,Eu.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(r=typeof r!="number"?p[1]:r,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,u=typeof u!="number"?p[4]:u,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,r,o,s,u,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,l);else return p;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),l=0;l<u.length;l++){var f=o._soundById(u[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,r,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,r,o)),u._emit("pos",p._id);else return p._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,r,o],p._node&&(p._panner||(p._pos||(p._pos=u._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,r,o)),u._emit("orientation",p._id);else return p._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(u=n._soundById(l[f]),u){var p=u._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=u._panner;g||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),g=u._panner),g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(cv);const pT={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60)||0;return`${t}:${n<10?"0":""}${n}`}},nh=jv("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof cv.Howl&&this.sound.unload(),this.current_song=e,this.sound=new cv.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){!this.sound.playing||(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=pT.formatTime(this.sound.seek()),this.duration=pT.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),qB={name:"Player",methods:{...Sh(nh,["toggleAudio","updateSeek"])},computed:{...kf(nh,["playing","duration","seek","playerProgress","current_song"])}},$B={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},HB={key:0,class:"text-center"},KB={class:"song-title font-bold"},GB={class:"song-artist"},zB={class:"flex flex-nowrap gap-4 items-center"},WB={class:"player-currenttime"},XB=j("i",{class:"fas fa-circle"},null,-1),YB=[XB],QB={class:"player-duration"};function JB(e,t,n,r,o,s){return Ze(),lt("div",$B,[e.current_song.modified_name?(Ze(),lt("div",HB,[j("span",KB,Ut(e.current_song.modified_name),1),Bo(" by "),j("span",GB,Ut(e.current_song.display_name),1)])):ea("",!0),j("div",zB,[j("button",{type:"button",onClick:t[0]||(t[0]=tn((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[j("i",{class:pn(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),j("div",WB,Ut(e.seek),1),j("div",{class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer",onClick:t[1]||(t[1]=tn((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"]))},[j("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:Js({left:e.playerProgress})},YB,4),j("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:Js({width:e.playerProgress})},null,4)]),j("div",QB,Ut(e.duration),1)])])}const ZB=ir(qB,[["render",JB]]);const eq={name:"App",components:{AppHeader:Y2,Auth:BB,AppPlayer:ZB},computed:{...WS(La,["userLoggedIn"])},created(){zr.currentUser&&(this.userLoggedIn=!0)}};function tq(e,t,n,r,o,s){const u=kt("app-header"),l=kt("router-view"),f=kt("app-player"),p=kt("auth");return Ze(),lt(Gt,null,[ke(u),ke(l,null,{default:Un(({Component:g})=>[ke(Uv,{name:"fade",mode:"out-in"},{default:Un(()=>[(Ze(),zo(wh(g)))]),_:2},1024)]),_:1}),ke(f),ke(p)],64)}const nq=ir(eq,[["render",tq]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const $s=typeof window<"u";function rq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ut=Object.assign;function cg(e,t){const n={};for(const r in t){const o=t[r];n[r]=Or(o)?o.map(e):e(o)}return n}const ju=()=>{},Or=Array.isArray,iq=/\/$/,oq=e=>e.replace(iq,"");function lg(e,t,n="/"){let r,o={},s="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=cq(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function sq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function mT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function aq(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&ba(t.matched[r],n.matched[o])&&mx(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ba(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mx(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!uq(e[n],t[n]))return!1;return!0}function uq(e,t){return Or(e)?gT(e,t):Or(t)?gT(t,e):e===t}function gT(e,t){return Or(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function cq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var pc;(function(e){e.pop="pop",e.push="push"})(pc||(pc={}));var Bu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Bu||(Bu={}));function lq(e){if(!e)if($s){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),oq(e)}const fq=/^[^#]+#/;function hq(e,t){return e.replace(fq,"#")+t}function dq(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ad=()=>({left:window.pageXOffset,top:window.pageYOffset});function pq(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=dq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function vT(e,t){return(history.state?history.state.position-t:-1)+e}const lv=new Map;function mq(e,t){lv.set(e,t)}function gq(e){const t=lv.get(e);return lv.delete(e),t}let vq=()=>location.protocol+"//"+location.host;function gx(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),mT(f,"")}return mT(n,e)+r+o}function yq(e,t,n,r){let o=[],s=[],u=null;const l=({state:m})=>{const y=gx(e,location),_=n.value,E=t.value;let I=0;if(m){if(n.value=y,t.value=m,u&&u===_){u=null;return}I=E?m.position-E.position:0}else r(y);o.forEach(T=>{T(n.value,_,{delta:I,type:pc.pop,direction:I?I>0?Bu.forward:Bu.back:Bu.unknown})})};function f(){u=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function g(){const{history:m}=window;!m.state||m.replaceState(ut({},m.state,{scroll:ad()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:p,destroy:h}}function yT(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?ad():null}}function _q(e){const{history:t,location:n}=window,r={value:gx(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,g){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:vq()+e+f;try{t[g?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[g?"replace":"assign"](m)}}function u(f,p){const g=ut({},t.state,yT(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,g,!0),r.value=f}function l(f,p){const g=ut({},o.value,t.state,{forward:f,scroll:ad()});s(g.current,g,!0);const h=ut({},yT(r.value,f,null),{position:g.position+1},p);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:u}}function wq(e){e=lq(e);const t=_q(e),n=yq(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ut({location:"",base:e,go:r,createHref:hq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function bq(e){return typeof e=="string"||e&&typeof e=="object"}function vx(e){return typeof e=="string"||typeof e=="symbol"}const Ni={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yx=Symbol("");var _T;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_T||(_T={}));function Ea(e,t){return ut(new Error,{type:e,[yx]:!0},t)}function ni(e,t){return e instanceof Error&&yx in e&&(t==null||!!(e.type&t))}const wT="[^/]+?",Eq={sensitive:!1,strict:!1,start:!0,end:!0},Iq=/[.+*?^${}()[\]/\\]/g;function Tq(e,t){const n=ut({},Eq,t),r=[];let o=n.start?"^":"";const s=[];for(const p of e){const g=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(Iq,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:E,optional:I,regexp:T}=m;s.push({name:_,repeatable:E,optional:I});const C=T||wT;if(C!==wT){y+=10;try{new RegExp(`(${C})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${_}" (${C}): `+D.message)}}let P=E?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(P=I&&p.length<2?`(?:/${P})`:"/"+P),I&&(P+="?"),o+=P,y+=20,I&&(y+=-8),E&&(y+=-20),C===".*"&&(y+=-50)}g.push(y)}r.push(g)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(p){const g=p.match(u),h={};if(!g)return null;for(let m=1;m<g.length;m++){const y=g[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let g="",h=!1;for(const m of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const y of m)if(y.type===0)g+=y.value;else if(y.type===1){const{value:_,repeatable:E,optional:I}=y,T=_ in p?p[_]:"";if(Or(T)&&!E)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const C=Or(T)?T.join("/"):T;if(!C)if(I)m.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=C}}return g||"/"}return{re:u,score:r,keys:s,parse:l,stringify:f}}function Sq(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Aq(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=Sq(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(bT(r))return 1;if(bT(o))return-1}return o.length-r.length}function bT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kq={type:0,value:""},xq=/[a-zA-Z0-9_]/;function Cq(e){if(!e)return[[]];if(e==="/")return[[kq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,f,p="",g="";function h(){!p||(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),u()):f===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:f==="("?n=2:xq.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),u(),o}function Nq(e,t,n){const r=Tq(Cq(e.path),n),o=ut(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Oq(e,t){const n=[],r=new Map;t=TT({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,m){const y=!m,_=Rq(g);_.aliasOf=m&&m.record;const E=TT(t,g),I=[_];if("alias"in g){const P=typeof g.alias=="string"?[g.alias]:g.alias;for(const D of P)I.push(ut({},_,{components:m?m.record.components:_.components,path:D,aliasOf:m?m.record:_}))}let T,C;for(const P of I){const{path:D}=P;if(h&&D[0]!=="/"){const W=h.record.path,V=W[W.length-1]==="/"?"":"/";P.path=h.record.path+(D&&V+D)}if(T=Nq(P,h,E),m?m.alias.push(T):(C=C||T,C!==T&&C.alias.push(T),y&&g.name&&!IT(T)&&u(g.name)),_.children){const W=_.children;for(let V=0;V<W.length;V++)s(W[V],T,m&&m.children[V])}m=m||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return C?()=>{u(C)}:ju}function u(g){if(vx(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function l(){return n}function f(g){let h=0;for(;h<n.length&&Aq(g,n[h])>=0&&(g.record.path!==n[h].record.path||!_x(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!IT(g)&&r.set(g.record.name,g)}function p(g,h){let m,y={},_,E;if("name"in g&&g.name){if(m=r.get(g.name),!m)throw Ea(1,{location:g});E=m.record.name,y=ut(ET(h.params,m.keys.filter(C=>!C.optional).map(C=>C.name)),g.params&&ET(g.params,m.keys.map(C=>C.name))),_=m.stringify(y)}else if("path"in g)_=g.path,m=n.find(C=>C.re.test(_)),m&&(y=m.parse(_),E=m.record.name);else{if(m=h.name?r.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw Ea(1,{location:g,currentLocation:h});E=m.record.name,y=ut({},h.params,g.params),_=m.stringify(y)}const I=[];let T=m;for(;T;)I.unshift(T.record),T=T.parent;return{name:E,path:_,params:y,matched:I,meta:Dq(I)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:p,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function ET(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Rq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Pq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Pq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function IT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Dq(e){return e.reduce((t,n)=>ut(t,n.meta),{})}function TT(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function _x(e,t){return t.children.some(n=>n===e||_x(e,n))}const wx=/#/g,Lq=/&/g,Mq=/\//g,Fq=/=/g,Vq=/\?/g,bx=/\+/g,Uq=/%5B/g,jq=/%5D/g,Ex=/%5E/g,Bq=/%60/g,Ix=/%7B/g,qq=/%7C/g,Tx=/%7D/g,$q=/%20/g;function a_(e){return encodeURI(""+e).replace(qq,"|").replace(Uq,"[").replace(jq,"]")}function Hq(e){return a_(e).replace(Ix,"{").replace(Tx,"}").replace(Ex,"^")}function fv(e){return a_(e).replace(bx,"%2B").replace($q,"+").replace(wx,"%23").replace(Lq,"%26").replace(Bq,"`").replace(Ix,"{").replace(Tx,"}").replace(Ex,"^")}function Kq(e){return fv(e).replace(Fq,"%3D")}function Gq(e){return a_(e).replace(wx,"%23").replace(Vq,"%3F")}function zq(e){return e==null?"":Gq(e).replace(Mq,"%2F")}function rh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Wq(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(bx," "),u=s.indexOf("="),l=rh(u<0?s:s.slice(0,u)),f=u<0?null:rh(s.slice(u+1));if(l in t){let p=t[l];Or(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function ST(e){let t="";for(let n in e){const r=e[n];if(n=Kq(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Or(r)?r.map(s=>s&&fv(s)):[r&&fv(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Xq(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Or(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Yq=Symbol(""),AT=Symbol(""),u_=Symbol(""),Sx=Symbol(""),hv=Symbol("");function Iu(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Di(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=h=>{h===!1?l(Ea(4,{from:n,to:t})):h instanceof Error?l(h):bq(h)?l(Ea(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},p=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(p);e.length<3&&(g=g.then(f)),g.catch(h=>l(h))})}function fg(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(Qq(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Di(p,n,r,s,u))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=rq(p)?p.default:p;s.components[u]=g;const m=(g.__vccOpts||g)[t];return m&&Di(m,n,r,s,u)()}))}}return o}function Qq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function kT(e){const t=pr(u_),n=pr(Sx),r=Ge(()=>t.resolve(Je(e.to))),o=Ge(()=>{const{matched:f}=r.value,{length:p}=f,g=f[p-1],h=n.matched;if(!g||!h.length)return-1;const m=h.findIndex(ba.bind(null,g));if(m>-1)return m;const y=xT(f[p-2]);return p>1&&xT(g)===y&&h[h.length-1].path!==y?h.findIndex(ba.bind(null,f[p-2])):m}),s=Ge(()=>o.value>-1&&t4(n.params,r.value.params)),u=Ge(()=>o.value>-1&&o.value===n.matched.length-1&&mx(n.params,r.value.params));function l(f={}){return e4(f)?t[Je(e.replace)?"replace":"push"](Je(e.to)).catch(ju):Promise.resolve()}return{route:r,href:Ge(()=>r.value.href),isActive:s,isExactActive:u,navigate:l}}const Jq=gc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:kT,setup(e,{slots:t}){const n=fi(kT(e)),{options:r}=pr(u_),o=Ge(()=>({[CT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[CT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Wo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),Zq=Jq;function e4(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function t4(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Or(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function xT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const CT=(e,t,n)=>e!=null?e:t!=null?t:n,n4=gc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=pr(hv),o=Ge(()=>e.route||r.value),s=pr(AT,0),u=Ge(()=>{let p=Je(s);const{matched:g}=o.value;let h;for(;(h=g[p])&&!h.components;)p++;return p}),l=Ge(()=>o.value.matched[u.value]);Xs(AT,Ge(()=>u.value+1)),Xs(Yq,l),Xs(hv,o);const f=Sn();return tr(()=>[f.value,l.value,e.name],([p,g,h],[m,y,_])=>{g&&(g.instances[h]=p,y&&y!==g&&p&&p===m&&(g.leaveGuards.size||(g.leaveGuards=y.leaveGuards),g.updateGuards.size||(g.updateGuards=y.updateGuards))),p&&g&&(!y||!ba(g,y)||!m)&&(g.enterCallbacks[h]||[]).forEach(E=>E(p))},{flush:"post"}),()=>{const p=o.value,g=e.name,h=l.value,m=h&&h.components[g];if(!m)return NT(n.default,{Component:m,route:p});const y=h.props[g],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,I=Wo(m,ut({},_,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return NT(n.default,{Component:I,route:p})||I}}});function NT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const r4=n4;function i4(e){const t=Oq(e.routes,e),n=e.parseQuery||Wq,r=e.stringifyQuery||ST,o=e.history,s=Iu(),u=Iu(),l=Iu(),f=fS(Ni);let p=Ni;$s&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=cg.bind(null,L=>""+L),h=cg.bind(null,zq),m=cg.bind(null,rh);function y(L,K){let te,le;return vx(L)?(te=t.getRecordMatcher(L),le=K):le=L,t.addRoute(le,te)}function _(L){const K=t.getRecordMatcher(L);K&&t.removeRoute(K)}function E(){return t.getRoutes().map(L=>L.record)}function I(L){return!!t.getRecordMatcher(L)}function T(L,K){if(K=ut({},K||f.value),typeof L=="string"){const R=lg(n,L,K.path),B=t.resolve({path:R.path},K),q=o.createHref(R.fullPath);return ut(R,B,{params:m(B.params),hash:rh(R.hash),redirectedFrom:void 0,href:q})}let te;if("path"in L)te=ut({},L,{path:lg(n,L.path,K.path).path});else{const R=ut({},L.params);for(const B in R)R[B]==null&&delete R[B];te=ut({},L,{params:h(R)}),K.params=h(K.params)}const le=t.resolve(te,K),Me=L.hash||"";le.params=g(m(le.params));const A=sq(r,ut({},L,{hash:Hq(Me),path:le.path})),x=o.createHref(A);return ut({fullPath:A,hash:Me,query:r===ST?Xq(L.query):L.query||{}},le,{redirectedFrom:void 0,href:x})}function C(L){return typeof L=="string"?lg(n,L,f.value.path):ut({},L)}function P(L,K){if(p!==L)return Ea(8,{from:K,to:L})}function D(L){return ce(L)}function W(L){return D(ut(C(L),{replace:!0}))}function V(L){const K=L.matched[L.matched.length-1];if(K&&K.redirect){const{redirect:te}=K;let le=typeof te=="function"?te(L):te;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=C(le):{path:le},le.params={}),ut({query:L.query,hash:L.hash,params:"path"in le?{}:L.params},le)}}function ce(L,K){const te=p=T(L),le=f.value,Me=L.state,A=L.force,x=L.replace===!0,R=V(te);if(R)return ce(ut(C(R),{state:typeof R=="object"?ut({},Me,R.state):Me,force:A,replace:x}),K||te);const B=te;B.redirectedFrom=K;let q;return!A&&aq(r,le,te)&&(q=Ea(16,{to:B,from:le}),Ht(le,le,!0,!1)),(q?Promise.resolve(q):k(B,le)).catch(Y=>ni(Y)?ni(Y,2)?Y:xt(Y):ve(Y,B,le)).then(Y=>{if(Y){if(ni(Y,2))return ce(ut({replace:x},C(Y.to),{state:typeof Y.to=="object"?ut({},Me,Y.to.state):Me,force:A}),K||B)}else Y=oe(B,le,!0,x,Me);return Ne(B,le,Y),Y})}function F(L,K){const te=P(L,K);return te?Promise.reject(te):Promise.resolve()}function $(L){const K=Kn.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(L):L()}function k(L,K){let te;const[le,Me,A]=o4(L,K);te=fg(le.reverse(),"beforeRouteLeave",L,K);for(const R of le)R.leaveGuards.forEach(B=>{te.push(Di(B,L,K))});const x=F.bind(null,L,K);return te.push(x),ye(te).then(()=>{te=[];for(const R of s.list())te.push(Di(R,L,K));return te.push(x),ye(te)}).then(()=>{te=fg(Me,"beforeRouteUpdate",L,K);for(const R of Me)R.updateGuards.forEach(B=>{te.push(Di(B,L,K))});return te.push(x),ye(te)}).then(()=>{te=[];for(const R of A)if(R.beforeEnter)if(Or(R.beforeEnter))for(const B of R.beforeEnter)te.push(Di(B,L,K));else te.push(Di(R.beforeEnter,L,K));return te.push(x),ye(te)}).then(()=>(L.matched.forEach(R=>R.enterCallbacks={}),te=fg(A,"beforeRouteEnter",L,K),te.push(x),ye(te))).then(()=>{te=[];for(const R of u.list())te.push(Di(R,L,K));return te.push(x),ye(te)}).catch(R=>ni(R,8)?R:Promise.reject(R))}function Ne(L,K,te){l.list().forEach(le=>$(()=>le(L,K,te)))}function oe(L,K,te,le,Me){const A=P(L,K);if(A)return A;const x=K===Ni,R=$s?history.state:{};te&&(le||x?o.replace(L.fullPath,ut({scroll:x&&R&&R.scroll},Me)):o.push(L.fullPath,Me)),f.value=L,Ht(L,K,te,x),xt()}let xe;function Ue(){xe||(xe=o.listen((L,K,te)=>{if(!me.listening)return;const le=T(L),Me=V(le);if(Me){ce(ut(Me,{replace:!0}),le).catch(ju);return}p=le;const A=f.value;$s&&mq(vT(A.fullPath,te.delta),ad()),k(le,A).catch(x=>ni(x,12)?x:ni(x,2)?(ce(x.to,le).then(R=>{ni(R,20)&&!te.delta&&te.type===pc.pop&&o.go(-1,!1)}).catch(ju),Promise.reject()):(te.delta&&o.go(-te.delta,!1),ve(x,le,A))).then(x=>{x=x||oe(le,A,!1),x&&(te.delta&&!ni(x,8)?o.go(-te.delta,!1):te.type===pc.pop&&ni(x,20)&&o.go(-1,!1)),Ne(le,A,x)}).catch(ju)}))}let ze=Iu(),ue=Iu(),je;function ve(L,K,te){xt(L);const le=ue.list();return le.length?le.forEach(Me=>Me(L,K,te)):console.error(L),Promise.reject(L)}function gt(){return je&&f.value!==Ni?Promise.resolve():new Promise((L,K)=>{ze.add([L,K])})}function xt(L){return je||(je=!L,Ue(),ze.list().forEach(([K,te])=>L?te(L):K()),ze.reset()),L}function Ht(L,K,te,le){const{scrollBehavior:Me}=e;if(!$s||!Me)return Promise.resolve();const A=!te&&gq(vT(L.fullPath,0))||(le||!te)&&history.state&&history.state.scroll||null;return Br().then(()=>Me(L,K,A)).then(x=>x&&pq(x)).catch(x=>ve(x,L,K))}const Lt=L=>o.go(L);let vt;const Kn=new Set,me={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:I,getRoutes:E,resolve:T,options:e,push:D,replace:W,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:ue.add,isReady:gt,install(L){const K=this;L.component("RouterLink",Zq),L.component("RouterView",r4),L.config.globalProperties.$router=K,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Je(f)}),$s&&!vt&&f.value===Ni&&(vt=!0,D(o.location).catch(Me=>{}));const te={};for(const Me in Ni)Object.defineProperty(te,Me,{get:()=>f.value[Me],enumerable:!0});L.provide(u_,K),L.provide(Sx,aS(te)),L.provide(hv,f);const le=L.unmount;Kn.add(L),L.unmount=function(){Kn.delete(L),Kn.size<1&&(p=Ni,xe&&xe(),xe=null,f.value=Ni,vt=!1,je=!1),le()}}};function ye(L){return L.reduce((K,te)=>K.then(()=>$(te)),Promise.resolve())}return me}function o4(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(p=>ba(p,l))?r.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(p=>ba(p,f))||o.push(f))}return[n,r,o]}const s4={name:"SongItem",props:["song"]},a4={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},u4={class:"text-gray-500 text-sm"},c4={class:"text-gray-600 text-lg"},l4=["onClick"];function f4(e,t,n,r,o,s){const u=kt("router-link");return Ze(),lt("li",a4,[j("div",null,[ke(u,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:Un(()=>[Bo(Ut(n.song.modified_name),1)]),_:1},8,["to"]),j("span",u4,Ut(n.song.display_name),1)]),j("div",c4,[ke(u,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:Un(({navigate:l})=>[j("span",{class:"comments",onClick:l},Ut(n.song.comment_count),9,l4)]),_:1},8,["to"])])])}const h4=ir(s4,[["render",f4]]),d4="/music-app/assets/introduction-music.ebd5a88b.png",p4={name:"Home",components:{AppSongItem:h4},data(){return{songs:[],maxPerPage:5,pedingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await ci.doc(this.songs[this.songs.length-1].docID).get();e=await ci.orderBy("display_name").startAfter(t).limit(this.maxPerPage).get()}else e=await ci.orderBy("display_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})}),this.pendingRequest=!1}}},m4=xD('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Up-and-Coming Artists: Discover new talent and support independent musicians making waves in the music scene. </p><p class="w-full md:w-8/12 mx-auto"> Join the music revolution today and let the rhythm of life fill your world. Embrace the future of music \u2013 start your journey with us! </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+d4+'"></section>',1),g4={class:"container mx-auto"},v4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},y4=j("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[j("span",{class:"card-title"},"Songs"),j("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),_4={id:"playlist"};function w4(e,t,n,r,o,s){const u=kt("app-song-item");return Ze(),lt("main",null,[m4,j("section",g4,[j("div",v4,[y4,j("ol",_4,[(Ze(!0),lt(Gt,null,vc(o.songs,l=>(Ze(),zo(u,{key:l.docID,song:l},null,8,["song"]))),128))])])])])}const b4=ir(p4,[["render",w4]]),E4={},I4={class:"about"},T4=j("h1",null,"This is an about page",-1),S4=[T4];function A4(e,t){return Ze(),lt("div",I4,S4)}const k4=ir(E4,[["render",A4]]),x4={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1;const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];t.forEach(n=>{if(n.type!=="audio/mpeg")return;const s=px.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[u].current_progress=f},l=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400",console.log(l)},async()=>{const l={uid:zr.currentUser.uid,display_name:zr.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL();const p=await(await ci.add(l)).get();this.addSong(p),this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400"})}),console.log(t)},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},C4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},N4=j("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[j("span",{class:"card-title"},"Upload"),j("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),O4={class:"p-6"},R4=j("h5",null,"Drop your files here",-1),P4=[R4],D4=j("hr",{class:"my-6"},null,-1),L4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function M4(e,t,n,r,o,s){return Ze(),lt("div",C4,[N4,j("div",O4,[j("div",{class:pn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=tn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=tn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=tn(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=tn(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=tn(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=tn(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=tn(u=>s.upload(u),["prevent","stop"]))},P4,34),j("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=u=>s.upload(u))},null,32),D4,(Ze(!0),lt(Gt,null,vc(o.uploads,u=>(Ze(),lt("div",{class:"mb-4",key:u.name},[j("div",{class:pn(["font-bold text-sm",u.text_class])},[j("i",{class:pn(u.icon)},null,2),Bo(Ut(u.name),1)],2),j("div",L4,[j("div",{class:pn(["transition-all progress-bar bg-blue-400",u.variant]),style:Js({width:u.current_progress+"%"})},null,6)])]))),128))])])}const F4=ir(x4,[["render",M4]]),V4={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info."}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info.";try{await ci.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later.";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await px.ref().child(`songs/${this.song.original_name}`).delete(),await ci.doc(this.song.docID).delete(),this.removeSong(this.index)}}},U4={class:"border border-gray-200 p-3 mb-4 rounded"},j4={class:"inline-block text-m font-bold"},B4=j("i",{class:"fa fa-times"},null,-1),q4=[B4],$4=j("i",{class:"fa fa-pencil-alt"},null,-1),H4=[$4],K4={class:"mb-3"},G4=j("label",{class:"inline-block mb-2"},"Song Title",-1),z4={class:"mb-3"},W4=j("label",{class:"inline-block mb-2"},"Genre",-1),X4=["disabled"],Y4=["disabled"];function Q4(e,t,n,r,o,s){const u=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return Ze(),lt("div",U4,[_g(j("div",null,[j("h4",j4,Ut(n.song.modified_name),1),j("button",{onClick:t[0]||(t[0]=tn((...p)=>s.deleteSong&&s.deleteSong(...p),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},q4),j("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=tn(p=>o.showForm=!o.showForm,["prevent"]))},H4)],512),[[OE,!o.showForm]]),o.show_alert?(Ze(),lt("div",{key:0,class:pn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Ut(o.alert_message),3)):ea("",!0),_g(j("div",null,[ke(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.edit},{default:Un(()=>[j("div",K4,[G4,ke(u,{type:"text",name:"modified_name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=p=>n.updateUnsavedFlag(!0))}),ke(l,{class:"text-red-600",name:"modified_name"})]),j("div",z4,[W4,ke(u,{type:"text",name:"genre",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=p=>n.updateUnsavedFlag(!0))}),ke(l,{class:"text-red-600",name:"genre"})]),j("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,X4),j("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=tn(p=>o.showForm=!1,["prevent"]))}," Go Back ",8,Y4)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[OE,o.showForm]])])}const J4=ir(V4,[["render",Q4]]),Z4={name:"manage",components:{AppUpload:F4,CompositionItem:J4},data(){return{songs:[],unsavedFlag:!1}},async created(){(await ci.where("uid","==",zr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modifed_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},e3={class:"container mx-auto mt-6"},t3={class:"md:grid md:grid-cols-3 md:gap-4"},n3={class:"col-span-1"},r3={class:"col-span-2"},i3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},o3=j("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[j("span",{class:"card-title"},"My Songs"),j("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),s3={class:"p-6"};function a3(e,t,n,r,o,s){const u=kt("app-upload"),l=kt("composition-item");return Ze(),lt("section",e3,[j("div",t3,[j("div",n3,[ke(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),j("div",r3,[j("div",i3,[o3,j("div",s3,[(Ze(!0),lt(Gt,null,vc(o.songs,(f,p)=>(Ze(),zo(l,{key:f.docID,song:f,updateSong:s.updateSong,index:p,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const u3=ir(Z4,[["render",a3]]),c3={name:"Song",data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submitted.",comments:[],sort:"1"}},computed:{...kf(La,["userLoggedIn"]),...kf(nh,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await ci.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{...Sh(nh,["newSong"]),async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:zr.currentUser.displayName,uid:zr.currentUser.uid};await dT.add(n),this.song.comment_count+=1,await ci.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await dT.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>[this.comments.push({docID:t.id,...t.data()})])}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},l3={class:"w-full mb-8 py-14 text-center text-white relative"},f3=j("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),h3={class:"container mx-auto flex items-center"},d3={class:"z-50 text-left ml-8"},p3={class:"text-3xl font-bold"},m3={class:"container mx-auto mt-6"},g3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},v3={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},y3={class:"card-title"},_3=j("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),w3={class:"p-6"},b3=["disabled"],E3=j("option",{value:"1"},"Latest",-1),I3=j("option",{value:"2"},"Oldest",-1),T3=[E3,I3],S3={class:"container mx-auto",id:"comments"},A3={class:"mb-5"},k3={class:"font-bold"};function x3(e,t,n,r,o,s){const u=kt("vee-field"),l=kt("ErrorMessage"),f=kt("vee-form");return Ze(),lt("main",null,[j("section",l3,[f3,j("div",h3,[j("button",{onClick:t[0]||(t[0]=tn(p=>e.newSong(o.song),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[j("i",{class:pn(["fas",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),j("div",d3,[j("div",p3,Ut(o.song.modified_name),1),j("div",null,Ut(o.song.genre),1)])])]),j("section",m3,[j("div",g3,[j("div",v3,[j("span",y3,"Comments ("+Ut(o.song.comment_count)+")",1),_3]),j("div",w3,[o.comment_show_alert?(Ze(),lt("div",{key:0,class:pn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Ut(o.comment_alert_message),3)):ea("",!0),e.userLoggedIn?(Ze(),zo(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment},{default:Un(()=>[ke(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),ke(l,{class:"text-red-600",name:"comment"}),j("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,b3)]),_:1},8,["validation-schema","onSubmit"])):ea("",!0),_g(j("select",{class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded","onUpdate:modelValue":t[1]||(t[1]=p=>o.sort=p)},T3,512),[[uL,o.sort]])])])]),j("ul",S3,[(Ze(!0),lt(Gt,null,vc(s.sortedComments,p=>(Ze(),lt("li",{class:"p-6 bg-gray-50 border border-gray-200",key:p.docID},[j("div",A3,[j("div",k3,Ut(p.name),1),j("time",null,Ut(p.datePosted),1)]),j("p",null,Ut(p.content),1)]))),128))])])}const C3=ir(c3,[["render",x3]]),N3=[{name:"home",path:"/",component:b4},{name:"about",path:"/about",component:k4},{name:"manage",path:"/manage-music",component:u3,beforeEnter:(e,t,n)=>{console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:C3},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Ax=i4({history:wq("/music-app/"),routes:N3,linkExactActiveClass:"text-yellow-500"});Ax.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}La().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function nn(e){return typeof e=="function"}function kx(e){return e==null}const ns=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function c_(e){return Number(e)>=0}function O3(e){const t=parseFloat(e);return isNaN(t)?e:t}function R3(e){return typeof e=="object"&&e!==null}function P3(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function D3(e){if(!R3(e)||P3(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ih(e,t){return Object.keys(t).forEach(n=>{if(D3(t[n])){e[n]||(e[n]={}),ih(e[n],t[n]);return}e[n]=t[n]}),e}function Nu(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(c_(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const xx={};function br(e,t){M3(e,t),xx[e]=t}function L3(e){return xx[e]}function M3(e,t){if(!nn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function OT(e,t,n){typeof n.value=="object"&&(n.value=pt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function pt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(pt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(pt(l),pt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(pt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)OT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||OT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const ud=Symbol("vee-validate-form"),F3=Symbol("vee-validate-field-instance"),oh=Symbol("Default empty value"),V3=typeof window<"u";function dv(e){return nn(e)&&!!e.__locatorRef}function Yi(e){return!!e&&nn(e.parse)&&e.__type==="VVTypedSchema"}function sh(e){return!!e&&nn(e.validate)}function Uc(e){return e==="checkbox"||e==="radio"}function U3(e){return ns(e)||Array.isArray(e)}function j3(e){return Array.isArray(e)?e.length===0:ns(e)&&Object.keys(e).length===0}function cd(e){return/^\[.+\]$/i.test(e)}function B3(e){return Cx(e)&&e.multiple}function Cx(e){return e.tagName==="SELECT"}function q3(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function $3(e,t){return!q3(e,t)&&t.type!=="file"&&!Uc(t.type)}function Nx(e){return l_(e)&&e.target&&"submit"in e.target}function l_(e){return e?!!(typeof Event<"u"&&nn(Event)&&e instanceof Event||e&&e.srcElement):!1}function RT(e,t){return t in e&&e[t]!==oh}function Nn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Nn(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Nn(r[1],t.get(r[0])))return!1;return!0}if(PT(e)&&PT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!Nn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function PT(e){return V3?e instanceof File:!1}function f_(e){return cd(e)?e.replace(/\[|\]/gi,""):e}function Mn(e,t,n){return e?cd(t)?e[f_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>U3(o)&&s in o?o[s]:n,e):n}function No(e,t,n){if(cd(t)){e[f_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||kx(o[r[s]]))&&(o[r[s]]=c_(r[s+1])?[]:{}),o=o[r[s]]}}function hg(e,t){if(Array.isArray(e)&&c_(t)){e.splice(Number(t),1);return}ns(e)&&delete e[t]}function DT(e,t){if(cd(t)){delete e[f_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){hg(r,n[s]);break}if(!(n[s]in r)||kx(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Mn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(!!j3(o[s])){if(s===0){hg(e,n[0]);continue}hg(o[s-1],n[s-1])}}function lr(e){return Object.keys(e)}function Ox(e,t=void 0){const n=yc();return(n==null?void 0:n.provides[e])||pr(e,t)}function LT(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Nn(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Nn(e,t)?n:t}function MT(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function H3(e,t){return ns(t)&&t.number?O3(e):e}function pv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function mv(e){return Array.isArray(e)?e:e?[e]:[]}function Tu(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function K3(e){let t=null,n=[];return function(...r){const o=Br(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function h_(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default}function dg(e){if(Rx(e))return e._value}function Rx(e){return"_value"in e}function G3(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function ah(e){if(!l_(e))return e;const t=e.target;if(Uc(t.type)&&Rx(t))return dg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(B3(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(dg);if(Cx(t)){const n=Array.from(t.options).find(r=>r.selected);return n?dg(n):t.value}return G3(t)}function Px(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ns(e)&&e._$$isNormalized?e:ns(e)?Object.keys(e).reduce((n,r)=>{const o=z3(e[r]);return e[r]!==!1&&(n[r]=FT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=W3(r);return o.name&&(n[o.name]=FT(o.params)),n},t):t}function z3(e){return e===!0?[]:Array.isArray(e)||ns(e)?e:[e]}function FT(e){const t=n=>typeof n=="string"&&n[0]==="@"?X3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const W3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function X3(e){const t=n=>Mn(n,e)||n[e];return t.__locatorRef=e,t}function Y3(e){return Array.isArray(e)?e.filter(dv):lr(e).filter(t=>dv(e[t])).map(t=>e[t])}const Q3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let gv=Object.assign({},Q3);const ji=()=>gv,J3=e=>{gv=Object.assign(Object.assign({},gv),e)},Z3=J3;async function Dx(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r!=null?r:!0,formData:(n==null?void 0:n.values)||{}},u=(await e$(o,e)).errors;return{errors:u,valid:!u.length}}async function e$(e,t){if(Yi(e.rules)||sh(e.rules))return n$(t,e.rules);if(nn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let g=0;g<f;g++){const h=l[g],m=await h(t,u);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))p.push(...m);else{const _=typeof m=="string"?m:Mx(u);p.push(_)}if(e.bails)return{errors:p}}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:Px(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],f=await r$(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function t$(e){return!!e&&e.name==="ValidationError"}function Lx(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!t$(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const f=l.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function n$(e,t){const r=await(Yi(t)?t:Lx(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function r$(e,t,n){const r=L3(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=i$(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:Mx(s)}}function Mx(e){const t=ji().generateMessage;return t?t(e):"Field is invalid"}function i$(e,t){const n=r=>dv(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function o$(e,t){const r=await(Yi(e)?e:Lx(e)).parse(pt(t)),o={},s={};for(const u of r.errors){const l=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(p,g)=>`[${g}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function s$(e,t,n){const o=lr(e).map(async p=>{var g,h,m;const y=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[p],_=await Dx(Mn(t,p),e[p],{name:(y==null?void 0:y.name)||p,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:p})});let s=!0;const u=await Promise.all(o),l={},f={};for(const p of u)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let VT=0;function a$(e,t){const{value:n,initialValue:r,setInitialValue:o}=u$(e,t.modelValue,t.form);if(!t.form){let m=function(_){var E;"value"in _&&(n.value=_.value),"errors"in _&&p(_.errors),"touched"in _&&(h.touched=(E=_.touched)!==null&&E!==void 0?E:h.touched),"initialValue"in _&&o(_.initialValue)};var l=m;const{errors:f,setErrors:p}=f$(),g=VT>=Number.MAX_SAFE_INTEGER?0:++VT,h=l$(n,r,f);return{id:g,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:f,setState:m}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=Ge(()=>s.errors);function l(f){var p,g,h;"value"in f&&(n.value=f.value),"errors"in f&&((p=t.form)===null||p===void 0||p.setFieldError(Je(e),f.errors)),"touched"in f&&((g=t.form)===null||g===void 0||g.setFieldTouched(Je(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:l}}function u$(e,t,n){const r=Sn(Je(t));function o(){return n?Mn(n.initialValues.value,Je(e),Je(r)):Je(r)}function s(p){if(!n){r.value=p;return}n.stageInitialValue(Je(e),p,!0)}const u=Ge(o);if(!n)return{value:Sn(o()),initialValue:u,setInitialValue:s};const l=c$(t,n,u,e);return n.stageInitialValue(Je(e),l,!0),{value:Ge({get(){return Mn(n.values,Je(e))},set(p){n.setFieldValue(Je(e),p,!1)}}),initialValue:u,setInitialValue:s}}function c$(e,t,n,r){return dt(e)?Je(e):e!==void 0?e:Mn(t.values,Je(r),Je(n))}function l$(e,t,n){const r=fi({touched:!1,pending:!1,valid:!0,validated:!!Je(n).length,initialValue:Ge(()=>Je(t)),dirty:Ge(()=>!Nn(Je(e),Je(t)))});return tr(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function f$(){const e=Sn([]);return{errors:e,setErrors:t=>{e.value=mv(t)}}}function h$(e,t,n){return Uc(n==null?void 0:n.type)?p$(e,t,n):Fx(e,t,n)}function Fx(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:g,controlled:h,keepValueOnUnmount:m,syncVModel:y,form:_}=d$(n),E=h?Ox(ud):void 0,I=_||E,T=Ge(()=>Nu(St(e))),C=Ge(()=>{if(St(I==null?void 0:I.schema))return;const ye=Je(t);return sh(ye)||Yi(ye)||nn(ye)||Array.isArray(ye)?ye:Px(ye)}),{id:P,value:D,initialValue:W,meta:V,setState:ce,errors:F,flags:$}=a$(T,{modelValue:r,form:I,bails:s,label:f,type:u,validate:C.value?ze:void 0}),k=Ge(()=>F.value[0]);y&&m$({value:D,prop:y,handleChange:ue,shouldValidate:()=>p&&!$.pendingReset});const Ne=(me,ye=!1)=>{V.touched=!0,ye&&xe()};async function oe(me){var ye,L;return I!=null&&I.validateSchema?(ye=(await I.validateSchema(me)).results[St(T)])!==null&&ye!==void 0?ye:{valid:!0,errors:[]}:C.value?Dx(D.value,C.value,{name:St(T),label:St(f),values:(L=I==null?void 0:I.values)!==null&&L!==void 0?L:{},bails:s}):{valid:!0,errors:[]}}const xe=pv(async()=>(V.pending=!0,V.validated=!0,oe("validated-only")),me=>{if(!$.pendingUnmount[vt.id])return ce({errors:me.errors}),V.pending=!1,V.valid=me.valid,me}),Ue=pv(async()=>oe("silent"),me=>(V.valid=me.valid,me));function ze(me){return(me==null?void 0:me.mode)==="silent"?Ue():xe()}function ue(me,ye=!0){const L=ah(me);xt(L,ye)}_h(()=>{if(o)return xe();(!I||!I.validateSchema)&&Ue()});function je(me){V.touched=me}function ve(me){var ye;const L=me&&"value"in me?me.value:W.value;ce({value:pt(L),initialValue:pt(L),touched:(ye=me==null?void 0:me.touched)!==null&&ye!==void 0?ye:!1,errors:(me==null?void 0:me.errors)||[]}),V.pending=!1,V.validated=!1,Ue()}const gt=yc();function xt(me,ye=!0){D.value=gt&&y?H3(me,gt.props.modelModifiers):me,(ye?xe:Ue)()}function Ht(me){ce({errors:Array.isArray(me)?me:[me]})}const Lt=Ge({get(){return D.value},set(me){xt(me,p)}}),vt={id:P,name:T,label:f,value:Lt,meta:V,errors:F,errorMessage:k,type:u,checkedValue:l,uncheckedValue:g,bails:s,keepValueOnUnmount:m,resetField:ve,handleReset:()=>ve(),validate:ze,handleChange:ue,handleBlur:Ne,setState:ce,setTouched:je,setErrors:Ht,setValue:xt};if(Xs(F3,vt),dt(t)&&typeof Je(t)!="function"&&tr(t,(me,ye)=>{Nn(me,ye)||(V.validated?xe():Ue())},{deep:!0}),!I)return vt;const Kn=Ge(()=>{const me=C.value;return!me||nn(me)||sh(me)||Yi(me)||Array.isArray(me)?{}:Object.keys(me).reduce((ye,L)=>{const K=Y3(me[L]).map(te=>te.__locatorRef).reduce((te,le)=>{const Me=Mn(I.values,le)||I.values[le];return Me!==void 0&&(te[le]=Me),te},{});return Object.assign(ye,K),ye},{})});return tr(Kn,(me,ye)=>{if(!Object.keys(me).length)return;!Nn(me,ye)&&(V.validated?xe():Ue())}),Pv(()=>{var me;const ye=(me=St(vt.keepValueOnUnmount))!==null&&me!==void 0?me:St(I.keepValuesOnUnmount),L=St(T);if(ye||!I||$.pendingUnmount[vt.id]){I==null||I.removePathState(L,P);return}$.pendingUnmount[vt.id]=!0;const K=I.getPathState(L);if(!!(Array.isArray(K==null?void 0:K.id)&&(K==null?void 0:K.multiple)?K==null?void 0:K.id.includes(vt.id):(K==null?void 0:K.id)===vt.id)){if((K==null?void 0:K.multiple)&&Array.isArray(K.value)){const le=K.value.findIndex(Me=>Nn(Me,St(vt.checkedValue)));if(le>-1){const Me=[...K.value];Me.splice(le,1),I.setFieldValue(L,Me)}Array.isArray(K.id)&&K.id.splice(K.id.indexOf(vt.id),1)}else I.unsetPathValue(St(T));I.removePathState(L,P)}}),vt}function d$(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?vv(yc(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u!=null?u:!0,checkedValue:s,syncVModel:l})}function p$(e,t,n){const r=n!=null&&n.standalone?void 0:Ox(ud),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const f=l.handleChange,p=Ge(()=>{const h=St(l.value),m=St(o);return Array.isArray(h)?h.findIndex(y=>Nn(y,m))>=0:Nn(m,h)});function g(h,m=!0){var y,_;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}const E=St(e),I=r==null?void 0:r.getPathState(E),T=ah(h);let C=(_=St(o))!==null&&_!==void 0?_:T;r&&(I==null?void 0:I.multiple)&&I.type==="checkbox"?C=LT(Mn(r.values,E)||[],C,void 0):(n==null?void 0:n.type)==="checkbox"&&(C=LT(St(l.value),C,St(s))),f(C,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(Fx(e,t,n))}function m$({prop:e,value:t,handleChange:n,shouldValidate:r}){const o=yc();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in o.props&&(tr(t,l=>{Nn(l,vv(o,s))||o.emit(u,l)}),tr(()=>vv(o,s),l=>{if(l===oh&&t.value===void 0)return;const f=l===oh?void 0:l;Nn(f,t.value)||n(f,r())}))}function vv(e,t){if(!!e)return e.props[t]}const g$=gc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>ji().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:oh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Li(e,"rules"),r=Li(e,"name"),o=Li(e,"label"),s=Li(e,"uncheckedValue"),u=Li(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:g,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:E,meta:I,checked:T,setErrors:C}=h$(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:y$(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),P=function($,k=!0){h($,k)},D=Ge(()=>{const{validateOnInput:F,validateOnChange:$,validateOnBlur:k,validateOnModelUpdate:Ne}=v$(e);function oe(ue){m(ue,k),nn(t.attrs.onBlur)&&t.attrs.onBlur(ue)}function xe(ue){P(ue,F),nn(t.attrs.onInput)&&t.attrs.onInput(ue)}function Ue(ue){P(ue,$),nn(t.attrs.onChange)&&t.attrs.onChange(ue)}const ze={name:e.name,onBlur:oe,onInput:xe,onChange:Ue};return ze["onUpdate:modelValue"]=ue=>P(ue,Ne),ze}),W=Ge(()=>{const F=Object.assign({},D.value);Uc(t.attrs.type)&&T&&(F.checked=T.value);const $=UT(e,t);return $3($,t.attrs)&&(F.value=f.value),F}),V=Ge(()=>Object.assign(Object.assign({},D.value),{modelValue:f.value}));function ce(){return{field:W.value,componentField:V.value,value:f.value,meta:I,errors:l.value,errorMessage:p.value,validate:g,resetField:_,handleChange:P,handleInput:F=>P(F,!1),handleReset:E,handleBlur:D.value.onBlur,setTouched:y,setErrors:C}}return t.expose({setErrors:C,setTouched:y,reset:_,validate:g,handleChange:h}),()=>{const F=wh(UT(e,t)),$=h_(F,t,ce);return F?Wo(F,Object.assign(Object.assign({},t.attrs),W.value),$):$}}});function UT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function v$(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:f}=ji();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function y$(e,t){return Uc(t.attrs.type)?RT(e,"modelValue")?e.modelValue:void 0:RT(e,"modelValue")?e.modelValue:t.attrs.value}const _$=g$;let w$=0;const Su=["bails","fieldsCount","id","multiple","type","validate"];function Vx(e){const t=Je(e==null?void 0:e.initialValues)||{},n=Je(e==null?void 0:e.validationSchema);return n&&Yi(n)&&nn(n.cast)?pt(n.cast(t)||{}):pt(t)}function b$(e){var t;const n=w$++;let r=0;const o=Sn(!1),s=Sn(!1),u=Sn(0),l=[],f=fi(Vx(e)),p=Sn([]),g=Sn({}),h=Sn({}),m=K3(()=>{h.value=p.value.reduce((O,N)=>(O[Nu(St(N.path))]=N,O),{})});function y(O,N){const z=ue(O);if(!z){typeof O=="string"&&(g.value[Nu(O)]=mv(N));return}if(typeof O=="string"){const se=Nu(O);g.value[se]&&delete g.value[se]}z.errors=mv(N),z.valid=!z.errors.length}function _(O){lr(O).forEach(N=>{y(N,O[N])})}e!=null&&e.initialErrors&&_(e.initialErrors);const E=Ge(()=>{const O=p.value.reduce((N,z)=>(z.errors.length&&(N[z.path]=z.errors),N),{});return Object.assign(Object.assign({},g.value),O)}),I=Ge(()=>lr(E.value).reduce((O,N)=>{const z=E.value[N];return z!=null&&z.length&&(O[N]=z[0]),O},{})),T=Ge(()=>p.value.reduce((O,N)=>(O[N.path]={name:N.path||"",label:N.label||""},O),{})),C=Ge(()=>p.value.reduce((O,N)=>{var z;return O[N.path]=(z=N.bails)!==null&&z!==void 0?z:!0,O},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),D=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:W,originalInitialValues:V,setInitialValues:ce}=I$(p,f,e),F=E$(p,f,V,I),$=Ge(()=>p.value.reduce((O,N)=>{const z=Mn(f,N.path);return No(O,N.path,z),O},{})),k=e==null?void 0:e.validationSchema;function Ne(O,N){var z,se;const de=Ge(()=>Mn(W.value,St(O))),Re=h.value[St(O)];if(Re){((N==null?void 0:N.type)==="checkbox"||(N==null?void 0:N.type)==="radio")&&(Re.multiple=!0);const un=r++;return Array.isArray(Re.id)?Re.id.push(un):Re.id=[Re.id,un],Re.fieldsCount++,Re.__flags.pendingUnmount[un]=!1,Re}const $e=Ge(()=>Mn(f,St(O))),De=St(O),Be=r++,Fe=fi({id:Be,path:O,touched:!1,pending:!1,valid:!0,validated:!!(!((z=P[De])===null||z===void 0)&&z.length),initialValue:de,errors:fS([]),bails:(se=N==null?void 0:N.bails)!==null&&se!==void 0?se:!1,label:N==null?void 0:N.label,type:(N==null?void 0:N.type)||"default",value:$e,multiple:!1,__flags:{pendingUnmount:{[Be]:!1},pendingReset:!1},fieldsCount:1,validate:N==null?void 0:N.validate,dirty:Ge(()=>!Nn(Je($e),Je(de)))});return p.value.push(Fe),h.value[De]=Fe,m(),I.value[De]&&!P[De]&&Br(()=>{ne(De,{mode:"silent"})}),dt(O)&&tr(O,un=>{m();const cn=pt($e.value);h.value[un]=Fe,Br(()=>{No(f,un,cn)})}),Fe}const oe=MT(_e,5),xe=MT(_e,5),Ue=pv(async O=>await O==="silent"?oe():xe(),(O,[N])=>{const z=lr(ye.errorBag.value);return[...new Set([...lr(O.results),...p.value.map(de=>de.path),...z])].sort().reduce((de,Re)=>{const $e=Re,De=ue($e)||je($e),Be=(O.results[$e]||{errors:[]}).errors,Fe={errors:Be,valid:!Be.length};return de.results[$e]=Fe,Fe.valid||(de.errors[$e]=Fe.errors[0]),De&&g.value[$e]&&delete g.value[$e],De?(De.valid=Fe.valid,N==="silent"||N==="validated-only"&&!De.validated||y(De,Fe.errors),de):(y($e,Be),de)},{valid:O.valid,results:{},errors:{}})});function ze(O){p.value.forEach(O)}function ue(O){const N=typeof O=="string"?Nu(O):O;return typeof N=="string"?h.value[N]:N}function je(O){return p.value.filter(z=>O.startsWith(z.path)).reduce((z,se)=>z?se.path.length>z.path.length?se:z:se,void 0)}let ve=[],gt;function xt(O){return ve.push(O),gt||(gt=Br(()=>{[...ve].sort().reverse().forEach(z=>{DT(f,z)}),ve=[],gt=null})),gt}function Ht(O){return function(z,se){return function(Re){return Re instanceof Event&&(Re.preventDefault(),Re.stopPropagation()),ze($e=>$e.touched=!0),o.value=!0,u.value++,Z().then($e=>{const De=pt(f);if($e.valid&&typeof z=="function"){const Be=pt($.value);let Fe=O?Be:De;return $e.values&&(Fe=$e.values),z(Fe,{evt:Re,controlledValues:Be,setErrors:_,setFieldError:y,setTouched:q,setFieldTouched:A,setValues:te,setFieldValue:L,resetForm:ie,resetField:Y})}!$e.valid&&typeof se=="function"&&se({values:De,evt:Re,errors:$e.errors,results:$e.results})}).then($e=>(o.value=!1,$e),$e=>{throw o.value=!1,$e})}}}const vt=Ht(!1);vt.withControlled=Ht(!0);function Kn(O,N){const z=p.value.findIndex(de=>de.path===O),se=p.value[z];if(!(z===-1||!se)){if(Br(()=>{ne(O,{mode:"silent",warn:!1})}),se.multiple&&se.fieldsCount&&se.fieldsCount--,Array.isArray(se.id)){const de=se.id.indexOf(N);de>=0&&se.id.splice(de,1),delete se.__flags.pendingUnmount[N]}(!se.multiple||se.fieldsCount<=0)&&(p.value.splice(z,1),J(O),m(),delete h.value[O])}}function me(O){return ze(N=>{N.path.startsWith(O)&&lr(N.__flags.pendingUnmount).forEach(z=>{N.__flags.pendingUnmount[z]=!0})})}const ye={formId:n,values:f,controlledValues:$,errorBag:E,errors:I,schema:k,submitCount:u,meta:F,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:D,validateSchema:Je(k)?Ue:void 0,validate:Z,setFieldError:y,validateField:ne,setFieldValue:L,setValues:te,setErrors:_,setFieldTouched:A,setTouched:q,resetForm:ie,resetField:Y,handleSubmit:vt,stageInitialValue:be,unsetInitialValue:J,setFieldInitialValue:fe,useFieldModel:Me,createPathState:Ne,getPathState:ue,unsetPathValue:xt,removePathState:Kn,initialValues:W,getAllPathStates:()=>p.value,markForUnmount:me,isFieldTouched:x,isFieldDirty:R,isFieldValid:B};function L(O,N,z=!0){const se=pt(N),de=typeof O=="string"?O:O.path;ue(de)||Ne(de),No(f,de,se),z&&ne(de)}function K(O,N=!0){lr(f).forEach(z=>{delete f[z]}),lr(O).forEach(z=>{L(z,O[z],!1)}),N&&Z()}function te(O,N=!0){ih(f,O),l.forEach(z=>z&&z.reset()),N&&Z()}function le(O){const N=ue(Je(O))||Ne(O);return Ge({get(){return N.value},set(z){const se=Je(O);L(se,z,!1),N.validated=!0,N.pending=!0,ne(se).then(()=>{N.pending=!1})}})}function Me(O){return Array.isArray(O)?O.map(le):le(O)}function A(O,N){const z=ue(O);z&&(z.touched=N)}function x(O){var N;return!!(!((N=ue(O))===null||N===void 0)&&N.touched)}function R(O){var N;return!!(!((N=ue(O))===null||N===void 0)&&N.dirty)}function B(O){var N;return!!(!((N=ue(O))===null||N===void 0)&&N.valid)}function q(O){if(typeof O=="boolean"){ze(N=>{N.touched=O});return}lr(O).forEach(N=>{A(N,!!O[N])})}function Y(O,N){var z;const se=N&&"value"in N?N.value:Mn(W.value,O),de=ue(O);de&&(de.__flags.pendingReset=!0),fe(O,pt(se)),L(O,se,!1),A(O,(z=N==null?void 0:N.touched)!==null&&z!==void 0?z:!1),y(O,(N==null?void 0:N.errors)||[]),Br(()=>{de&&(de.__flags.pendingReset=!1)})}function ie(O,N){let z=O!=null&&O.values?O.values:V.value;z=Yi(k)&&nn(k.cast)?k.cast(z):z,ce(z),ze(se=>{var de;se.__flags.pendingReset=!0,se.validated=!1,se.touched=((de=O==null?void 0:O.touched)===null||de===void 0?void 0:de[se.path])||!1,L(se.path,Mn(z,se.path),!1),y(se.path,void 0)}),N!=null&&N.force?K(z,!1):te(z,!1),_((O==null?void 0:O.errors)||{}),u.value=(O==null?void 0:O.submitCount)||0,Br(()=>{Z({mode:"silent"}),ze(se=>{se.__flags.pendingReset=!1})})}async function Z(O){const N=(O==null?void 0:O.mode)||"force";if(N==="force"&&ze(Re=>Re.validated=!0),ye.validateSchema)return ye.validateSchema(N);s.value=!0;const z=await Promise.all(p.value.map(Re=>Re.validate?Re.validate(O).then($e=>({key:Re.path,valid:$e.valid,errors:$e.errors})):Promise.resolve({key:Re.path,valid:!0,errors:[]})));s.value=!1;const se={},de={};for(const Re of z)se[Re.key]={valid:Re.valid,errors:Re.errors},Re.errors.length&&(de[Re.key]=Re.errors[0]);return{valid:z.every(Re=>Re.valid),results:se,errors:de}}async function ne(O,N){var z;const se=ue(O);if(se&&(N==null?void 0:N.mode)!=="silent"&&(se.validated=!0),k){const{results:de}=await Ue((N==null?void 0:N.mode)||"validated-only");return de[O]||{errors:[],valid:!0}}return se!=null&&se.validate?se.validate(N):(!se&&(z=N==null?void 0:N.warn),Promise.resolve({errors:[],valid:!0}))}function J(O){DT(W.value,O)}function be(O,N,z=!1){fe(O,N),No(f,O,N),z&&!(e!=null&&e.initialValues)&&No(V.value,O,pt(N))}function fe(O,N){No(W.value,O,pt(N))}async function _e(){const O=Je(k);if(!O)return{valid:!0,results:{},errors:{}};s.value=!0;const N=sh(O)||Yi(O)?await o$(O,f):await s$(O,f,{names:T.value,bailsMap:C.value});return s.value=!1,N}const Oe=vt((O,{evt:N})=>{Nx(N)&&N.target.submit()});_h(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&q(e.initialTouched),e!=null&&e.validateOnMount){Z();return}ye.validateSchema&&ye.validateSchema("silent")}),dt(k)&&tr(k,()=>{var O;(O=ye.validateSchema)===null||O===void 0||O.call(ye,"validated-only")}),Xs(ud,ye);function Ke(O,N){const z=ue(St(O))||Ne(O),se=()=>nn(N)?N(Tu(z,Su)):N||{};function de(){var De;z.touched=!0,((De=se().validateOnBlur)!==null&&De!==void 0?De:ji().validateOnBlur)&&ne(z.path)}function Re(De){var Be;const Fe=(Be=se().validateOnModelUpdate)!==null&&Be!==void 0?Be:ji().validateOnModelUpdate;L(z.path,De,Fe)}return Ge(()=>{if(nn(N)){const Fe=N(z),un=Fe.model||"modelValue";return Object.assign({onBlur:de,[un]:z.value,[`onUpdate:${un}`]:Re},Fe.props||{})}const De=(N==null?void 0:N.model)||"modelValue",Be={onBlur:de,[De]:z.value,[`onUpdate:${De}`]:Re};return N!=null&&N.mapProps?Object.assign(Object.assign({},Be),N.mapProps(Tu(z,Su))):Be})}function Ie(O,N){const z=ue(St(O))||Ne(O),se=()=>nn(N)?N(Tu(z,Su)):N||{};function de(){var Be;z.touched=!0,((Be=se().validateOnBlur)!==null&&Be!==void 0?Be:ji().validateOnBlur)&&ne(z.path)}function Re(Be){var Fe;const un=ah(Be),cn=(Fe=se().validateOnInput)!==null&&Fe!==void 0?Fe:ji().validateOnInput;L(z.path,un,cn)}function $e(Be){var Fe;const un=ah(Be),cn=(Fe=se().validateOnChange)!==null&&Fe!==void 0?Fe:ji().validateOnChange;L(z.path,un,cn)}return Ge(()=>{const Be={value:z.value,onChange:$e,onInput:Re,onBlur:de};return nn(N)?Object.assign(Object.assign({},Be),N(Tu(z,Su)).attrs||{}):N!=null&&N.mapAttrs?Object.assign(Object.assign({},Be),N.mapAttrs(Tu(z,Su))):Be})}return Object.assign(Object.assign({},ye),{values:kv(f),handleReset:()=>ie(),submitForm:Oe,defineComponentBinds:Ke,defineInputBinds:Ie})}function E$(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Ge(()=>!Nn(t,Je(n)));function u(){const f=e.value;return lr(o).reduce((p,g)=>{const h=o[g];return p[g]=f[h](m=>m[g]),p},{})}const l=fi(u());return GP(()=>{const f=u();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Ge(()=>Object.assign(Object.assign({initialValues:Je(n)},l),{valid:l.valid&&!lr(r.value).length,dirty:s.value}))}function I$(e,t,n){const r=Vx(n),o=n==null?void 0:n.initialValues,s=Sn(r),u=Sn(pt(r));function l(f,p=!1){s.value=ih(pt(s.value)||{},pt(f)),u.value=ih(pt(u.value)||{},pt(f)),p&&e.value.forEach(g=>{if(g.touched)return;const m=Mn(s.value,g.path);No(t,g.path,pt(m))})}return dt(o)&&tr(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:l}}const T$=gc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Li(e,"initialValues"),r=Li(e,"validationSchema"),o=Li(e,"keepValues"),{errors:s,errorBag:u,values:l,meta:f,isSubmitting:p,isValidating:g,submitCount:h,controlledValues:m,validate:y,validateField:_,handleReset:E,resetForm:I,handleSubmit:T,setErrors:C,setFieldError:P,setFieldValue:D,setValues:W,setFieldTouched:V,setTouched:ce,resetField:F}=b$({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),$=T((je,{evt:ve})=>{Nx(ve)&&ve.target.submit()},e.onInvalidSubmit),k=e.onSubmit?T(e.onSubmit,e.onInvalidSubmit):$;function Ne(je){l_(je)&&je.preventDefault(),E(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function oe(je,ve){return T(typeof je=="function"&&!ve?je:ve,e.onInvalidSubmit)(je)}function xe(){return pt(l)}function Ue(){return pt(f.value)}function ze(){return pt(s.value)}function ue(){return{meta:f.value,errors:s.value,errorBag:u.value,values:l,isSubmitting:p.value,isValidating:g.value,submitCount:h.value,controlledValues:m.value,validate:y,validateField:_,handleSubmit:oe,handleReset:E,submitForm:$,setErrors:C,setFieldError:P,setFieldValue:D,setValues:W,setFieldTouched:V,setTouched:ce,resetForm:I,resetField:F,getValues:xe,getMeta:Ue,getErrors:ze}}return t.expose({setFieldError:P,setErrors:C,setFieldValue:D,setValues:W,setFieldTouched:V,setTouched:ce,resetForm:I,validate:y,validateField:_,resetField:F,getValues:xe,getMeta:Ue,getErrors:ze}),function(){const ve=e.as==="form"?e.as:e.as?wh(e.as):null,gt=h_(ve,t,ue);return ve?Wo(ve,Object.assign(Object.assign(Object.assign({},ve==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:k,onReset:Ne}),gt):gt}}}),S$=T$,A$=gc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=pr(ud,void 0),r=Ge(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?wh(e.as):e.as,u=h_(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u==null?void 0:u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?Wo(s||"span",l,r.value):Wo(s,l,u)}}}),k$=A$;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const uf={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},x$=e=>{if(!!e)return Array.isArray(e)?e[0]:e.locale};function jc(e,t){return Array.isArray(e)?e[0]:e[t]}function ro(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Ux=(e,t)=>{if(ro(e))return!0;const n=x$(t);if(Array.isArray(e))return e.every(o=>Ux(o,{locale:n}));const r=String(e);return n?(uf[n]||uf.en).test(r):Object.keys(uf).some(o=>uf[o].test(r))},C$=(e,t)=>{const n=jc(t,"target");return String(e)===String(n)},N$=e=>{if(ro(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function O$(e){return e==null}function R$(e){return Array.isArray(e)&&e.length===0}const jx=(e,t)=>{if(ro(e))return!0;const n=jc(t,"length");return Array.isArray(e)?e.every(r=>jx(r,{length:n})):[...String(e)].length<=Number(n)},Bx=(e,t)=>{if(ro(e))return!0;const n=jc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>Bx(r,{max:n})):Number(e)<=Number(n)},qx=(e,t)=>{if(ro(e))return!0;const n=jc(t,"length");return Array.isArray(e)?e.every(r=>qx(r,{length:n})):[...String(e)].length>=Number(n)},$x=(e,t)=>{if(ro(e))return!0;const n=jc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>$x(r,{min:n})):Number(e)>=Number(n)},Hx=(e,t)=>ro(e)?!0:Array.isArray(e)?e.every(n=>Hx(n,t)):Array.from(t).some(n=>n==e),jT=(e,t)=>ro(e)?!0:!Hx(e,t),BT=e=>O$(e)||R$(e)||e===!1?!1:!!String(e).trim().length,P$={install(e){e.component("VeeForm",S$),e.component("VeeField",_$),e.component("ErrorMessage",k$),br("required",BT),br("tos",BT),br("min",qx),br("max",jx),br("alpha_spaces",Ux),br("email",N$),br("min_value",$x),br("max_value",Bx),br("passwords_mismatch",C$),br("excluded",jT),br("country_excluded",jT),Z3({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the filed ${t.field}.`,country_excluded:"Due to restrictions, we do not accept uesrs from this location",passwords_mismatch:"The password don't match.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Us;zr.onAuthStateChanged(()=>{Us||(Us=dL(nq),Us.use(gL()),Us.use(Ax),Us.use(P$),Us.mount("#app"))});
